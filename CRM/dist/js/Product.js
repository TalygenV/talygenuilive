(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Product"],{"37ce":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("tg-list",{ref:"tgList",attrs:{IsShowAction:!0,showCheckBox:!0,ModuleName:"CRM",SubModuleCode:"CRM_ITEMS",IdentityColumn:"asset_catalogue_id",HeaderText:e.$t("Products"),ListData:e.ProductData,HeaderData:e.Headers,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,NorecordfoundText:e.$t("NoRecordfound"),ViewList:e.ViewList,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchData,LegendArray:e.LegendArray,IsFilterApplied:!!e.searchCondition,SortExp:e.SortExp,SortBy:e.SortBy,CurrentPageNumber:e.PageNumber},on:{ApplyView:e.OnApplyView,LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["status_id"==i.column.COLUMN_NAME?[e.isCRMShowStausDrop(i.row.status_id,"CRM_ITEMS")?a("listing-status",{ref:"updatestatus",attrs:{isfor:"CRM_ITEMS",dataid:i.row.asset_catalogue_id,"data-controller":"Crm",statuslist:e.StatusListForListing,item:i,"data-action":"index",dataselected:i.row.status_id,callbackfunction:e.FetchData,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(i.row.status_id,"CRM_ITEMS")?e._e():a("a",{staticClass:"inactive-disabled"},[a("span",{class:e.getStatusClass(i.row.status_id,"status_id")},[e._v(" "+e._s(i.row[i.column.COLUMN_NAME])+" ")])])]:e._e()]}}])}),e.closeFilter?a("searchfilter",{attrs:{submodulecode:"CRM_ITEMS",modulename:"CRM",callbackfunction:e.FetchData},on:{close:function(t){e.closeFilter=!1},FilterData:e.FilterData}},[a("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])]):e._e(),e.ShowManageView?a("viewlayout",{directives:[{name:"show",rawName:"v-show",value:e.ShowManageView,expression:"ShowManageView"}],attrs:{submodulecode:"CRM_ITEMS",modulename:"CRM",callbackfunction:e.FetchData,usertype:e.usertype},on:{close:function(t){e.ShowManageView=!1}}},[a("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])]):e._e()],1)},s=[],o=a("53ca"),n=a("5530"),r=a("c7eb"),l=a("1da1"),c=(a("d3b7"),a("159b"),a("a434"),a("e9c4"),a("c740"),a("cdd5")),d=a("fc0b"),u=[{title:"Reset",iconClass:"fa-filter text-danger",callbackfunction:"removeFilter",href:"",additionalClass:"",isdisabled:!1,isvisible:!1,checkPrivilege:!1},{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"setTourGuideSteps",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Filters",iconClass:"fa-filter",callbackfunction:"openFilterPopUp",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Add Product",iconClass:"fa-plus",href:"/CRM/ManageProductAdd/0/0",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddProducts"},{title:"Export To Excel",iconClass:"fa-file-excel-o",callbackfunction:"downloadExceldata",href:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0}],h=[{fieldName:"Name",fieldType:"text",fieldIcon:"fa-file",fieldSearchConditionName:["NAME"],isSearch:!1,value:"",listOptions:[]}],p=[{title:"View",href:"/CRM/ViewItemDetails/{asset_catalogue_id}/CRM/CRM_ITEMS",icon:"fa fa-eye action-icon",additionalSpan:""},{title:"Edit",href:"/CRM/ManageProductEdit/{asset_catalogue_id}/0",icon:"fa fa-pencil text-success action-icon",additionalSpan:""}],m={buttons:u,leftsearchSchema:h,listActions:p},f=a("9769"),S={components:{viewlayout:c["a"],searchfilter:d["a"]},data:function(){return{isLoading:!1,listheaderbuttons:m.buttons,leftSearchFields:m.leftsearchSchema,ProductData:null,Headers:null,listActions:m.listActions,TotalRecords:0,pageNumber:1,pageSize:10,sortBy:"",SortBy:"",sortExp:"",SortExp:"",PageSizeOption:null,CurrentPage:1,TotalPages:0,item:null,statusId:null,subModuleCode:"CRM_ITEMS",moduleName:"CRM",langCode:null,searchCondition:null,StatusListForListing:null,closeFilter:!1,ShowManageView:!1,LegendArray:[],LoggedinUserId:null,usertype:null,appliedFilter:[],ViewList:[],ViewListId:""}},created:function(){var e=this;e.LoggedinUserId=e.GetUserInfo.ID,e.usertype=e.GetUserInfo.UserType,e.getStatuslistForListing("Items","en"),e.FetchData(),e.GetDdlRecords_ViewList()},methods:{GetDdlRecords_ViewList:function(){var e=Object(l["a"])(Object(r["a"])().mark((function e(){var t,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.ViewList=[],a="moduleName=CRM&subModuleCode=CRM_ITEMS&viewId=0&pageSize=100&pageNum=1&sortBy=&sortExp=",e.next=5,f["a"].GetViewList(a).then((function(e){e.data&&"undefined"!=typeof e.data.DATA&&(t.ViewList=e.data.DATA);var a=0;t.ViewListId="0",null==t.ViewList||""==t.ViewList||t.ViewList.forEach((function(e){e.IS_SLECTED_USER_ID>0&&(a+=1,t.ViewListId=e.VIEW_ID)}));var i=0;a>0?t.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):null==t.ViewList||""==t.ViewList?t.ViewList.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):t.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}),setTimeout((function(){t.ViewListId>0?t.$refs.tgList.$refs.tgListHeaderButtons.ViewListId=t.ViewListId:t.$refs.tgList.$refs.tgListHeaderButtons.ViewListId="0"}),1e3)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),DefaultView:function(){var e=this,t={ModuleName:"CRM",SubmoduleCode:"CRM_ITEMS"},a=JSON.stringify(t);f["a"].ClearView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ShowAlert(e.$t("ClearSuccess",[e.$t("DefaultView")]),"success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))},OnApplyView:function(e){var t=this;if("0"==e)t.DefaultView();else{var a={ViewId:e,ModuleName:"CRM",SubmoduleCode:"CRM_ITEMS"},i=JSON.stringify(a);f["a"].ApplyView(i).then((function(e){null!=e.data&&("1"==e.data.code||"1"==e.data.Code)?(t.ShowAlert(t.$t("ApplySuccess",[t.$t("View")]),"success",!0,t.$t("Alert")),t.$emit("RefreshManageView"),t.FetchData()):t.ShowAlert(t.$t("AddedError",[t.$t("View")]),"failure",!0,t.$t("Alert"))}))}},actionButtonClick:function(){},renderActions:function(e){var t=this,a=[];return t.listActions.forEach((function(e){var t=Object(n["a"])({},e);switch(t.title){case"View":case"Edit":default:t.isVisible=!0;break}a.push(t)})),a},clickEventOfColumn:function(e,t){"name"!=t.COLUMN_NAME&&"View"!=t.COLUMN_NAME||this.$router.push({path:"/CRM/ViewItemDetails/"+e.asset_catalogue_id+"/CRM/CRM_ITEMS"}),"Edit"==t.COLUMN_NAME&&this.$router.push({path:"/CRM/Manage/"+e.asset_catalogue_id+"/CRM/CRM_CONTACTS"})},commonHeaderButtonClick:function(e){switch(console.log("buttom click value",e),e.callbackfunction){case"downloadExceldata":this.FetchData(!0);break;case"ManageView":this.ManageView();break;case"openFilterPopUp":this.openFilterPopUp();break;case"setTourGuideSteps":this.setTourGuideSteps(0);break;case"commonDeleteData":this.commonDeleteData();break;case"removeFilter":var t=this;this.searchCondition="";var a=t.listheaderbuttons.findIndex((function(e){return"removeFilter"===e.callbackfunction}));t.listheaderbuttons[a].isvisible=!1;var i=t.listheaderbuttons.findIndex((function(e){return"openFilterPopUp"===e.callbackfunction}));t.listheaderbuttons[i].iconClass="fa fa-filter";try{t.appliedFilter=[]}catch(s){}t.FetchData();break}},getStatuslistForListing:function(e,t){var a=this,i="langCode="+t+"&statusType="+e+"&hasglobal=true";f["a"].statusdropdown(i).then((function(e){if("Success"==e.data.status){var t=e.data.result;a.StatusListForListing=t.data}}))},getRequestParams:function(e,t,a,i,s,o,n,r,l,c){var d={};return e&&(d["item"]=e),t&&(d["statusId"]=t),a&&(d["subModuleCode"]=a),i&&(d["moduleName"]=i),s&&(d["sortBy"]=s),o&&(d["sortExp"]=o),n&&(d["pageSize"]=n),r&&(d["pageNumber"]=r),l&&(d["langCode"]=l),c&&(d["searchCondition"]=c),d},commonDeleteData:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("CRM_ITEMS"),(function(){var e={ids:a,moduleName:"CRM",subModuleCode:"CRM_ITEMS"},i=JSON.stringify(e);f["a"].CommonDeleteData(i).then((function(e){200==e.status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Product")]),"success",!0,t.$t("Alert")),t.PageNumber=parseInt(t.PageNumber)-1,t.PageNumber<=0&&(t.PageNumber=1),t.FetchData()):t.ShowAlert(t.$t("DeletedError",[t.$t("Product")]),"failure",!0,t.$t("Alert"))}))})):t.ShowAlert(t.$t("Selectanyrecordtodelete"))},FetchData:function(e){var t=this.getRequestParams(this.item,this.statusId,this.subModuleCode,this.moduleName,this.sortBy,this.sortExp,this.pageSize,this.pageNumber,this.langCode,this.searchCondition),a=this;a.isLoading=!0,t.item=a.item,t.statusId=a.statusId,t.subModuleCode="CRM_ITEMS",t.moduleName="CRM",t.langCode=a.langCode,t.pageSize=e?a.TotalRecords:a.pageSize,a.PageNumber?t.pageNum=a.PageNumber:a.PageNumber=t.pageNum=1,t.sortBy=a.sortBy,t.sortExp=a.sortExp;var i="";if(this.isBlank(this.searchCondition)||(i+=this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(i+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),""!=i){if(t.searchCondition=i,a.appliedFilter.length>0){var s=a.listheaderbuttons.findIndex((function(e){return"removeFilter"===e.callbackfunction}));a.listheaderbuttons[s].isvisible=!0;var o=a.listheaderbuttons.findIndex((function(e){return"openFilterPopUp"===e.callbackfunction}));a.listheaderbuttons[o].iconClass="fa fa-filter text-success"}}else if(0==a.appliedFilter.length){var n=a.listheaderbuttons.findIndex((function(e){return"removeFilter"===e.callbackfunction}));a.listheaderbuttons[n].isvisible=!1;var r=a.listheaderbuttons.findIndex((function(e){return"openFilterPopUp"===e.callbackfunction}));a.listheaderbuttons[r].iconClass="fa fa-filter"}e?(console.log(t),f["a"].GetProductList(t).then((function(e){""!=e.data&&null!=e.data?a.JSONToCSVConvertor(e.data,"Product-Detail",!0):a.ModelnoRecord=!0,a.isLoading=!1}))):f["a"].GetProductList(t).then((function(e){""!=e.data&&null!=e.data?(a.Headers=e.data.schema,a.Headers.forEach((function(e){e.DISPLAY_NAME=a.$t(e.DISPLAY_NAME?e.DISPLAY_NAME:e.COLUMN_NAME),e.settings=null,"name"==e.COLUMN_NAME&&(e.settings={clickEvent:a.clickEventOfColumn,formatter:a.columnDataFormatter}),"status_id"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})})),e.data.data.length>0?(a.ProductData=e.data.data,a.ProductData.forEach((function(e){e.rowDetailsUrl="",""==e.rowDetailsUrl&&(e.rowDetailsUrl="/CRM/ViewItemDetails/"+e.asset_catalogue_id+"/CRM/CRM_ITEMS")})),a.TotalRecords=e.data.data[0].total_records,a.TotalPages=Math.ceil(a.TotalRecords/a.pageSize),a.CurrentPage=a.pageNumber,a.GetDdlRecords_ViewList(),a.noRecord=!1):(a.noRecord=!0,a.ProductData=[],a.TotalRecords=0)):(a.noRecord=!0,a.ProductData=[],a.Headers=[],a.TotalRecords=0),a.isLoading=!1}))},sortdata:function(e){var t="sort tb_headerSortDown";this.SortBy=e,e===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",t="sort tb_headerSortUp"):(this.SortExp="ASC",t="sort tb_headerSortDown")),this.FetchData(),$("#"+e+"  span:first-child").attr("class",t)},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},ReloadStatus:function(e){this.FetchData()},FilterData:function(e,t,a,i,s,n){this.pageNum=e,this.pageSize=t,this.sortBy=a,this.sortExp=i,this.searchCondition=s,null!=Object(o["a"])(n)&&this.appliedFilter.push(n),this.FetchData()},openFilterPopUp:function(e){this.cancelOrRefresh(),this.closeFilter=!0},cancelOrRefresh:function(){this.clientemail="",this.selectedLeadOwner="",this.NameSearch="",this.CompanyName="",this.hdnOwnerId="",this.conditionForInstantSearch="",this.IsAnySearch=!1,this.FetchData()},ManageView:function(){this.ShowManageView=!0,setTimeout((function(){$("#modalManageView").modal("show"),setTimeout((function(){SetBootstraptoolTip()}),200)}),1e3)},RefreshSearch:function(e){this.FetchData()},leftCommonSearch:function(e){var t=this.getRequestParams(this.item,this.statusId,this.subModuleCode,this.moduleName,this.sortBy,this.sortExp,this.pageSize,this.pageNumber,this.langCode,this.searchCondition),a=this;this.isLoading=!0,t.item=a.item,t.statusId=a.statusId,t.subModuleCode="CRM_ITEMS",t.moduleName="CRM",t.langCode=a.langCode,t.pageSize=a.pageSize,a.PageNumber?t.pageNum=a.PageNumber:a.PageNumber=t.pageNum=1,t.sortBy=a.sortBy,t.sortExp=a.sortExp,t.searchCondition=e.searchCondition,f["a"].GetProductList(t).then((function(e){""!=e.data&&null!=e.data?(a.Headers=e.data.schema,a.Headers.forEach((function(e){e.settings=null,"name"==e.COLUMN_NAME&&(e.settings={clickEvent:a.clickEventOfColumn,formatter:a.columnDataFormatter}),"status_id"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})})),e.data.data.length>0?(a.ProductData=e.data.data,a.TotalRecords=e.data.data[0].total_records,a.TotalPages=Math.ceil(a.TotalRecords/a.pageSize),a.CurrentPage=a.pageNumber,a.noRecord=!1):(a.noRecord=!0,a.ProductData=[],a.TotalRecords=0)):(a.noRecord=!0,a.ProductData=[],a.Headers=[],a.TotalRecords=0),setTimeout((function(){a.ResponsiveDataTable("tablelistingdata")}),500),a.isLoading=!1}))}}},g=S,C=a("2877"),A=Object(C["a"])(g,i,s,!1,null,null,null);t["default"]=A.exports},5530:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");var i=a("ade3");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}},d602:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("tg-list",{ref:"tgList",attrs:{IsShowAction:!1,showCheckBox:!0,ModuleName:"CRM",SubModuleCode:"CRM_ITEM_TYPES",IdentityColumn:"asset_type_id",HeaderText:e.$t("Product Type"),ListData:e.ProductTypeData,HeaderData:e.Headers,RenderRowActionMethod:e.renderActions,HeaderButtons:e.listheaderbuttons,TotalRecords:e.TotalRecords,SearchFields:e.leftSearchFields,IsFilterApplied:!!e.searchCondition,ListDataCallBackFunction:e.FetchData,SortExp:e.SortExp,SortBy:e.SortBy,ViewList:e.ViewList,NorecordfoundText:e.$t("NoRecordfound"),CurrentPageNumber:e.PageNumber},on:{ApplyView:e.OnApplyView,LeftsearchButtonClick:e.leftCommonSearch,PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["status_id"==i.column.COLUMN_NAME?[e.isCRMShowStausDrop(i.row.status_id,"CRM_ITEM_TYPES")?a("listing-status",{ref:"updatestatus",attrs:{isfor:"CRM_ITEM_TYPES",dataid:i.row.asset_type_id,"data-controller":"Crm",statuslist:e.StatusListForListing,item:i,"data-action":"index",dataselected:i.row.status_id,callbackfunction:e.FetchData,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(i.row.status_id,"CRM_LEADS")?e._e():a("a",{staticClass:"inactive-disabled"},[a("span",{class:e.getStatusClass(i.row.status_id,"status_id")},[e._v(" "+e._s(i.row[i.column.COLUMN_NAME])+" ")])])]:e._e(),"View"==i.column.COLUMN_NAME?[a("td",{staticClass:"text-center single-action tourguide_a"},[a("RouterLink",{staticStyle:{color:"dodgerblue"},attrs:{to:"/CRM/ViewItemTypeDetail/"+i.row.asset_type_id+"/CRM/CRM_ITEM_TYPES",typetitle:e.$t("View"),dataid:i.row.asset_type_id,title:e.$t("View")}},[a("em",{staticClass:"fa fa-eye text-info action-icon"})])],1)]:e._e(),"Edit"==i.column.COLUMN_NAME?[a("td",{staticClass:"text-center single-action tourguide_aa"},[a("a",{attrs:{typetitle:e.$t("Edit"),typefor:e.Edit,dataid:i.row.asset_type_id,title:e.$t("Edit")},on:{click:function(t){return e.AddProductType(i.row.asset_type_id)}}},[a("em",{staticClass:"fa fa-pencil text-success action-icon"})])])]:e._e(),"attachment_path"==i.column.COLUMN_NAME?[a("td",[a("img",{attrs:{src:"/Content/images/imagenotavailable.jpg",width:"100",height:"50",alt:""}})])]:e._e()]}}])}),e.ShowManageView?a("viewlayout",{directives:[{name:"show",rawName:"v-show",value:e.ShowManageView,expression:"ShowManageView"}],attrs:{submodulecode:"CRM_ITEM_TYPES",modulename:"CRM",callbackfunction:e.FetchData,usertype:e.usertype},on:{close:function(t){e.ShowManageView=!1}}},[a("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])]):e._e(),e.showFilter?a("searchfilter",{attrs:{submodulecode:"CRM_ITEM_TYPES",modulename:"CRM",callbackfunction:e.FetchData},on:{close:function(t){e.showFilter=!1},FilterData:e.FilterData}},[a("h5",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("Search")))])]):e._e()],1)},s=[],o=a("53ca"),n=a("c7eb"),r=a("1da1"),l=a("ade3"),c=(a("d3b7"),a("159b"),a("a434"),a("e9c4"),a("c740"),a("498a"),a("8c4f"),[{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"setTourGuideSteps",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Reset",iconClass:"fa-filter text-danger",callbackfunction:"removeFilter",href:"",additionalClass:"",isdisabled:!1,isvisible:!1,checkPrivilege:!1},{title:"Filters",iconClass:"fa-filter",callbackfunction:"openFilterPopUp",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Add Product Type",iconClass:"fa-plus additean_a",callbackfunction:"addProductType",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{title:"Export To Excel",iconClass:"fa-file-excel-o",callbackfunction:"downloadExceldata",href:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0}]),d=[{fieldName:"Product Type Name",fieldType:"text",fieldIcon:"fa fa-search divUseSequence_a",fieldSearchConditionName:["ASSET_TYPE"],isSearch:!1,isvisible:!0,isdisabled:!1,value:""}],u={buttons:c,leftSearchFields:d},h=a("9769"),p=a("cdd5"),m=a("fc0b"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[e._t("header",(function(){return[a("h5",{staticClass:"modal-title"},[e._v(e._s(e.$t("AddProdyctType")))])]})),a("div",{staticClass:"float-right"}),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:e.closepopup}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),a("div",{staticClass:"modal-body"},[a("dynamic-form",{ref:"updateValues",attrs:{buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-GracePeriod",fn:function(t){t.data;return[a("div",{staticClass:"form-group"},[a("Field",{staticClass:"w-100",attrs:{rules:{required:!0},name:"Grace Period"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[a("div",{staticClass:"d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.GracePeriod,expression:"GracePeriod"}],class:{"form-control":!0,"is-invalid":i[0]},attrs:{type:"text",name:"GracePeriod"},domProps:{value:e.GracePeriod},on:{keyup:function(t){return e.handleChange(e.GracePeriod)},input:function(t){t.target.composing||(e.GracePeriod=t.target.value)}}}),a("span",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text",attrs:{id:"spnOutOF"}},[e._v("Days")])])]),i[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:"GracePeriod"}},[e._v(e._s(i[0]))]):e._e()]}}],null,!0)})],1)]}},{key:"tgslot-ProductTypeCode",fn:function(t){t.data;return[a("div",{staticClass:"form-group"},[a("div",{staticClass:"d-flex"},[a("a",{attrs:{href:"javascript:;","data-toggle":"tooltip","data-trigger":"click",title:"Please enter the product type code. Else four digit product type code will be generated by system."},on:{click:e.toggleTip}},[a("i",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14px"}})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ProductTypeCode,expression:"ProductTypeCode"}],staticClass:"form-control",attrs:{type:"text",name:"ProductTypeCode",maxlength:4},domProps:{value:e.ProductTypeCode},on:{input:function(t){t.target.composing||(e.ProductTypeCode=t.target.value)}}})])])]}},{key:"tgslot-tblContainer",fn:function(t){t.data;return[e.IsShowCompartments?a("div",{staticClass:"table-responsive"},[a("Form",{ref:"AddProductType"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 m-0",attrs:{id:"tblContainerList"}},[a("thead",{staticClass:"thead-bg",attrs:{id:"divgrid"}},[a("th",{staticStyle:{"min-width":"142px"}},[a("span",{staticClass:"float-left"},[e._v("Compartments")]),a("span",{staticClass:"text-danger float-left"},[e._v("*")])]),a("th",{staticClass:"text-center",staticStyle:{"min-width":"100px"}},[a("span",[e._v("Action")])])]),a("tbody",e._l(e.tableRows,(function(t,i){return a("tr",{key:i,attrs:{id:"datarow"}},[a("td",[a("Field",{attrs:{name:e.$t("CompartmentName"),rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function(s){var o=s.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.InputContainervalue,expression:"item.InputContainervalue"}],class:{"form-control":!0,"is-invalid":o[0]},attrs:{id:"container_name_"+i,type:"text",maxlength:"200",placeholder:"Fill the compartment name"},domProps:{value:t.InputContainervalue},on:{input:[function(a){a.target.composing||e.$set(t,"InputContainervalue",a.target.value)},function(t){return e.startValidationTimer(i)}]}}),o[0]?a("span",{staticClass:"invalid-feedback d-block",attrs:{name:e.$t("CompartmentName")}},[e._v(e._s(o[0]))]):e._e()]}}],null,!0)})],1),a("td",[a("a",{staticClass:"round-icon-small btn-danger-light float-none d-inline-block",attrs:{href:"javascript:;",title:"Delete"}},[a("em",{staticClass:"recyclebin fa fa-trash",on:{click:function(t){return e.RemoveContainerRow(i)}}})]),a("a",{staticClass:"add round-icon-small btn-success-light float-none d-inline-block",attrs:{href:"javascript:;",title:"Add"},on:{click:function(t){return e.AddContainerRow()}}},[a("em",{staticClass:"fa fa-plus"})])])])})),0)])])],1):e._e()]}}])}),a("div",{staticClass:"left-content row flex-row-reverse mt-3"},[a("div",{staticClass:"col-lg-12 text-left"},[a("div",{staticClass:"py-2 mandatory"},[e._v(" "+e._s(e.$t("MandatoryString"))+" ")])])])],1)])]),e.IsTagNamePopup?a("modalTagName",{attrs:{FromAddProduct:e.FromAddProduct}}):e._e()],1)},S=[],g=(a("a9e3"),a("ac1f"),a("1276"),a("99af"),a("a15b"),a("d81d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"900px !important"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Tag"))+" "+e._s(e.$t("Name")))]),a("button",{staticClass:"close",attrs:{type:"button",title:"Close"},on:{click:e.ClosePopup}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("Form",{ref:"tagForm",attrs:{autocomplete:"off"}},[a("div",{staticClass:"col-md-12 float-left px-0"},[a("div",{staticClass:"row",staticStyle:{"max-height":"450px"}},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-group"},[a("label",[a("span",{attrs:{id:""}},[e._v("Title :")])]),a("span",{staticClass:"text-danger"},[e._v("*")]),a("Field",{attrs:{name:"TagName",rules:{required:!0},label:"Title"}},[a("div",{staticClass:"input-group mb-3",staticStyle:{position:"relative"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.tagname,expression:"tagname"}],class:{"form-control":!0},attrs:{name:"TagName",id:"TagName",type:"text"},domProps:{value:e.tagname},on:{keyup:e.searchTag,input:function(t){t.target.composing||(e.tagname=t.target.value)}}}),a("div",{staticClass:"unique_dynamicdatalist"},e._l(e.TagsArray,(function(t){return a("ul",{key:t,staticStyle:{"z-index":"auto"},on:{click:function(a){return e.setTagName(t)}}},[e.showTagDropdown?a("li",{staticStyle:{"text-transform":"capitalize"},attrs:{value:t.TAG_ID}},[e._v(" "+e._s(t.TAG_NAME))]):e._e()])})),0),e.FromAddProduct?e._e():a("a",{staticClass:"btn float-left",staticStyle:{"background-color":"#fff",color:"#303030","border-color":"#abb5bf","border-left":"none"},attrs:{href:"javascript:;"},on:{click:e.showTagList}},[a("em",{staticClass:"dropdown-toggle float-right"})])])])],1)])])])])],1),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row flex-row-reverse"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success save-btn mr-1",attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SaveTag()}}},[a("em",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Save")))]),a("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:"Cancel"},on:{click:e.ClosePopup}},[a("em",{staticClass:"fa fa-times  pr-2"}),e._v(e._s(e.$t("Cancel"))+" ")])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("small",{staticClass:"text-danger"},[e._v(e._s(e.$t("MandatoryString"))+" ")])])])])])])])])])])])}),C=[],A=(a("4de4"),a("caad"),a("2532"),a("8e5f")),T=a.n(A),b={components:{Multiselect:T.a},props:{FromAddProduct:{type:Boolean}},data:function(){return{tagname:"",tagId:"",TagsArray:[],showTagDropdown:!1,options:[]}},created:function(){var e=this;e.GetTagsByModuleId()},methods:{ClosePopup:function(){var e=this;e.$parent.CloseAddTagPopup()},SaveTag:function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(){var t,a,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!(t.tagname.length>0)){e.next=8;break}return a={TagId:""==t.tagId?"":t.tagId,tagStatusId:1001,tagName:t.tagname.toLowerCase(),tagDesc:"",moduleName:"CRM"},i=JSON.stringify(a),e.next=6,h["a"].SaveTagAsset(i).then((function(e){"Success"==e.data[0].Status&&e.data[0].Value>"0"&&(t.ShowAlert(t.$t("Tag has been saved successfully!"),"success",!0,t.$t("Alert")),t.$parent.CloseAddTagPopup(),t.$parent.GetTagsByModuleI()),"Success"==e.data[0].Status&&"0"==e.data[0].Value?(t.ShowAlert(t.$t("Tag has been updated successfully!"),"success",!0,t.$t("Alert")),t.$parent.CloseAddTagPopup(),t.$parent.GetTagsByModuleI()):"Exist"==e.data[0].Status&&(t.ShowAlert(t.$t("Tag Already Exist"),"failure",!0,t.$t("Alert")),t.$parent.CloseAddTagPopup())}));case 6:e.next=9;break;case 8:t.ShowAlert(t.$t("TagNameIsRequired"),"failure",!0,t.$t("Alert"));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setTagName:function(e){var t=this;t.tagname=e.TAG_NAME,t.tagId=e.TAG_ID,t.showTagDropdown=!1},GetTagsByModuleId:function(){var e=this;e.TagsArray=[],h["a"].GetTagsByModuleId("moduleName=CRM").then((function(t){e.TagsArray=JSON.parse(t.data).data,e.TagsArray.forEach((function(t,a){e.options.push({name:t.TAG_NAME,value:t.TAG_ID})}))}))},showTagList:function(){var e=this;e.showTagDropdown?e.showTagDropdown=!1:e.showTagDropdown=!0},searchTag:function(){var e=this;e.showTagDropdown=!0,e.TagsArray=e.TagsArray.filter((function(t){return t.TAG_NAME.toLowerCase().includes(e.tagname.toLowerCase())})),""==e.tagname&&(e.GetTagsByModuleId(),e.showTagDropdown=!1)}}},_=b,v=a("2877"),E=Object(v["a"])(_,g,C,!1,null,null,null),D=E.exports,y={props:{popupCondition:{type:Boolean,required:!0},AseetTypeId:{type:Number,required:!1},FromPage:{type:String,required:!1}},components:{modalTagName:D},data:function(){return{isLoading:!1,FormSchema:[{layoutType:"triple",group_name:"Product Type",group_display_name:this.$t("ItemType"),Data:[{astype:"TextField",label:this.$t("ItemNameType"),name:"ItemNameType",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]}},{astype:"SlotField",label:this.$t("ProductTypeCode"),name:"ProductTypeCode",value:"",placeholder:"",validationRules:{max:4}},{astype:"CheckBoxField",label:this.$t("Container"),name:"Container",value:"",placeholder:"",config:{onChange:this.ShowCompartments,options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"SlotField",showLabel:!1,label:this.$t("Container"),name:"tblContainer",value:"",placeholder:"",config:{options:[]},visibility:!0}]},{layoutType:"triple",Data:[{astype:"FileField",showLabel:!0,label:this.$t("AttachItemImage"),name:"AttachItemImage",value:"",placeholder:"",validationRules:"",FieldIndex:0,config:{maxSize:5,accept:[{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"}],showSelectedFiles:[{attachmentId:"1",attachmentName:"",attachmentPath:""}],onClickSelectedFiles:this.onClickSelectedFile,onDeleteSelectedFiles:this.onDeleteSelectedFiles,onChange:this.setFile1,showAddIcon:!1,onAddButtonClick:this.AddFileMore,multiple:!1}}]},{layoutType:"Single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:""}]},{layoutType:"four",group_name:"Product Categories",group_display_name:this.$t("ProductCategories"),Data:[{astype:"CheckBoxField",label:this.$t("Asset_No"),name:"Asset_No",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("Consumable"),name:"Consumable",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("License"),name:"License",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("MaterialSpareParts"),name:"MaterialSpareParts",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"MultiSelectField",label:this.$t("Tags"),name:"Tags",value:"",mode:"tag",placeholder:"",config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenAddTagPopup}}]},{layoutType:"four",group_name:"Hardware Integration Type",group_display_name:this.$t("HardwareIntegrationType"),Data:[{astype:"CheckBoxField",label:this.$t("Time_n_Attendance"),name:"Time_n_Attendance",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("Camera"),name:"Camera",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("RFID"),name:"RFID",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("GPSTracking"),name:"GPSTracking",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}}]},{layoutType:"four",group_name:"Action Based Properties",group_display_name:this.$t("ActionBasedProperties"),Data:[{astype:"CheckBoxField",label:this.$t("IsTransferable"),name:"IsTransferable",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("IsSelfCheckOut"),name:"IsSelfCheckOut",value:"",placeholder:"",config:{onChange:this.OnIsSelfCheckOut,options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("SelfieEnable"),name:"SelfieEnable",value:"",placeholder:"",visibility:!1,config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("EmployeeAcceptance"),name:"EmployeeAcceptance",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("EnableTerms"),name:"EnableTerms",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("GPS_Enable"),name:"GPS_Enable",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("Fleet_Management"),name:"Fleet_Management",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("PenaltyOnStatus"),name:"PenaltyOnStatus",value:"",placeholder:"",config:{onChange:this.OnPenaltyOnStatus,options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"SelectField",label:this.$t("Status"),name:"AssetReplacementType",value:"",placeholder:"",visibility:!1,config:{options:[]},validationRules:{required:!0}},{astype:"CheckBoxField",label:this.$t("PenaltyOnReturnOverdue"),name:"PenaltyOnReturnOverdue",value:"",placeholder:"",config:{onChange:this.OnPenaltyOnReturnOverdue,options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"SlotField",label:this.$t("GracePeriod"),name:"GracePeriod",value:"",placeholder:"",config:{options:[]},visibility:!1,validationRules:{required:!0}}]},{layoutType:"four",group_name:"Deployment Properties",group_display_name:this.$t("DeploymentProperties"),Data:[{astype:"CheckBoxField",label:this.$t("InsurancePolicy"),name:"InsurancePolicy",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("Calibration"),name:"Calibration",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("ItemCost"),name:"ItemCost",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("IsWarranty"),name:"IsWarranty",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("Depreciable"),name:"Depreciable",value:"",placeholder:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}}]}],buttons:[{type:"button",class:"btn btn-secondary",text:"Skip",onClick:this.Skip,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",value:"Save",name:"Save"},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & New",name:"SaveAndNew",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & Next",name:"SaveAndNext",isVisible:!1},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closepopup,isVisible:!0}],StatusDDL:[{label:"Active",value:1001},{label:"Inactive",value:1002}],AssetReplacementTypeDDL:[],IsTagNamePopup:!1,FromAddProduct:!1,IsShowCompartments:!1,lbl:!1,tableRows:[],currentInputIndex:0,AssetTypeCode:"",userId:null,companyId:null,DataLoaded:0,TagsArray:[],file:[],file1:[],ShowAddProduct:!1,CompartmentListData:[],Count:0,checkFieldsvalue:!1,TypeData:[],TagsSelectedArray:[],ProductTypeCode:"",validationTimer:null}},created:function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(){var t;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.userId=t.GetUserInfo.ID,t.companyId=t.GetUserInfo.Name,e.next=5,t.GetTagsByModuleId();case 5:return e.next=7,t.BindStatus();case 7:return e.next=9,t.AdvancedSetupFields();case 9:if(!(t.AseetTypeId>0)){e.next=16;break}return e.next=12,t.GetAssetTagsById();case 12:return e.next=14,t.FetchData();case 14:e.next=17;break;case 16:delete t.FormSchema[1].Data[0].config.showSelectedFiles;case 17:t.DataLoaded=1;case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{closepopup:function(){var e=this;("EditProduct"==e.FromPage||"AddProduct"==e.FromPage)&&e.$parent.CloseAddProductType()},onDeleteSelectedFiles:function(e){this.$delete(this.FormSchema[1].Data[0].config,"showSelectedFiles")},onClickSelectedFile:function(e){var t=this;t.isLoading=!0;var a=t.TypeData[0].ATTACHMENT_PATH.split("/")[4]+"/"+t.TypeData[0].ATTACHMENT_PATH.split("/")[5]+"/"+t.TypeData[0].ATTACHMENT_PATH.split("/")[6]+"/"+t.TypeData[0].ATTACHMENT_PATH.split("/")[7],i=t.TypeData[0].ATTACHMENT_PATH.split(".")[5],s=t.TypeData[0].ATTACHMENT_NAME,o="filePath=".concat(a);h["a"].DownloadAttachment(o).then((function(e){if(null!=e.data&&200===e.status){var a=e.data,o="data:".concat(i,";base64,").concat(a),n=document.createElement("a");n.href=o,n.setAttribute("download",s),document.body.appendChild(n),n.click(),t.isLoading=!1}else t.isLoading=!1}))},toggleTip:function(){$('[data-toggle="tooltip"]').tooltip({trigger:"click"}).on("shown.bs.tooltip",(function(){var e=$(this);setTimeout((function(){e.tooltip("hide")}),2e3)}))},onChangeContainer:function(e,t,a){var i=this;i.FormSchema[0].Data[4].value=a.target._value},handleChange:function(e){var t=this;if(""!==e.trim()){if(e=parseInt(e,10),isNaN(e))return t.ShowAlert(t.$t("EnterValidNumber"),"warning",t.$t("Alert")),void(t.GracePeriod="");e<1?t.GracePeriod=1:e>365&&(t.GracePeriod=365)}},OnPenaltyOnStatus:function(e){var t=this;return Object(r["a"])(Object(n["a"])().mark((function a(){var i;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=t,i.FormSchema[6].Data[8].config.options=[],i.FormSchema[6].Data[8].visibility=!0,1!=e.target.checked){a.next=8;break}return a.next=6,h["a"].GetAssetItemStatusList().then((function(e){i.AssetReplacementTypeDDL=e.data,i.AssetReplacementTypeDDL.forEach((function(e){i.FormSchema[6].Data[8].config.options.push({name:e.STATUS_NAME,value:e.STATUS_ID})})),i.$refs.updateValues.UpdateKeyValue()}));case 6:a.next=9;break;case 8:0==e.target.checked&&(i.FormSchema[6].Data[8].value="",i.FormSchema[6].Data[8].visibility=!1);case 9:case"end":return a.stop()}}),a)})))()},OnIsSelfCheckOut:function(e){var t=this;1==e.target.checked?t.FormSchema[6].Data[2].visibility=!0:0==e.target.checked&&(t.FormSchema[6].Data[2].visibility=!1)},OnPenaltyOnReturnOverdue:function(e){var t=this;1==e.target.checked?t.FormSchema[6].Data[10].visibility=!0:0==e.target.checked&&(t.FormSchema[6].Data[10].visibility=!1)},Skip:function(){var e=this;e.$parent.SkipTab(3)},AdvancedSetupFields:function(){var e=this;"setup"==e.popupCondition&&(e.buttons[0].isVisible=!0,e.buttons[1].isVisible=!1,e.buttons[2].isVisible=!0,e.buttons[3].isVisible=!0,e.buttons[4].isVisible=!1)},divDialogAddTags:function(){var e=this;e.FromAddProduct=!1,e.IsTagNamePopup=!0},CloseAddTagPopup:function(){var e=this;e.IsTagNamePopup=!1},OpenAddTagPopup:function(){var e=this;e.IsTagNamePopup=!0},setFile1:function(e){for(var t=this,a=0;a<e.target.files.length;a++){var i=e.target.files[a];t.file1.push(i)}},BindStatus:function(){var e=this;e.StatusDDL.forEach((function(t){e.FormSchema[0].Data[1].config.options.push({name:t.label,value:t.value}),e.$refs.updateValues.UpdateKeyValue()}))},onSubmit:function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(t,a){var i,s,o,r,l,c;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=this,i.buttons[1].class+=" disabled",i.isLoading=!0,i.Count=0,0==t.Asset_No&&0==t.Consumable&&0==t.License&&0==t.MaterialSpareParts?(i.ShowAlert(i.$t("At least one Product category must be selected!"),"failure",i.$t("Alert")),i.Count=1,i.buttons[1].class="btn btn-success"):1==i.IsShowCompartments&&i.tableRows.forEach((function(e,t){""==e.InputContainervalue&&(i.checkFieldsvalue,i.Count=1)})),0!=i.Count){e.next=58;break}return s={},i.tableRows.forEach((function(e,t){s={container_Id:0,asset_type_id:i.AseetTypeId>0?i.AseetTypeId:0,container_name:e.InputContainervalue,status_id:1001,modified_by:i.userId},i.CompartmentListData.push(s)})),o={},i.AseetTypeId>0?o.AssetTypeId=i.AseetTypeId:o.AssetTypeId=0,o.AssetType=t.ItemNameType,o.status_id=t.Status,o.Description=t.Description,o.created_at=null,o.modified_at=null,o.modified_by=i.userId,o.company_id=i.companyId,o.AssetTypeCategory="true"==t.Asset_No[0]?1:0,o.IsContainer="true"==t.Container[0]?1:0,o.IsSelfCheckOut="true"==t.IsSelfCheckOut[0]?1:0,o.IsTransferable="true"==t.IsTransferable[0]?1:0,o.IsEnableTerms="true"==t.EnableTerms[0]?1:0,o.InsurancePolicy="true"==t.InsurancePolicy[0]?1:0,o.AssetTypeCode=i.ProductTypeCode,o.IsAsset="true"==t.Asset_No[0]?1:0,o.IsConsumable="true"==t.Consumable[0]?1:0,o.IsLicense="true"==t.License[0]?1:0,o.IsSpare="true"==t.MaterialSpareParts[0]?1:0,o.IsItemCost="true"==t.ItemCost[0]?1:0,o.IsDepreciable="true"==t.Depreciable[0]?1:0,o.IsCalibration="true"==t.Calibration[0]?1:0,o.IsWarranty="true"==t.IsWarranty[0]?1:0,o.IsEmployeeAcceptance="true"==t.EmployeeAcceptance[0]?1:0,o.IsPenalty="true"==t.PenaltyOnStatus[0]?1:0,r="true"==t.PenaltyOnStatus[0]?1:0,o.penalty_type=0==r?null:t.AssetReplacementType,o.IsPenaltyOnReturnOverdue="true"==t.PenaltyOnReturnOverdue[0]?1:0,l="true"==t.PenaltyOnReturnOverdue[0]?1:0,o.GracePeriod=0==l?null:i.GracePeriod,o.IsGPSTracking="true"==t.GPSTracking[0]?1:0,o.IsFleetManagement="true"==t.Fleet_Management[0]?1:0,o.IsTimeAttendance="true"==t.Time_n_Attendance[0]?1:0,o.IsCamera="true"==t.Camera[0]?1:0,o.IsRFID="true"==t.RFID[0]?1:0,o.IsGPS="true"==t.GPS_Enable[0]?1:0,o.IsSelfieEnable="true"==t.SelfieEnable[0]?1:0,o.IsSampleData=1,o.container_name="",o.BatchId="",o.AssetTagIds=Array.prototype.map.call(t.Tags,(function(e){return e.value})).join(","),o.CompartmentList=i.CompartmentListData,c=new FormData,{postString:o},c.append("postString",JSON.stringify(o)),c.append("Files",i.file1[0]),e.next=56,h["a"].AddProductType(c).then((function(e){"SaveAndNew"==a&&("size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?i.ShowAlert(i.$t("FileSizeExceedMsg"),"warning",!0,i.$t("Alert")):"1"==e.data.status?(i.ShowAlert(i.$t("AddProductType"),"success",i.$t("Alert")),i.$emit("RefresComp"),i.isLoading=!1):"3"==e.data.status?(i.ShowAlert(i.$t("ProductTypeExist"),"success",i.$t("Alert")),i.$parent.CloseAddProductType(),i.$parent.FetchData()):"AlreadyExists"==e.data.status?(i.ShowAlert(i.$t("ProductTypeExist"),"warning",i.$t("Alert")),i.closepopup()):"ValidFileUploadMsg"==e.data.msg?(i.ShowAlert(i.$t("NotAllowedFile"),"failure",i.$t("Alert")),i.closepopup()):(i.ShowAlert(i.$t("UnknownError"),"failure",i.$t("Alert")),i.closepopup()),i.isLoading=!1,i.buttons[1].class="btn btn-success"),"SaveAndNext"==a&&("size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?i.ShowAlert(i.$t("FileSizeExceedMsg"),"warning",!0,i.$t("Alert")):"1"==e.data.status?(i.ShowAlert(i.$t("AddProductType"),"success",i.$t("Alert")),i.$parent.SkipTab(3)):"3"==e.data.status?(i.ShowAlert(i.$t("ProductTypeExist"),"success",i.$t("Alert")),i.$parent.CloseAddProductType(),i.$parent.FetchData()):"AlreadyExists"==e.data.status?(i.ShowAlert(i.$t("ProductTypeExist"),"warning",i.$t("Alert")),i.closepopup()):"ValidFileUploadMsg"==e.data.msg?(i.ShowAlert(i.$t("NotAllowedFile"),"failure",i.$t("Alert")),i.closepopup()):(i.ShowAlert(i.$t("UnknownError"),"failure",i.$t("Alert")),i.closepopup()),i.buttons[1].class="btn btn-success",i.isLoading=!1),"Save"==a&&("size_exceed"==e.data.msg||"FileSizeExceeded"==e.data.msg||"ExceedAllowedSize"==e.data.msg?i.ShowAlert(i.$t("FileSizeExceedMsg"),"warning",!0,i.$t("Alert")):"1"==e.data.status?(i.ShowAlert(i.$t("AddProductType"),"success",i.$t("Alert")),i.closepopup(),"EditProduct"==i.FromPage&&i.$parent.FetchData()):"2"==e.data.status?(i.ShowAlert(i.$t("UpdatedProductType"),"success",i.$t("Alert")),i.$parent.CloseAddProductType(),i.$parent.FetchData()):"3"==e.data.status?(i.ShowAlert(i.$t("ProductTypeExist"),"success",i.$t("Alert")),i.$parent.CloseAddProductType(),i.$parent.FetchData()):"AlreadyExists"==e.data.status?(i.ShowAlert(i.$t("ProductTypeExist"),"warning",i.$t("Alert")),i.closepopup()):"ValidFileUploadMsg"==e.data.msg?(i.ShowAlert(i.$t("NotAllowedFile"),"failure",i.$t("Alert")),i.closepopup()):(i.ShowAlert(i.$t("UnknownError"),"failure",i.$t("Alert")),i.closepopup()),i.buttons[1].class="btn btn-success",i.isLoading=!1)}));case 56:e.next=60;break;case 58:i.buttons[1].class="btn btn-success",i.isLoading=!1;case 60:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),startValidationTimer:function(e){var t=this;clearTimeout(this.validationTimer),this.validationTimer=setTimeout((function(){t.validateDuplicate(e)}),1e3)},validateDuplicate:function(e){var t=this.tableRows[e].InputContainervalue.trim().toLowerCase(),a=this.tableRows.some((function(a,i){return i!==e&&a.InputContainervalue.trim().toLowerCase()===t}));a&&(this.ShowAlert("Duplicate "+this.$t("CompartmentName")+" is not allowed","failure",this.$t("Alert")),this.tableRows[e].InputContainervalue="")},AddContainerRow:function(){var e=this,t=this;this.tableRows.length>=10?t.ShowAlert("Maximum number of "+this.$t("Compartments")+" reached. You cannot add more "+this.$t("Compartments")+".","failure",this.$t("Alert")):t.$refs.AddProductType.validate().then((function(t){t&&e.tableRows.push({InputContainervalue:""})}))},RemoveContainerRow:function(e){var t=this;t.confirmR(t.$t("Are you sure you want to delete these record(s)?"),!0,!1,(function(a){1==t.tableRows.length?(t.lbl=!0,t.ShowCompartments(),t.FormSchema[0].Data[3].value=!1,t.tableRows=[]):t.tableRows.splice(e,1)}))},ShowCompartments:function(){var e=this;this.tableRows.length>0?e.lbl=!0:e.lbl=!1,0==e.lbl?(e.IsShowCompartments=!0,this.tableRows.push({InputContainervalue:""}),e.lbl=!0):1==e.lbl&&(e.IsShowCompartments=!1,e.tableRows=[],e.lbl=!1)},GetTagsByModuleId:function(){var e=this;return Object(r["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.TagsArray=[],a.FormSchema[4].Data[0].config.options=[],t.next=5,h["a"].GetTagsByModuleId("moduleName=CRM").then((function(e){a.TagsArray=JSON.parse(e.data).data,a.TagsArray.forEach((function(e,t){a.FormSchema[4].Data[0].config.options.push({name:e.TAG_NAME,value:e.TAG_ID})}))}));case 5:case"end":return t.stop()}}),t)})))()},GetAssetTagsById:function(){var e=this;return Object(r["a"])(Object(n["a"])().mark((function t(){var a,i;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,i="id=".concat(a.AseetTypeId,"&is_for=CRM_ITEM_TYPES"),t.next=4,h["a"].GetAssetTagsById(i).then((function(e){a.tagsData=JSON.parse(e.data),a.tagsData.forEach((function(e,t){a.TagsSelectedArray.push({label:e.TAG_NAME,value:e.TAG_ID})})),a.FormSchema[4].Data[0].value=a.TagsSelectedArray}));case 4:case"end":return t.stop()}}),t)})))()},FetchData:function(){var e=this;return Object(r["a"])(Object(n["a"])().mark((function t(){var a,i;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,a.isLoading=!0,i="Id=".concat(a.AseetTypeId),t.next=5,h["a"].AssetGetById(i).then((function(e){if(null!=e.data)if(e.data.length>0){a.TypeData=e.data,a.FormSchema[0].Data[0].value=a.TypeData[0].ASSET_TYPE,a.FormSchema[0].Data[1].value=a.TypeData[0].STATUS_ID,a.ProductTypeCode=a.TypeData[0].TYPE_CODE,a.FormSchema[0].Data[3].value=1==a.TypeData[0].IS_CONTAINER,1==a.TypeData[0].IS_CONTAINER&&(a.IsShowCompartments=!0,a.TypeData.forEach((function(e,t){a.tableRows.push({InputContainervalue:e.CONTAINER_NAME})}))),null!=a.TypeData[0].ATTACHMENT_PATH&&""!=a.TypeData[0].ATTACHMENT_PATH?(a.FormSchema[1].Data[0].config.showSelectedFiles[0].attachmentPath=a.TypeData[0].ATTACHMENT_PATH,a.FormSchema[1].Data[0].config.showSelectedFiles[0].attachmentName=a.TypeData[0].ATTACHMENT_PATH.split("/")[7]):delete a.FormSchema[1].Data[0].config.showSelectedFiles,a.FormSchema[2].Data[0].value=a.TypeData[0].DESCRIPTION,a.FormSchema[3].Data[0].value=1==a.TypeData[0].IS_ASSET,a.FormSchema[3].Data[1].value=1==a.TypeData[0].IS_CONSUMABLE,a.FormSchema[3].Data[2].value=1==a.TypeData[0].IS_LICENSE,a.FormSchema[3].Data[3].value=1==a.TypeData[0].IS_SPARE,a.FormSchema[5].Data[0].value=1==a.TypeData[0].IS_TIME_N_ATTENDANCE,a.FormSchema[5].Data[1].value=1==a.TypeData[0].IS_CAMERA,a.FormSchema[5].Data[2].value=1==a.TypeData[0].IS_RFID,a.FormSchema[5].Data[3].value=1==a.TypeData[0].IS_GPS_TRACKING,a.FormSchema[6].Data[0].value=1==a.TypeData[0].IS_TRANSFERABLE,a.FormSchema[6].Data[1].value=1==a.TypeData[0].IS_SELF_CHECKOUT;var t=1==a.TypeData[0].IS_SELF_CHECKOUT;1==t?(a.FormSchema[6].Data[2].visibility=!0,a.FormSchema[6].Data[2].value=a.TypeData[0].is_selfie_enable):a.FormSchema[6].Data[2].visibility=!1,a.FormSchema[6].Data[3].value=1==a.TypeData[0].IS_EMPLOYEE_ACCEPTANCE,a.FormSchema[6].Data[4].value=1==a.TypeData[0].IS_ENABLE_TERMS,a.FormSchema[6].Data[5].value=1==a.TypeData[0].IS_GPS,a.FormSchema[6].Data[6].value=1==a.TypeData[0].IS_FLEET_MANAGEMENT,a.FormSchema[6].Data[7].value=1==a.TypeData[0].IS_PENALTY;var i=1==a.TypeData[0].IS_PENALTY;if(1==i){a.FormSchema[6].Data[8].visibility=!0,a.OnPenaltyOnStatus(!0);var s=""!==a.TypeData[0].PENALTY_TYPE?a.TypeData[0].PENALTY_TYPE.split(","):[],o=s.length>0?s[0]:null;a.FormSchema[6].Data[8].value=o}else a.FormSchema[6].Data[8].visibility=!1;a.FormSchema[6].Data[9].value=1==a.TypeData[0].IS_PENALTY_ON_OVERDUE;var n=1==a.TypeData[0].IS_PENALTY_ON_OVERDUE;1==n?(a.FormSchema[6].Data[10].visibility=!0,a.GracePeriod=a.TypeData[0].GRACE_PERIOD):a.FormSchema[6].Data[10].visibility=!1,a.FormSchema[7].Data[0].value=1==a.TypeData[0].IS_INSURANCE_POLICY,a.FormSchema[7].Data[1].value=1==a.TypeData[0].IS_CALIBRATION,a.FormSchema[7].Data[2].value=1==a.TypeData[0].IS_ITEM_COST,a.FormSchema[7].Data[3].value=1==a.TypeData[0].IS_WARRANTY,a.FormSchema[7].Data[4].value=1==a.TypeData[0].IS_DEPRECIABLE,a.isLoading=!1}else a.TypeData=[],a.isLoading=!1;else a.isLoading=!1}));case 5:case"end":return t.stop()}}),t)})))()}}},I=y,w=Object(v["a"])(I,f,S,!1,null,null,null),P=w.exports,M={components:{viewlayout:p["a"],searchfilter:m["a"],modalAddProductType:P},data:function(){var e;return e={listheaderbuttons:u.buttons,userid:null,usertype:null,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",noRecord:!1,TotalRecords:0,searchCondition:"",isLoading:!1,srchcondition:"",leftSearchFields:u.leftSearchFields,FromPage:"",AseetTypeId:"",Headers:[{COLUMN_NAME:"asset_type",DATA_TYPE:"string",DT_CODE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_ORDER:1,DISPLAY_NAME:"asset_type"},{COLUMN_NAME:"description",DATA_TYPE:"string",DT_CODE:"textarea",SORTABLE:!0,VISIBLE:!0,DISPLAY_ORDER:2,DISPLAY_NAME:"description"},{COLUMN_NAME:"status_id",DATA_TYPE:"select",DT_CODE:"select",SORTABLE:!0,VISIBLE:!0,DISPLAY_ORDER:3,DISPLAY_NAME:"Status"},{COLUMN_NAME:"modified_at",DATA_TYPE:"date",DT_CODE:"date",SORTABLE:!0,VISIBLE:!0,DISPLAY_ORDER:4,DISPLAY_NAME:"MODIFIED_AT"},{COLUMN_NAME:"type_code",DATA_TYPE:"string",DT_CODE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_ORDER:5,DISPLAY_NAME:"TypeCode"},{COLUMN_NAME:"attachment_path",DATA_TYPE:"string",DT_CODE:"file",SORTABLE:!1,VISIBLE:!0,DISPLAY_ORDER:6,DISPLAY_NAME:"Image"},{COLUMN_NAME:"created_by",DATA_TYPE:"string",DT_CODE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_ORDER:7,DISPLAY_NAME:"CreatedBy"},{COLUMN_NAME:"modified_by",DATA_TYPE:"string",DT_CODE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_ORDER:9,DISPLAY_NAME:"ModifiedBy"},{COLUMN_NAME:"View",DATA_TYPE:"string",DT_CODE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_ORDER:10,DISPLAY_NAME:""},{COLUMN_NAME:"Edit",DATA_TYPE:"string",DT_CODE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_ORDER:11,DISPLAY_NAME:""}],ProductTypeData:null,ShowManageView:!1,StatusListForListing:[],showFilter:!1},Object(l["a"])(e,"searchCondition",""),Object(l["a"])(e,"conditionForInstantSearch",""),Object(l["a"])(e,"listheaderbuttons",u.buttons),Object(l["a"])(e,"itemName",""),Object(l["a"])(e,"appliedFilter",[]),Object(l["a"])(e,"ViewList",[]),Object(l["a"])(e,"ViewListId",""),Object(l["a"])(e,"ShowModalAddProductType",!1),e},created:function(){this.userid=this.GetUserInfo.ID,this.usertype=this.GetUserInfo.UserType;var e=this;e.getStatuslistForListing("Items","en"),e.FetchData(),e.GetDdlRecords_ViewList()},methods:Object(l["a"])({GetDdlRecords_ViewList:function(){var e=Object(r["a"])(Object(n["a"])().mark((function e(){var t,a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,t.ViewList=[],a="moduleName=CRM&subModuleCode=CRM_ITEM_TYPES&viewId=0&pageSize=100&pageNum=1&sortBy=&sortExp=",e.next=5,h["a"].GetViewList(a).then((function(e){e.data&&"undefined"!=typeof e.data.DATA&&(t.ViewList=e.data.DATA);var a=0;t.ViewListId="0",null==t.ViewList||""==t.ViewList||t.ViewList.forEach((function(e){e.IS_SLECTED_USER_ID>0&&(a+=1,t.ViewListId=e.VIEW_ID)}));var i=0;a>0?t.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:0,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):null==t.ViewList||""==t.ViewList?t.ViewList.push({SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}):t.ViewList.splice(i,0,{SUB_MODULE_NAME:"",SUB_MODULE_CODE:"",VIEW_NAME:"Default View",VIEW_ID:0,IS_APPLICABLE_TO_ALL:1,MODULE_NAME:"",CREATED_AT:"",IS_SLECTED_USER_ID:1,CAN_EDIT:0,ROWNUMBER:0,VIEW_TYPE:"",USER_LIST:""}),setTimeout((function(){t.ViewListId>0?t.$refs.tgList.$refs.tgListHeaderButtons.ViewListId=t.ViewListId:t.$refs.tgList.$refs.tgListHeaderButtons.ViewListId="0"}),1e3)}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),DefaultView:function(){var e=this,t={ModuleName:"CRM",SubmoduleCode:"CRM_ITEM_TYPES"},a=JSON.stringify(t);h["a"].ClearView(a).then((function(t){null!=t.data&&("1"==t.data.code||"1"==t.data.Code)?(e.ShowAlert(e.$t("ClearSuccess",[e.$t("DefaultView")]),"success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))},OnApplyView:function(e){var t=this;if("0"==e)t.DefaultView();else{var a={ViewId:e,ModuleName:"CRM",SubmoduleCode:"CRM_ITEM_TYPES"},i=JSON.stringify(a);h["a"].ApplyView(i).then((function(e){null!=e.data&&("1"==e.data.code||"1"==e.data.Code)?(t.ShowAlert(t.$t("ApplySuccess",[t.$t("View")]),"success",!0,t.$t("Alert")),t.$emit("RefreshManageView"),t.FetchData()):t.ShowAlert(t.$t("AddedError",[t.$t("View")]),"failure",!0,t.$t("Alert"))}))}},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?this.searchCondition=e.searchCondition:this.searchCondition="",this.FetchData()},getStatuslistForListing:function(e,t){var a=this,i="langCode="+t+"&statusType="+e+"&hasglobal=true";h["a"].statusdropdown(i).then((function(e){if("Success"==e.data.status){var t=e.data.result;a.StatusListForListing=t.data}}))},AddProductType:function(e){var t=this;t.ShowModalAddProductType=!0,t.FromPage="EditProduct",t.AseetTypeId=e},CloseAddProductType:function(){var e=this;e.ShowModalAddProductType=!1,e.FromPage=""},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.commonDeleteData();break;case"ManageView":this.ManageView();break;case"openFilterPopUp":this.openFilterPopUp();break;case"addProductType":this.AddProductType();break;case"downloadExceldata":this.FetchData(!0);break;case"setTourGuideSteps":this.setTourGuideSteps(0);break;case"removeFilter":var t=this;this.searchCondition="";var a=t.listheaderbuttons.findIndex((function(e){return"removeFilter"===e.callbackfunction}));t.listheaderbuttons[a].isvisible=!1;var i=t.listheaderbuttons.findIndex((function(e){return"openFilterPopUp"===e.callbackfunction}));t.listheaderbuttons[i].iconClass="fa fa-filter";try{t.appliedFilter=[]}catch(s){}t.FetchData();break}},FilterData:function(e,t,a,i,s,n){this.pageNum=e,this.pageSize=t,this.sortBy=a,this.sortExp=i,this.searchCondition=s,null!=Object(o["a"])(n)&&this.appliedFilter.push(n),this.FetchData()},openFilterPopUp:function(e){this.cancelOrRefresh(),this.showFilter=!0},cancelOrRefresh:function(){this.clientemail="",this.selectedLeadOwner="",this.NameSearch="",this.CompanyName="",this.hdnOwnerId="",this.conditionForInstantSearch="",this.IsAnySearch=!1,this.FetchData()},getRequestParams:function(e,t,a,i,s,o){var n={};return e&&(n["pageNum"]=e),o&&(n["searchcondition"]=o),s&&(n["isPaged"]=s),a&&(n["sortBy"]=a),i&&(n["sortExp"]=i),t&&(n["pageSize"]=t),n["subModuleCode"]="CRM_ITEM_TYPES",n["moduleName"]="CRM",n},ManageView:function(){var e=this;this.ShowManageView=!0,$("#modalManageView").modal("show"),setTimeout((function(){$("#modalManageView").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3)},commonDeleteData:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Item"),(function(){var e={ids:a,moduleName:"CRM",subModuleCode:"CRM_ITEM_TYPES"},i=JSON.stringify(e);h["a"].deleteActivityData(i).then((function(e){var a="";"Success"==e.data[0].Status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),a=t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Asset")]),"success",!0,t.$t("Alert")),t.PageNumber=parseInt(t.PageNumber)-1,t.PageNumber<=0&&(t.PageNumber=1),t.FetchData(),setTimeout((function(){a.modal("hide")}),3e3)):"RecordIsUsed"==e.data[0].Status?(a=t.ShowAlert(t.$t("PartialDeletedError",[t.$t("Asset")]),"success",!0,t.$t("Alert")),setTimeout((function(){a.modal("hide")}),3e3)):a=t.ShowAlert(t.$t("DeletedError",[t.$t("Asset")]),"failure",!0,t.$t("Alert"))}),(function(e){}))})):t.ShowAlert(t.$t("Selectanyrecordtodelete"),"warning",!0,t.$t("Alert"))},FetchData:function(e){var t=this.getRequestParams(this.pageNum,this.pageSize,this.sortBy,this.sortExp,this.isPaged,this.searchCondition),a=this;a.isLoading=!0,t.pageSize=a.PageSize,t.pageNum=a.PageNumber,t.searchCondition=a.searchCondition,a.PageNumber?t.pageNum=a.PageNumber:a.PageNumber=t.pageNum=1,"undefined"!=typeof a.isPaged?t.isPaged=a.isPaged:a.isPaged=t.isPaged=1,t.isPaged=a.isPaged,t.sortBy=a.SortBy,t.sortExp=a.SortExp;var i="";if(this.isBlank(this.searchCondition)||(i+=this.searchCondition),this.isBlank(this.conditionForInstantSearch)||(i+=this.isBlank(this.searchCondition)?this.conditionForInstantSearch:" AND "+this.conditionForInstantSearch),""!=i&&(t.searchCondition=i,a.appliedFilter.length>0)){var s=a.listheaderbuttons.findIndex((function(e){return"removeFilter"===e.callbackfunction}));a.listheaderbuttons[s].isvisible=!0;var o=a.listheaderbuttons.findIndex((function(e){return"openFilterPopUp"===e.callbackfunction}));a.listheaderbuttons[o].iconClass="fa fa-filter text-success"}e?h["a"].ItemTypeListing(t).then((function(e){null!=e.data?a.JSONToCSVConvertor(e.data,"Item-Detail",!0):a.ModelnoRecord=!0,a.isLoading=!1})):(h["a"].ItemTypeListing(t).then((function(e){null!=e.data?(a.Headers.forEach((function(e){e.DISPLAY_NAME=a.$t(e.DISPLAY_NAME?e.DISPLAY_NAME:e.COLUMN_NAME),e.settings=null,"attachment_path"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"status_id"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"View"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"Edit"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})})),e.data.data.length>0?(a.ProductTypeData=e.data.data,a.TotalRecords=e.data.data[0].total_records,a.TotalPages=Math.ceil(a.TotalRecords/a.PageSize),a.CurrentPage=a.PageNumber,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),a.GetDdlRecords_ViewList(),a.noRecord=!1):(a.noRecord=!0,a.ProductTypeData=[],a.TotalRecords=0)):(a.noRecord=!0,a.ProductTypeData=[],a.Headers=[],a.TotalRecords=0)})),a.isLoading=!1)},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},sortdata:function(e){var t="sort tb_headerSortDown";this.SortBy=e,e===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",t="sort tb_headerSortUp"):(this.SortExp="ASC",t="sort tb_headerSortDown")),this.FetchData(),$("#"+e+"  span:first-child").attr("class",t)},onEnter:function(){this.Searchdata()},Searchdata:function(e){this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.IsAnySearch=!1,""!=$.trim(this.itemName)&&(this.IsAnySearch=!0,this.searchCondition+=""!=$.trim(this.searchCondition)?" AND":"",this.searchCondition+=" asset_type  LIKE '%"+this.itemName+"%'"),this.FetchData()}},"cancelOrRefresh",(function(){this.Item="",this.itemName="",this.searchCondition="",this.IsAnySearch=!1,this.FetchData()}))},N=M,L=Object(v["a"])(N,i,s,!1,null,null,null);t["default"]=L.exports},dbb4:function(e,t,a){var i=a("23e7"),s=a("83ab"),o=a("56ef"),n=a("fc6a"),r=a("06cf"),l=a("8418");i({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){var t,a,i=n(e),s=r.f,c=o(i),d={},u=0;while(c.length>u)a=s(i,t=c[u++]),void 0!==a&&l(d,t,a);return d}})},e439:function(e,t,a){var i=a("23e7"),s=a("d039"),o=a("fc6a"),n=a("06cf").f,r=a("83ab"),l=s((function(){n(1)})),c=!r||l;i({target:"Object",stat:!0,forced:c,sham:!r},{getOwnPropertyDescriptor:function(e,t){return n(o(e),t)}})}}]);
//# sourceMappingURL=Product.js.map