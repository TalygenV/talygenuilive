(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CRMSMSCampaign"],{4521:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CRM",SubModuleCode:"CRM_TRIGGER_LINK",RenderRowActionMethod:t.renderActions,IdentityColumn:"TRIGGER_ID",HeaderText:t.$t("Integration"),listType:["List"],ListData:t.IntegrationData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecord,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.FetchData,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),CurrentPageNumber:t.PageNumber},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata}}),t.ShowModalAddSMTP?a("modaladdsmtp",{on:{close:function(e){t.ShowModalAddSMTP=!1}}}):t._e(),t.ShowmodalManageAdditionalSMTP?a("modalManageAdditionalSMTP",{attrs:{reqFrom:t.reqFrom},on:{close:function(e){t.ShowmodalManageAdditionalSMTP=!1}}}):t._e()],1)},o=[],n=a("5530"),s=(a("d3b7"),a("159b"),[{title:"Add SMTP",iconClass:"fa-plus",callbackfunction:"OpenModalAddSMTP",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:""},{title:"Add MailChimp",iconClass:"fa-plus",callbackfunction:"ManageMailChimp",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:""},{title:"Add SendGrid",iconClass:"fa-plus",callbackfunction:"ManageSendGrid",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:""},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!0}]),r=[{fieldName:"Profile Name",fieldType:"text",fieldIcon:"fa fa-search",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]}],l=[{title:"Quick View",href:"javascript:void(0)",icon:"fa fa-eye",callbackfunction:"",additionalSpan:"",class:"round-icon-small btn-primary"},{title:"Edit",href:"javascript:void(0)",callbackfunction:"",icon:"fa fa-pencil text-success action-icon",additionalSpan:""},{title:"Delete",href:"javascript:void(0)",icon:"fa fa-trash",callbackfunction:"Delete",additionalSpan:""}],c={buttons:s,listActions:l,leftsearchSchema:r},d=a("c511"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header",(function(){return[a("h5",[t._v(t._s(t.$t("AddNewSMTP")))])]})),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),a("div",{staticClass:"modal-body"},[a("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-Password",fn:function(e){var i=e.data;return[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.fieldInfo.value,expression:"data.fieldInfo.value"}],class:{"form-control w-100":!0,"is-invalid":""!=i.error.length},attrs:{type:"password",name:"Password"},domProps:{value:i.fieldInfo.value},on:{input:function(e){e.target.composing||t.$set(i.fieldInfo,"value",e.target.value)}}}),""!=i.error.length?a("span",{staticClass:"invalid-feedback",attrs:{name:"Password"}},[t._v(t._s(i.error))]):t._e()])]}}])}),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("small",{staticClass:"text-danger"},[t._v(t._s(t.$t("MandatoryString")))])])])],1)])])])},m=[],h=a("ade3"),p=(a("e9c4"),a("9769")),S={props:{reqFrom:{type:String,required:!0}},data:function(){return{FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("SenderName"),name:"SenderName",value:"",placeholder:"Select",config:{options:[{name:"Mail Chimp",value:"MailChimp"},{name:"Send Grid",value:"SendGrid"}]},validationRules:{required:!0}},{astype:"TextField",label:this.$t("ProfileName"),name:"ProfileName",value:"",placeholder:"",validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("EnableSSL"),name:"EnableSSL",value:"",placeholder:"",validationRules:{required:!1},config:{options:[{name:"",value:!0}]}},{astype:"CheckBoxField",label:this.$t("EnableTSL"),name:"EnableTSL",value:"",placeholder:"",validationRules:{required:!1},config:{options:[{name:"",value:!0}]}},{astype:"TextField",label:this.$t("Username"),name:"UserName",value:"",placeholder:"",validationRules:{required:!0},visibility:!0},{astype:"SlotField",label:this.$t("password"),name:"Password",value:"",placeholder:"",validationRules:{required:!1},visibility:!0},{astype:"SelectField",label:this.$t("AuthenticationType"),name:"AuthenticationType",value:"",placeholder:"Select",config:{options:[{name:"Login",value:"Login"}]},validationRules:{required:!0},visibility:!0},{astype:"TextField",label:this.$t("Domain"),name:"Domain",value:"",placeholder:"",validationRules:{required:!1},visibility:!0,config:{options:[]}},{astype:"TextField",label:this.$t("AuthenticationPassword"),name:"AuthenticationPassword",value:"",placeholder:"",validationRules:{required:!0},visibility:!0,config:{options:[]}},{astype:"TextField",label:this.$t("AuthenticationEmail"),name:"AuthenticationEmail",value:"",placeholder:"",validationRules:{required:!0},visibility:!0,config:{options:[]}}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.$parent.ClosemodalManageAdditionalSMTP}]}},created:function(){var t=this;"MailChimp"==t.reqFrom?(t.FormSchema[0].Data[8].visibility=!1,t.FormSchema[0].Data[9].visibility=!1):"SendGrid"==t.reqFrom&&(t.FormSchema[0].Data[4].visibility=!1,t.FormSchema[0].Data[5].visibility=!1,t.FormSchema[0].Data[6].visibility=!1,t.FormSchema[0].Data[7].visibility=!1)},methods:{onSubmit:function(t,e){var a=this,i=Object(h["a"])({from_name:t.SenderName,smtp_server:t.ProfileName,smtp_security:t.EnableSSL,send_through:t.EnableTSL,user_name:t.UserName,password:t.Password,smtp_type:t.AuthenticationType,smtp_port:t.Domain,from_email:t.AuthenticationEmail},"password",t.AuthenticationPassword),o=JSON.stringify(i);p["a"].SaveEmailSetting(o).then((function(t){"INSERTED"==t.data?(a.ShowAlert(a.$t("AddedSuccess",[a.$t("AddNewSMTP")]),"success",!0,a.$t("Alert")),a.$parent.FetchData(),a.$emit("close")):"UPDATED"==t.data?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("AddNewSMTP")]),"success",!0,a.$t("Alert")),a.$parent.FetchData(),a.$emit("close")):a.ShowAlert(a.$t("AddedError",[a.$t("AddNewSMTP")]),"danger",!0,a.$t("Alert"))}))}}},f=S,g=a("2877"),b=Object(g["a"])(f,u,m,!1,null,null,null),v=b.exports,C={components:{modaladdsmtp:d["a"],modalManageAdditionalSMTP:v},data:function(){return{ShowmodalManageAdditionalSMTP:!1,reqFrom:"",isLoading:!1,ShowModalAddSMTP:!1,IntegrationData:[],listheaderbuttons:c.buttons,leftSearchFields:c.leftsearchSchema,listActions:c.listActions,TotalRecord:0,SortExp:"",SortBy:"",PageNumber:1,PageSize:10,privilegeParams:null,TotalPages:0,CurrentPage:1,Headers:[{COLUMN_NAME:"",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Sender Name",DISPLAY_ORDER:1},{COLUMN_NAME:"",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Profile Name",DISPLAY_ORDER:2}]}},created:function(){},methods:{OpenmodalManageAdditionalSMTP:function(t){this.reqFrom=t,this.ShowmodalManageAdditionalSMTP=!0},ClosemodalManageAdditionalSMTP:function(){this.reqFrom="",this.ShowmodalManageAdditionalSMTP=!1},OpenModalAddSMTP:function(){this.ShowModalAddSMTP=!0},CloseModalAddSMTP:function(){this.ShowModalAddSMTP=!1},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchCondition:this.searchCondition=""},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"OpenModalAddSMTP":this.OpenModalAddSMTP();break;case"ManageMailChimp":this.OpenmodalManageAdditionalSMTP("MailChimp");break;case"ManageSendGrid":this.OpenmodalManageAdditionalSMTP("SendGrid");break;case"commonDeleteData":this.commonDeleteData();break}},actionButtonClick:function(t,e){var a=this;switch(t){case"OpenModalAddSMTP":a.OpenModalAddSMTP(e);break;case"Delete":a.commonDeleteData();break}},renderActions:function(t){var e=this,a=[];return e.listActions.forEach((function(t){var e=Object(n["a"])({},t);switch(e.title){case"Edit":e.isVisible=!0;break;case"Delete":e.isVisible=!0;break;default:e.isVisible=!0}a.push(e)})),a},FetchData:function(){}}},A=C,T=Object(g["a"])(A,i,o,!1,null,null,null);e["default"]=T.exports},5530:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("b64b"),a("a4d3"),a("4de4"),a("d3b7"),a("e439"),a("159b"),a("dbb4");var i=a("ade3");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}},"66ee":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CRM",SubModuleCode:"CRM_SMS_TEMPLATE",RenderRowActionMethod:t.renderActions,IdentityColumn:"TEMPLATE_ID",HeaderText:t.$t("Template"),listType:["List"],ListData:t.TemplateData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecord,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.FetchData,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),CurrentPageNumber:t.PageNumber},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata}}),t.ShowmodalAddSMSCampaign?a("modalAddSMSCampaign",{attrs:{GetTemplateData:t.GetTemplateData,reqType:t.reqType},on:{FetchData:t.FetchData,close:function(e){t.ShowmodalAddSMSCampaign=!1}}}):t._e()],1)},o=[],n=a("5530"),s=(a("d3b7"),a("159b"),a("99af"),a("25f0"),a("e9c4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header mheader-user"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closepopup}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("ComposeSMS")))])]),a("modalManageSMSTemplate",{attrs:{GetTemplateData:t.GetTemplateData}})],1)])],1)])}),r=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-sm-12 col-md-6 p-0 float-right bg-light p-4"},[a("div",{staticClass:"mobilebase mx-auto"},[t._m(0),a("div",{staticClass:"col-12 p-2 bg-light border",staticStyle:{"min-height":"350px"}},[a("div",{staticClass:"col-12",attrs:{id:"textcontent"}},[t._v(t._s(t.FormSchema[2].Data[0].value))])])]),a("div",{staticClass:"col-12 float-left mt-3"},[a("div",{staticClass:"input-group"},[a("span",{staticClass:"w-100 d-flex"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.MobileNumber,expression:"MobileNumber"}],staticClass:"form-control w-70 mr-2",attrs:{type:"text",placeholder:"Enter Mobile Number",autocomplete:"off"},domProps:{value:t.MobileNumber},on:{input:function(e){e.target.composing||(t.MobileNumber=e.target.value)}}}),a("a",{staticClass:"btn btn-success",attrs:{placeholder:"Mobile Phone Number required"},on:{click:t.SendTest}},[t._v("Send Test")])])])])]),a("dynamic-form",{attrs:{buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 bg-light p-2 border"},[a("em",{staticClass:"fa fa-bars text-secondary"})])}],d=(a("b0c0"),a("313d"),a("0eb6"),a("b7ef"),a("8bd4"),a("9769")),u={props:{GetTemplateData:{type:Object},item:{type:String}},data:function(){return{AttachData:[],CustomValue:[],FileName:null,TiggerData:[],MobileNumber:"",TEMPLATE_ID:0,FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("name"),name:"template_name",value:"",placeholder:"Enter Campaign Name",config:{},validationRules:{required:!0}}]},{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("CustomValue"),name:"CustomValue",value:"",placeholder:"",config:{options:[],onChange:this.onChangeCustomTrigger},validationRules:{required:!1}},{astype:"SelectField",label:this.$t("TriggerLink"),name:"TiggerData",value:"",placeholder:"",config:{options:[],onChange:this.onChangeCustomTrigger},validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Content"),name:"template_content",value:"",placeholder:"Enter Content",config:{options:[]},validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"FileField",label:this.$t("FileControlText"),name:"attachments",value:"",placeholder:"Select",config:{maxSize:5,accept:[{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"pdf",iconClass:"fa-file-archive-o"}],onChange:this.GetBase64String,options:[],multiple:!0},validationRules:{required:!1}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",onclick:this.onSubmit},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closepopup}]}},created:function(){var t=this;t.GetCustomFieldValue(),t.GetTriggerFieldValue(),"{}"!=t.GetTemplateData&&t.EditSmsTemplate()},methods:{EditSmsTemplate:function(){var t=this;t.TEMPLATE_ID=t.GetTemplateData.TEMPLATE_ID,t.FormSchema[0].Data[0].value=t.GetTemplateData.TEMPLATE_NAME,t.FormSchema[2].Data[0].value=t.GetTemplateData.TEMPLATE_CONTENT,t.FormSchema[3].Data[0].value=t.GetTemplateData.ATTACHMENT_COUNT},closepopup:function(){var t=this;t.$parent.$parent.ClosemodalAddSMSCampaign()},GetCustomFieldValue:function(){var t=this,e="MODULE_NAME=CRM&SUB_MODULE_CODE=CRM_CAMPAIGNS,CRM_CONTACTS";d["a"].GetCustomFieldValue(e).then((function(e){t.CustomValue=e.data,t.CustomValue.forEach((function(e){t.FormSchema[1].Data[0].config.options.push({name:e.DISPLAY_NAME,value:e.NAME})}))}))},GetTriggerFieldValue:function(){var t=this,e="TYPE=CRM_TRIGGER&MODULE_NAME=null";d["a"].GetTriggerFieldValue(e).then((function(e){t.TiggerData=e.data,t.TiggerData.forEach((function(e){t.FormSchema[1].Data[1].config.options.push({name:e.NAME,value:e.LINK})}))}))},onChangeCustomTrigger:function(t){var e=this;$("#template_content .form-control").focus(),"undefined"==typeof e.FormSchema[2].Data[0].value&&(e.FormSchema[2].Data[0].value=""),e.FormSchema[2].Data[0].value+=t.target.value+" "},SendTest:function(){var t=this,e={Send_sms:t.FormSchema[2].Data[0].value,Send_to:t.MobileNumber},a=JSON.stringify(e);d["a"].SendTwilioSMS(a).then((function(t){}))},onSubmit:function(t,e){var a=this;a.isLoading=!0;var i={template_id:a.TEMPLATE_ID,template_name:t.template_name,attachments:a.AttachData,template_content:t.template_content},o=JSON.stringify(i);d["a"].ManageSMSCampaign(o).then((function(t){"INSERT"==t.data.MSG?(a.ShowAlert(a.$t("AddedSuccess",[a.$t("Campaign")]),"Success",!0,a.$t("Alert")),a.$parent.$parent.FetchData(),a.closepopup()):"UPDATE"==t.data.MSG?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("Campaign")]),"Success",!0,a.$t("Alert")),a.$parent.$parent.FetchData(),a.closepopup()):"ALREADY_EXISTS"==t.data.MSG?a.ShowAlert(a.$t("AlreadyExists",[a.$t("Campaign")]),"warning",!0,a.$t("Alert")):a.ShowAlert(a.$t("AddedError",[a.$t("Campaign")]),"failure",!0,a.$t("Alert"))}))},GetBase64String:function(t){try{var e=this;e.fileData=[];var a=t.target.files[0],i=new FileReader,o={attachement_name:t.target.files[0].name,attachement_path:"",attachement_mime:t.target.files[0].type,created_by:769083};e.AttachData.push(o),i.onload=function(t){return function(t){var i=t.target.result,o=window.btoa(i),n=a.name;e.fileName=n;var s=n.lastIndexOf("."),r=n.substring(s+1,n.length);e.fileExt+="."+r;var l='{"ContentType":"'+a.type+'","Size":"'+a.size+'","Extension":"'+r+'"}',c=a.size;e.fileSize=c;var d={attachement_mime:l,fileName:n,base64String:o,fileSize:a.size,contentType:a.type};e.fileData.push(d)}}(),i.readAsBinaryString(a)}catch(n){}},setFile:function(t){var e=this;e.file=t.target.files[0],e.FileName=t.target.files[0].name}}},m=u,h=a("2877"),p=Object(h["a"])(m,l,c,!1,null,null,null),S=p.exports,f={components:{modalManageSMSTemplate:S},props:{GetTemplateData:{type:Object}},data:function(){return{}},methods:{closepopup:function(){var t=this;t.$parent.ClosemodalAddSMSCampaign()}}},g=f,b=Object(h["a"])(g,s,r,!1,null,null,null),v=b.exports,C=[{title:"Add Email Template",iconClass:"fa-plus",callbackfunction:"",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Add SMS Template",iconClass:"fa-plus",callbackfunction:"modalAddSMSCampaign",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:""},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!0}],A=[{fieldName:"Status",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["STATUS_ID"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Date",fieldType:"date",fieldIcon:"fa fa-calendar",fieldSearchConditionName:["DATE"],isSearch:!1,value:"",listOptions:[]}],T=[{title:"View",href:"javascript:void(0)",icon:"fa fa-eye action-icon",additionalSpan:""},{title:"Edit",href:"javascript:void(0)",callbackfunction:"modalAddSMSCampaign",icon:"fa fa-pencil text-success action-icon",additionalSpan:""},{title:"Delete",href:"javascript:void(0)",icon:"fa fa-trash",callbackfunction:"Delete",additionalSpan:""}],D={buttons:C,listActions:T,leftsearchSchema:A},E={components:{modalAddSMSCampaign:v},data:function(){return{ShowmodalAddSMSCampaign:!1,isLoading:!1,TemplateData:[],listheaderbuttons:D.buttons,leftSearchFields:D.leftsearchSchema,listActions:D.listActions,TotalRecord:0,SortExp:"",SortBy:"",PageNumber:1,PageSize:10,template_name:"",privilegeParams:null,TotalPages:0,CurrentPage:1,GetTemplateData:{},Headers:[{COLUMN_NAME:"TEMPLATE_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Name",DISPLAY_ORDER:1},{COLUMN_NAME:"TEMPLATE_CONTENT",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Description",DISPLAY_ORDER:2},{COLUMN_NAME:"type",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Type",DISPLAY_ORDER:3},{COLUMN_NAME:"ATTACHMENT_COUNT",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Attachment",DISPLAY_ORDER:4}]}},created:function(){var t=this;t.FetchData(),this.privilegeParams="controller=CRM&action="},methods:{pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"modalAddSMSCampaign":this.modalAddSMSCampaign(0);break;case"commonDeleteData":this.commonDeleteData();break}},actionButtonClick:function(t,e,a){var i=this;switch(t){case"modalAddSMSCampaign":i.modalAddSMSCampaign(e);break;case"Delete":i.commonDeleteData(e.TEMPLATE_ID);break}},modalAddSMSCampaign:function(t){t.TEMPLATE_ID>0?(this.reqType="Update",this.GetTemplateData=t):this.GetTemplateData={},this.ShowmodalAddSMSCampaign=!0},ClosemodalAddSMSCampaign:function(){this.ShowmodalAddSMSCampaign=!1},renderActions:function(t){var e=this,a=[];return e.listActions.forEach((function(t){var e=Object(n["a"])({},t);switch(e.title){case"Edit":e.isVisible=!0;break;case"Delete":e.isVisible=!0;break;default:e.isVisible=!0}a.push(e)})),a},FetchData:function(){var t=this;t.isLoading=!0;var e="templateName=".concat(t.template_name,"&sortBy=").concat(t.SortBy,"&sortExp=").concat(t.SortExp,"&pageSize=").concat(t.PageSize,"&pageNumber=").concat(t.PageNumber);d["a"].SMSTemplateListing(e).then((function(e){t.isLoading=!1,"undefined"!=typeof e.data.data&&null!=e.data.data?(t.TemplateData=e.data.data,t.TotalRecord=e.data.data[0].Total,t.TotalPages=Math.ceil(t.TotalRecord/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1):(t.noRecord=!0,t.TemplateData=[],t.TotalRecord=0)})),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),t.isLoading=!1},commonDeleteData:function(t){var e=this;d["a"].CheckPrivilege(e.privilegeParams+"Delete").then((function(a){if(a.data){var i="";"undefined"!=typeof t?i=t.toString():$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){i.length>0&&(i+=","),i+=$(this).val()})),i.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Campaign"),(function(){var t={ids:i,moduleName:"CRM",subModuleCode:"CRM_SMS_TEMPLATE"},a=JSON.stringify(t);d["a"].CommonDeleteData(a).then((function(t){var a="";200==t.status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),a=e.ShowAlert(e.$t("DeletedSuccessfully",[e.$t("Campaign")]),"success",!0,e.$t("Alert")),e.PageNumber=parseInt(e.PageNumber)-1,e.PageNumber<=0&&(e.PageNumber=1),e.FetchData()):a=e.ShowAlert(e.$t("DeletedError",[e.$t("Campaign")]),"failure",!0,e.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete"),"warning",!0,e.$t("Alert"))}else e.ShowAlert("You are not authorized","failure",!0,"Alert")}))}}},M=E,P=Object(h["a"])(M,i,o,!1,null,null,null);e["default"]=P.exports},a435:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CRM",SubModuleCode:"CRM_SMS_TRIGGER",RenderRowActionMethod:t.renderActions,IdentityColumn:"TRIGGER_ID",HeaderText:t.$t("TriggerLink"),listType:["List"],ListData:t.TriggerData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecord,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.FetchData,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),CurrentPageNumber:t.PageNumber},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata}}),t.ShowmodalManageTriggerLink?a("modalManageTriggerLink",{attrs:{Data:t.TriggerLinkData},on:{close:function(e){t.ShowmodalManageTriggerLink=!1}}}):t._e(),t.ShowmodalTriggerLinkStatistics?a("modalTriggerLinkStatistics",{on:{close:function(e){t.ShowmodalTriggerLinkStatistics=!1}}}):t._e()],1)},o=[],n=a("5530"),s=(a("d3b7"),a("159b"),a("99af"),a("25f0"),a("e9c4"),[{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"setTourGuideSteps",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Add Link",iconClass:"fa-plus",callbackfunction:"modalManageTriggerLink",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:""},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!0}]),r=[{fieldName:"Name",fieldType:"text",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["TRIGGER_TITLE"],isSearch:!1,value:"",listOptions:[]}],l=[{title:"Statistics",href:"javascript:void(0)",callbackfunction:"modalTriggerLinkStatistics",icon:"fa fa-bar-chart text-success action-icon",additionalSpan:""},{title:"Edit",href:"javascript:void(0)",callbackfunction:"modalManageTriggerLink",icon:"fa fa-pencil text-success action-icon",additionalSpan:""},{title:"Delete",href:"javascript:void(0)",icon:"fa fa-trash",callbackfunction:"Delete",additionalSpan:""}],c={buttons:s,listActions:l,leftsearchSchema:r},d=a("9769"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header",(function(){return[a("h5",[t._v(t._s(t.$t("AddTriggerLink")))])]})),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),a("div",{staticClass:"modal-body"},[a("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("small",{staticClass:"text-danger"},[t._v(t._s(t.$t("MandatoryString")))])])])],1)])])])},m=[],h={props:{Data:{type:Object}},data:function(){return{FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("name"),name:"TriggerTitle",value:"",placeholder:"name",validationRules:{required:!0}},{astype:"TextField",label:this.$t("LinkURL"),name:"TriggerLink",value:"",placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.closepopup}],TriggerId:0}},created:function(){var t=this;"undefined"!=typeof t.Data&&(t.TriggerId=t.Data.TRIGGER_ID,t.FormSchema[0].Data[0].value=t.Data.TRIGGER_TITLE,t.FormSchema[0].Data[1].value=t.Data.TRIGGER_LINK)},methods:{onSubmit:function(t){var e=this,a={trigger_id:e.TriggerId,trigger_title:t.TriggerTitle,trigger_link:t.TriggerLink,status_id:1001},i=JSON.stringify(a);d["a"].SaveTriggerLink(i).then((function(t){"INSERT"==t.data?(e.ShowAlert(e.$t("AddedSuccess",[e.$t("TriggerLink")]),"Success",!0,e.$t("Alert")),e.$parent.FetchData(),e.closepopup()):"UPDATE"==t.data?(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("TriggerLink")]),"Success",!0,e.$t("Alert")),e.$parent.FetchData(),e.closepopup()):"DUPLICATE"==t.data?e.ShowAlert(e.$t("AlreadyExists",[e.$t("TriggerLink")]),"warning",!0,e.$t("Alert")):e.ShowAlert(e.$t("AddedError",[e.$t("TriggerLink")]),"failure",!0,e.$t("Alert"))}))},closepopup:function(){var t=this;t.$parent.ClosemodalManageTriggerLink()}}},p=h,S=a("2877"),f=Object(S["a"])(p,u,m,!1,null,null,null),g=f.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header",(function(){return[a("h5",[t._v(t._s(t.$t("TriggerLink")))])]})),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),a("div",{staticClass:"modal-body"},[a("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),a("div",{staticClass:"pl-0 border-1"},[a("v-date-picker",{staticClass:"timedate input-group col-md-3 float-right",attrs:{"is-range":""},on:{input:t.onDateChange},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,o=e.inputEvents,n=e.togglePopover;return[a("input",t._g({staticClass:"form-control",domProps:{value:i.start+" - "+i.end}},o)),a("div",{staticClass:"input-group-append",on:{click:n}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.startEndDate,callback:function(e){t.startEndDate=e},expression:"startEndDate"}})],1),a("div",{staticClass:"col-md-12 float-left p-4 text-center"},[a("div",{attrs:{id:"chart"}},[t.ischartvisibility?a("apexcharts",{attrs:{height:"350",type:"bar",options:t.chartOptions,series:t.series}}):t._e()],1)]),a("div",{staticClass:"col-md-12 float-left p-0 mt-3"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"d-inline-block"},[a("span",[t._v(t._s(t.$t("TriggerLink")))])])])]),a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!1,ModuleName:"CRM",SubModuleCode:"",RenderRowActionMethod:t.renderActions,IdentityColumn:"",HeaderText:t.$t("TriggerLink"),listType:["List"],ListData:t.StatisticsData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecord,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.FetchData,showCheckBox:!1,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),CurrentPageNumber:t.PageNumber},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata}})],1)])])])},v=[],C=a("1321"),A=a.n(C),T={components:{apexcharts:A.a},data:function(){return{startEndDate:{start:new Date,end:new Date},chartOptions:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}],listheaderbuttons:"",leftSearchFields:"",leftCommonSearch:"",listActions:[],TotalRecord:0,StatisticsData:[],SortExp:"",SortBy:"",PageNumber:1,PageSize:10,TotalPages:0,CurrentPage:1,FormSchema:"",ischartvisibility:!1,isLoading:!1,triggerTitle:"",datefrom:new Date,dateto:new Date,Headers:[{COLUMN_NAME:"TRIGGER_TITLE",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Name",DISPLAY_ORDER:1},{COLUMN_NAME:"TOTAL_CLICKS",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Clicks",DISPLAY_ORDER:2}]}},created:function(){var t=this;t.FetchData()},methods:{pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},commonHeaderButtonClick:function(){},actionButtonClick:function(){},renderActions:function(){},FetchData:function(){var t=this;t.isLoading=!0,t.ischartvisibility=!1;var e="triggerTitle=&datefrom=".concat(t.$options.filters.formatDate(t.datefrom),"&dateto=").concat(t.$options.filters.formatDate(t.dateto));d["a"].GetTriggerLinkStatistics(e).then((function(e){t.StatisticsData=[],""!=e.data&&(t.StatisticsData=e.data,t.StatisticsData.forEach((function(e){t.chartOptions.xaxis.categories.push(e.CLICK_DATE),t.series[0].data.push(e.TOTAL_CLICKS)})),t.ischartvisibility=!0),t.isLoading=!1}))},onDateChange:function(){var t=this;t.datefrom=t.startEndDate.start,t.dateto=t.startEndDate.end,t.FetchData()}}},D=T,E=Object(S["a"])(D,b,v,!1,null,null,null),M=E.exports,P={components:{modalManageTriggerLink:g,modalTriggerLinkStatistics:M},data:function(){return{ShowmodalManageTriggerLink:!1,ShowmodalTriggerLinkStatistics:!1,isLoading:!1,TriggerData:[],listheaderbuttons:c.buttons,leftSearchFields:c.leftsearchSchema,listActions:c.listActions,TotalRecord:0,SortExp:"",SortBy:"",PageNumber:1,PageSize:10,privilegeParams:null,TotalPages:0,CurrentPage:1,TriggerLinkData:null,Headers:[{COLUMN_NAME:"TRIGGER_TITLE",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Name",DISPLAY_ORDER:1},{COLUMN_NAME:"TRIGGER_LINK",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Link URL",DISPLAY_ORDER:2}]}},created:function(){this.FetchData(),this.privilegeParams="controller=CRM&action="},methods:{pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"modalManageTriggerLink":this.modalManageTriggerLink();break;case"commonDeleteData":this.commonDeleteData();break;case"setTourGuideSteps":this.setTourGuideSteps();break}},actionButtonClick:function(t,e){var a=this;switch(t){case"modalManageTriggerLink":a.modalManageTriggerLink(e);break;case"Delete":a.commonDeleteData(e.TRIGGER_ID);break;case"modalTriggerLinkStatistics":a.modalTriggerLinkStatistics();break}},modalTriggerLinkStatistics:function(){this.ShowmodalTriggerLinkStatistics=!0},ClosemodalTriggerLinkStatistics:function(){this.ShowmodalTriggerLinkStatistics=!1},modalManageTriggerLink:function(t){this.TriggerLinkData=t,this.ShowmodalManageTriggerLink=!0},ClosemodalManageTriggerLink:function(){this.ShowmodalManageTriggerLink=!1},renderActions:function(t){var e=this,a=[];return e.listActions.forEach((function(t){var e=Object(n["a"])({},t);switch(e.title){case"Edit":e.isVisible=!0;break;case"Delete":e.isVisible=!0;break;default:e.isVisible=!0}a.push(e)})),a},FetchData:function(){var t=this;t.isLoading=!0;var e="triggerlink=".concat(t.trigger_title,"&sortBy=").concat(t.SortBy,"&sortExp=").concat(t.SortExp,"&pageSize=").concat(t.PageSize,"&pageNumber=").concat(t.PageNumber);d["a"].GetTriggerLinkListing(e).then((function(e){t.TriggerData=[],""!=e.data&&(t.TriggerData=e.data.data,t.TotalRecord=e.data.data[0].Total,t.TotalPages=Math.ceil(t.TotalRecord/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1)})),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),t.isLoading=!1},commonDeleteData:function(t){var e=this;d["a"].CheckPrivilege(e.privilegeParams+"Delete").then((function(a){if(a.data){var i="";"undefined"!=typeof t?i=t.toString():$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){i.length>0&&(i+=","),i+=$(this).val()})),i.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Campaign"),(function(){var t={ids:i,moduleName:"CRM",refCode:"CRM_SMS_TRIGGER"},a=JSON.stringify(t);d["a"].CommonDeleteData(a).then((function(t){var a="";200==t.status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),a=e.ShowAlert(e.$t("DeletedSuccessfully",[e.$t("Campaign")]),"success",!0,e.$t("Alert")),e.PageNumber=parseInt(e.PageNumber)-1,e.PageNumber<=0&&(e.PageNumber=1),e.FetchData()):a=e.ShowAlert(e.$t("DeletedError",[e.$t("Campaign")]),"failure",!0,e.$t("Alert")),setTimeout((function(){a.modal("hide")}),2e3)}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete"),"warning",!0,e.$t("Alert"))}else e.ShowAlert("You are not authorized","failure",!0,"Alert")}))}}},_=P,k=Object(S["a"])(_,i,o,!1,null,null,null);e["default"]=k.exports},c511:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal d-block my-popups dialog"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header",(function(){return[a("h5",[t._v(t._s(t.$t("Emails")))])]})),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),a("div",{staticClass:"modal-body"},[a("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-Password",fn:function(e){var i=e.data;return[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:i.fieldInfo.value,expression:"data.fieldInfo.value"}],class:{"form-control w-100":!0,"is-invalid":""!=i.error.length},attrs:{type:"password",name:"Password"},domProps:{value:i.fieldInfo.value},on:{input:function(e){e.target.composing||t.$set(i.fieldInfo,"value",e.target.value)}}}),""!=i.error.length?a("span",{staticClass:"invalid-feedback",attrs:{name:"Password"}},[t._v(t._s(i.error))]):t._e()])]}}])}),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("small",{staticClass:"text-danger"},[t._v(t._s(t.$t("MandatoryString")))])])])],1)])])])},o=[],n=a("c7eb"),s=a("1da1"),r=(a("a9e3"),a("ac1f"),a("1276"),a("4de4"),a("d3b7"),a("159b"),a("e9c4"),a("9769")),l={props:{SendThrough:{type:String,required:!0},ProfileId:{type:Number,required:!1}},data:function(){return{FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("SMTPServer"),name:"SMTPServer",value:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("UserName"),name:"UserName",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SlotField",label:this.$t("Password"),name:"Password",value:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("FromEmail"),name:"FromEmail",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("SMTPPort"),name:"SMTPPort",value:"",placeholder:"",config:{options:[],showAddIcon:!1}},{astype:"RadioField",label:this.$t("SMTPSecurity"),name:"SMTPSecurity",value:!1,placeholder:"",validationRules:{required:!1,max:200},config:{options:[{name:"true",value:!0},{name:"false",value:!1}],showAddIcon:!1}},{astype:"SelectField",label:this.$t("SMTPType"),name:"SMTPType",value:"",placeholder:"",config:{options:[],showAddIcon:!1}},{astype:"TextField",label:this.$t("FromName"),name:"FromName",value:"",placeholder:"",validationRules:{required:!1}}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Save"}]}},created:function(){var t=this;return Object(s["a"])(Object(n["a"])().mark((function e(){var a;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t,!(a.ProfileId>0)){e.next=4;break}return e.next=4,a.GetSMTPProfile(a.ProfileId);case 4:return e.next=6,a.getModuleIdByModuleName();case 6:case"end":return e.stop()}}),e)})))()},methods:{getModuleIdByModuleName:function(){var t=this;return Object(s["a"])(Object(n["a"])().mark((function e(){var a,i;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,i="moduleName=Email",e.next=4,r["a"].GetModuleIdByModuleName(i).then((function(t){var e=t.data;a.BindDropdownData(e)}));case 4:case"end":return e.stop()}}),e)})))()},BindDropdownData:function(t){var e=this;return Object(s["a"])(Object(n["a"])().mark((function a(){var i,o;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e,o="moduleId=".concat(t,"&IsWizard=false"),a.next=4,r["a"].GetModuleKeys(o).then((function(t){var e=t.data.StorageKeys,a=e.filter((function(t){return"smtpport"==t.CORE_CONFIG_KEY.toLowerCase()}))[0].CORE_CONFIG_OPTIONS.split("^"),o=e.filter((function(t){return"smtptype"==t.CORE_CONFIG_KEY.toLowerCase()}))[0].CORE_CONFIG_OPTIONS.split("^");a.forEach((function(t,e){i.FormSchema[0].Data[4].config.options.push({name:t,value:t})})),o.forEach((function(t,e){i.FormSchema[0].Data[6].config.options.push({name:t,value:t})}))}));case 4:case"end":return a.stop()}}),a)})))()},GetSMTPProfile:function(t){var e=this;return Object(s["a"])(Object(n["a"])().mark((function a(){var i,o;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=e,o="profileId=".concat(t),a.next=4,r["a"].GetEmailProfile(o).then((function(t){i.FormSchema[0].Data[0].value=t.data.smtp_server,i.FormSchema[0].Data[1].value=t.data.user_name,i.FormSchema[0].Data[2].value=t.data.password,i.FormSchema[0].Data[3].value=t.data.from_email,i.FormSchema[0].Data[4].value=null==t.data.smtp_port?"":t.data.smtp_port,i.FormSchema[0].Data[5].value=t.data.smtp_security,i.FormSchema[0].Data[6].value=null==t.data.smtp_type?"":t.data.smtp_type,i.FormSchema[0].Data[7].value=t.data.from_email}));case 4:case"end":return a.stop()}}),a)})))()},onSubmit:function(t,e){var a=this,i={smtp_server:t.SMTPServer,user_name:t.UserName,password:t.Password,from_email:t.FromEmail,smtp_port:t.SMTPPort,smtp_security:t.SMTPSecurity,smtp_type:t.SMTPType,from_name:t.FromName,send_through:a.SendThrough,profile_id:a.ProfileId},o=JSON.stringify(i);r["a"].SaveEmailSetting(o).then((function(t){"INSERTED"==t.data?(a.$parent.FillProfileDropdown(a.SendThrough),a.ShowAlert(a.$t("AddedSuccess",[a.$t("EmailSetting")]),"success",!0,a.$t("Alert")),a.$emit("close")):"UPDATED"==t.data?(a.$parent.FillProfileDropdown(a.SendThrough),a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("EmailSetting")]),"success",!0,a.$t("Alert")),a.$emit("close")):a.ShowAlert(a.$t("AddedError",[a.$t("EmailSetting")]),"danger",!0,a.$t("Alert"))}))}}},c=l,d=a("2877"),u=Object(d["a"])(c,i,o,!1,null,null,null);e["a"]=u.exports},d9d5:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CRM",SubModuleCode:"CRM_APPROVAL",RenderRowActionMethod:t.renderActions,IdentityColumn:"id",HeaderText:t.$t("CampaignApproval"),listType:["List"],ListData:t.ApprovalData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecord,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.FetchData,showCheckBox:!0,SortExp:t.SortExp,LegendArray:t.LegendArray,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),CurrentPageNumber:t.PageNumber},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(e){var i=e.data;return["status_id"==i.column.COLUMN_NAME?[1==t.isCRMShowStausDrop(i.row.status_id,"CRM")?a("listing-status",{ref:"updatestatus",attrs:{isfor:"CRM_APPROVAL",dataid:i.row.id,"data-controller":"CRM",statuslist:t.StatusListForListing,item:i,"data-action":"CampaignApproval",dataselected:i.row.status_name,callbackfunction:t.FetchData,isselectedvaluestring:!0}}):t._e(),0==t.isCRMShowStausDrop(i.row.status_id,"CRM")?a("a",{staticClass:"inactive-disabled"},[a("span",{class:t.getStatusClass(i.row.status_id,"status_id")},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])]):t._e()]:t._e(),"created_at"==i.column.COLUMN_NAME?[t._v(" "+t._s(t.$options.filters.formatDate(i.row[i.column.COLUMN_NAME]))+" ")]:t._e()]}}])})],1)},o=[],n=a("5530"),s=a("c7eb"),r=a("1da1"),l=(a("d3b7"),a("159b"),a("e9c4"),a("9769")),c=[{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Approve",iconClass:"fa fa fa-check",callbackfunction:"approve",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!0,id:"",isEnabledOnSelectedRow:!0},{title:"Reject",iconClass:"fa fa fa-remove",callbackfunction:"reject",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!0,id:"",isEnabledOnSelectedRow:!0},{title:"View History",iconClass:"fa fa-history",callbackfunction:"",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:""}],d=[{fieldName:"DATE FROM",fieldType:"date",fieldIcon:"fa fa-calendar",fieldSearchConditionName:["DATE"],isSearch:!1,value:"",listOptions:[]},{fieldName:"DATE TO",fieldType:"date",fieldIcon:"fa fa-calendar",fieldSearchConditionName:["DATE"],isSearch:!1,value:"",listOptions:[]},{fieldName:"CampaignOwner",fieldType:"ddl-check",fieldIcon:"fa-solid fa-folder-open",fieldSearchConditionName:["CAMPAIGN_OWNER"],isSearch:!1,value:"",listOptions:[]}],u=[{title:"Quick View",href:"javascript:void(0)",icon:"fa fa-eye",callbackfunction:"",additionalSpan:"",class:"round-icon-small btn-primary"},{title:"Comments",href:"javascript:void(0)",callbackfunction:"",icon:"fa fa-comment",additionalSpan:""},{title:"Send for Correction",href:"javascript:void(0)",icon:"fa fa-send",callbackfunction:"",additionalSpan:""}];function m(t,e,a){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(Object(s["a"])().mark((function t(e,a,i){var o,n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=e,n={},n["moduleName"]=a,n["type"]=i,t.next=6,l["a"].GetLeftSearchStatus(n).then((function(t){var e=t.data;if(null!=e&&"CAMPAIGN_OWNER_SEARCH"==i)return o.leftSearchFields[2].listOptions=e.DATA,o.LeadStatusList=e.DATA,o.LeadStatusList}));case 6:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}var p={buttons:c,listActions:u,leftsearchSchema:d,bindleftCommonSearchdropdown:m},S={components:{},data:function(){return{privilegeParams:null,StatusListForListing:[],LegendArray:[],isLoading:!1,ApprovalData:[],listheaderbuttons:p.buttons,leftSearchFields:p.leftsearchSchema,listActions:p.listActions,TotalRecord:0,SortExp:"",SortBy:"",PageNumber:1,PageSize:10,TotalPages:0,CurrentPage:1,postContent:"",campaignOwnerId:"",approverId:"",status:"",dateto:"",datefrom:"",Headers:[{COLUMN_NAME:"created_at",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Date",DISPLAY_ORDER:1},{COLUMN_NAME:"content",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Post Description",DISPLAY_ORDER:2},{COLUMN_NAME:"created_by",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Created By",DISPLAY_ORDER:3},{COLUMN_NAME:"status_id",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:4}]}},created:function(){var t=this;return Object(r["a"])(Object(s["a"])().mark((function e(){var a;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,a.getStatuslistForListing("CRM_APPROVER","en"),a.privilegeParams="controller=CRM&action=",a.LegendArray=[{class:"bg-yellow colorboxsquare",text:a.$t("PendingRequest")},{class:"bg-red colorboxsquare",text:a.$t("RejectedRequest")}],a.Headers.forEach((function(t){t.settings=null,"status_id"!=t.COLUMN_NAME&&"created_at"!=t.COLUMN_NAME||(t.settings={isInSlot:!0})})),e.next=6,a.FetchData();case 6:return e.next=8,p.bindleftCommonSearchdropdown(a,"CRM","CAMPAIGN_OWNER_SEARCH");case 8:case"end":return e.stop()}}),e)})))()},methods:{pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchCondition:this.searchCondition=""},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"approve":this.approve();break;case"reject":this.reject();break}},actionButtonClick:function(t,e){var a=this;switch(t){case"OpenModalAddSMTP":a.OpenModalAddSMTP();break;case"Delete":a.commonDeleteData();break}},renderActions:function(t){var e=this,a=[];return e.listActions.forEach((function(t){var e=Object(n["a"])({},t);switch(e.title){case"Edit":e.isVisible=!0;break;case"Delete":e.isVisible=!0;break;default:e.isVisible=!0}a.push(e)})),a},getStatuslistForListing:function(t,e){var a=this,i="langCode="+e+"&statusType="+t+"&hasglobal=true";l["a"].statusdropdown(i).then((function(t){if("Success"==t.data.status){var e=t.data.result;a.StatusListForListing=e.data}}))},FetchData:function(){var t=Object(r["a"])(Object(s["a"])().mark((function t(){var e,a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this,e.isLoading=!0,a="",t.next=5,l["a"].CampaignApprovalListing(a).then((function(t){e.ApprovalData=[],""!=t.data?(e.ApprovalData=t.data,e.ApprovalData.forEach((function(t){t.isCheckBoxDisabled=!1,"CRM_APPROVE"!=t.status_code&&"CRM_REJECT"!=t.status_code||(t.isCheckBoxDisabled=!0),t.additionalClass="","CRM_REJECT"==t.status_code?t.additionalClass="danger-bar":t.additionalClass="warning-bar"})),e.TotalRecord=t.data[0].total,e.TotalPages=Math.ceil(e.TotalRecord/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1):e.noRecord=!0}));case 5:setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),e.isLoading=!1;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),reject:function(){var t=this;l["a"].CheckPrivilege(t.privilegeParams+"RejectInward").then((function(e){if(e.data){if($(event.target).hasClass("disabled")||$(event.target).closest("a.iconenable").hasClass("disabled"))return!1;var a="";"undefined"!==typeof id&&null!=id?a=id:$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0||""!=a?(t.confirmR(t.$t("AreYouSureToRejectSelectedRecords"),!0,t.$t("Reject")+"  "+t.$t("CampaignApproval"),(function(){var e={ids:a,moduleName:"CRM",subModuleCode:"CRM_APPROVAL_PENDING",approvaltype:"CRM_REJECT"},i=JSON.stringify(e);l["a"].ApproveRejectCampaign(i).then((function(e){0==e.data?($(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.ShowAlert(t.$t("RejectedSuccessfully",[t.$t("CampaignApproval")]),"success",!0,t.$t("Alert")),t.FetchData(),$(".statuschange").addClass("disabled")):t.ShowAlert(t.$t("RejectError",[t.$t("CampaignApproval")]),"failure",!0,t.$t("Alert"))}),(function(t){}))})),t.FetchData()):t.ShowAlert(t.$t("RemoveReject"),"warning",!0,t.$t("Alert"))}else t.ShowAlert("You are not authorized","failure",!0,"Alert")}))},approve:function(){var t=this,e="";"undefined"!==typeof this.id&&null!=this.id?e=this.id:$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){e.length>0&&(e+=","),e+=$(this).val()})),e.length>0||""!=e?t.confirmR(t.$t("AreYouSureToApproveSelectedRecords"),!0,t.$t("Approve",[t.$t("CampaignApproval")]),(function(){var a={ids:e,moduleName:"CRM",subModuleCode:"CRM_APPROVAL_PENDING",approvaltype:"CRM_APPROVE"},i=JSON.stringify(a);l["a"].ApproveRejectCampaign(i).then((function(e){0==e.data?($(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.ShowAlert(t.$t("ApprovedSuccessfully",[t.$t("CampaignApproval")]),"success",!0,t.$t("Alert")),t.FetchData(),$(".statuschange").addClass("disabled")):t.ShowAlert(t.$t("Error Occur while Approving Record"),"warning",!0,t.$t("Alert"))}),(function(t){}))})):t.ShowAlert(t.$t("LeaveApprove"),"warning",!0,t.$t("Alert"))}}},f=S,g=a("2877"),b=Object(g["a"])(f,i,o,!1,null,null,null);e["default"]=b.exports},dbb4:function(t,e,a){var i=a("23e7"),o=a("83ab"),n=a("56ef"),s=a("fc6a"),r=a("06cf"),l=a("8418");i({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,a,i=s(t),o=r.f,c=n(i),d={},u=0;while(c.length>u)a=o(i,e=c[u++]),void 0!==a&&l(d,e,a);return d}})},e439:function(t,e,a){var i=a("23e7"),o=a("d039"),n=a("fc6a"),s=a("06cf").f,r=a("83ab"),l=o((function(){s(1)})),c=!r||l;i({target:"Object",stat:!0,forced:c,sham:!r},{getOwnPropertyDescriptor:function(t,e){return s(n(t),e)}})}}]);
//# sourceMappingURL=CRMSMSCampaign.js.map