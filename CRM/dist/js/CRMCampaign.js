(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CRMCampaign","CRM Invoice~CRMDeal~CRMLead~CRMPurchaseOrder~CRMQuote~CRMSalesOrderListing~CRMStage~CRMVendor~Contra~26117e4a"],{1295:function(t,a,e){"use strict";e("926d")},"1d4a":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".shortcuts-menu.man_camp li{max-width:33%;padding:10px}.shortcuts-menu.man_camp li.active a.short-menu-item{background:#00b298;color:#fff;border-color:#00b298}.shortcuts-menu.man_camp li.active a span.left-icon-m{background-color:#00a68e}.shortcuts-menu.man_camp li.active a span.left-icon-m i{color:#fff}.shortcuts-menu.man_camp li:hover a.short-menu-item{background:#00b298!important;color:#fff!important;border-color:#00b298!important}.shortcuts-menu li:hover .short-item-name{color:#fff!important}.shortcuts-menu.man_camp li:hover a span.left-icon-m{background-color:#00a68e}.shortcuts-menu.man_camp li:hover a span.left-icon-m i{color:#fff}.shortcuts-menu.man_camp li a span.left-icon-m i{color:#00b298;font-size:32px}.btn_template{background:#ebfffc;color:#78b9af;border:1px solid #99e6da;font-size:20px}.btn_template:hover{border:1px solid #99e6da}.btn_template:hover,.defaultpic_control .btn-select{background:#00b298;color:#fff}.defaultpic_control .btn-view{background:#30b3f1;color:#fff}.default_templates .default-tags,.default_templates .default-tags:hover{background:hsla(0,0%,100%,.9)}.default_templates .img-ico.ticket-attachments{min-height:200px;display:flex;justify-content:center;align-items:center;max-height:200px}.shortcuts-menu.man_camp.man_view li.active a.short-menu-item{background:#e5fcff;color:#17a2b8;border-color:#17a2b8}.shortcuts-menu.man_camp.man_view li.active a span.left-icon-m{background-color:#e5fcff}.shortcuts-menu.man_camp.man_view li.active a span.left-icon-m i{color:#17a2b8}.shortcuts-menu.man_camp.man_view li:hover a.short-menu-item{background:#e5fcff!important;color:#17a2b8!important;border-color:#17a2b8!important}.shortcuts-menu.man_camp.man_view li:hover a span.left-icon-m{background-color:#e5fcff}.shortcuts-menu.man_camp.man_view li:hover a span.left-icon-m i{color:#17a2b8}.shortcuts-menu.man_camp.man_view li a span.left-icon-m i{color:#737373;font-size:32px}.shortcuts-menu.man_camp.man_view li a span.left-icon-m{background-color:#fff}.shortcuts-menu.man_camp.man_view li:hover .short-item-name{color:#17a2b8!important}.shortcuts-menu.man_camp.man_view li a.short-menu-item{background-color:#fff}",""]),t.exports=a},"258f":function(t,a,e){var i=e("593f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("6ec7ab38",i,!0,{sourceMap:!1,shadowMode:!1})},"44c7":function(t,a,e){"use strict";e("5f92")},"4ece":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".shortcuts-menu.man_camp li{max-width:33%;padding:10px}.shortcuts-menu.man_camp li.active a.short-menu-item{background:#00b298;color:#fff;border-color:#00b298}.shortcuts-menu.man_camp li.active a span.left-icon-m{background-color:#00a68e}.shortcuts-menu.man_camp li.active a span.left-icon-m i{color:#fff}.shortcuts-menu.man_camp li:hover a.short-menu-item{background:#00b298!important;color:#fff!important;border-color:#00b298!important}.shortcuts-menu li:hover .short-item-name{color:#fff!important}.shortcuts-menu.man_camp li:hover a span.left-icon-m{background-color:#00a68e}.shortcuts-menu.man_camp li:hover a span.left-icon-m i{color:#fff}.shortcuts-menu.man_camp li a span.left-icon-m i{color:#00b298;font-size:32px}.btn_template{background:#ebfffc;color:#78b9af;border:1px solid #99e6da;font-size:20px}.btn_template:hover{border:1px solid #99e6da}.btn_template:hover,.defaultpic_control .btn-select{background:#00b298;color:#fff}.defaultpic_control .btn-view{background:#30b3f1;color:#fff}.default_templates .default-tags,.default_templates .default-tags:hover{background:hsla(0,0%,100%,.9)}.default_templates .img-ico.ticket-attachments{min-height:200px;display:flex;justify-content:center;align-items:center;max-height:200px}.shortcuts-menu.man_camp.man_view li.active a.short-menu-item{background:#e5fcff;color:#17a2b8;border-color:#17a2b8}.shortcuts-menu.man_camp.man_view li.active a span.left-icon-m{background-color:#e5fcff}.shortcuts-menu.man_camp.man_view li.active a span.left-icon-m i{color:#17a2b8}.shortcuts-menu.man_camp.man_view li:hover a.short-menu-item{background:#e5fcff!important;color:#17a2b8!important;border-color:#17a2b8!important}.shortcuts-menu.man_camp.man_view li:hover a span.left-icon-m{background-color:#e5fcff}.shortcuts-menu.man_camp.man_view li:hover a span.left-icon-m i{color:#17a2b8}.shortcuts-menu.man_camp.man_view li a span.left-icon-m i{color:#737373;font-size:32px}.shortcuts-menu.man_camp.man_view li a span.left-icon-m{background-color:#fff}.shortcuts-menu.man_camp.man_view li:hover .short-item-name{color:#17a2b8!important}.shortcuts-menu.man_camp.man_view li a.short-menu-item{background-color:#fff}",""]),t.exports=a},5530:function(t,a,e){"use strict";e.d(a,"a",(function(){return n}));e("b64b"),e("a4d3"),e("4de4"),e("d3b7"),e("e439"),e("159b"),e("dbb4");var i=e("ade3");function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function n(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){Object(i["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}},5579:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("TgList",{attrs:{IsShowAction:"true",ModuleName:"CRM",SubModuleCode:"CRM_CAMPAIGNS",IdentityColumn:"campaign_id",HeaderText:t.$t("Campaign"),ListData:t.CampaignData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,LegendArray:t.LegendArray,IsFilterApplied:!!t.searchCondition,SortExp:t.SortExp,SortBy:t.SortBy,CurrentPageNumber:t.PageNumber},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata,CampaignTypeDDL:t.CampaignTypeDDL},scopedSlots:t._u([{key:"slotdata",fn:function(a){var i=a.data;return["status_id"==i.column.COLUMN_NAME?[t.isCRMShowStausDrop(i.row.status_id,"CRM_CAMPAIGNS")?e("listing-status",{ref:"updatestatus",attrs:{isfor:"CRM_CAMPAIGNS",dataid:i.row.campaign_id,"data-controller":"Crm",statuslist:t.StatusListForListing,item:i,"data-action":"index",dataselected:i.row.status_id,callbackfunction:t.FetchData,isselectedvaluestring:!0}}):t._e(),t.isCRMShowStausDrop(i.row.status_id,"CRM_CAMPAIGNS")?t._e():e("a",{staticClass:"inactive-disabled"},[e("span",{class:t.getStatusClass(i.row.status_id,"status_id")},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])])]:t._e(),"campaign_type"==i.column.COLUMN_NAME?[e("span",[e("span",{class:t.getCampaignIcon(i.row[i.column.COLUMN_NAME])}),t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])]:t._e()]}}])}),t.showFilter?e("searchfilter",{attrs:{submodulecode:"CRM_CAMPAIGNS",modulename:"CRM",callbackfunction:t.FetchData},on:{close:function(a){t.showFilter=!1},FilterData:t.FilterData}},[e("h5",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("Search")))])]):t._e(),t.showAddEventModal?e("modalfollowupslist",{attrs:{srcId:t.souceID,modulename:"CRM",submodulecode:"CRM_CAMPAIGNS",userid:t.userid},on:{close:t.closeEventViewModal}}):t._e(),t.ShowManageView?e("viewlayout",{directives:[{name:"show",rawName:"v-show",value:t.ShowManageView,expression:"ShowManageView"}],attrs:{submodulecode:"CRM_CAMPAIGNS",modulename:"CRM",callbackfunction:t.FetchData,usertype:t.usertype},on:{close:function(a){t.ShowManageView=!1}}}):t._e(),t.ShowManageCampaignPopup?e("modalManageCampaign",{attrs:{campaignId:t.CampaignId,reqType:t.reqType},on:{close:function(a){t.ShowManageCampaignPopup=!1}}}):t._e(),t.isShowManageSchedule?e("modalManageSchedule",{attrs:{campaignId:t.CampaignId,campaignName:t.CampaignName,mailChimpTemplateId:t.MailChimpTemplateId},on:{close:function(a){t.isShowManageSchedule=!1}}}):t._e(),t.showAssignOwnerPopup?e("openAssignOwnerPopup",{attrs:{campaignId:t.CampaignId},on:{close:function(a){t.showAssignOwnerPopup=!1}}}):t._e(),t.ShowEmailStatisticsPopup?e("modalEmailStatistics",{attrs:{campaignId:t.CampaignId,EmailCampaignData:t.EmailCampaignData},on:{close:function(a){t.ShowEmailStatisticsPopup=!1}}}):t._e(),t.ShowManageSMSSchedule?e("modalManageSMSSchedule",{attrs:{campaignId:t.CampaignId},on:{close:function(a){t.ShowManageSMSSchedule=!1}}}):t._e()],1)},s=[],n=e("53ca"),o=e("5530"),l=e("c7eb"),r=e("1da1"),c=(e("d3b7"),e("159b"),e("c740"),e("25f0"),e("e9c4"),e("9769")),d=[{title:"Page Tour",iconClass:"fa fa-road",callbackfunction:"setTourGuideSteps",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Reset",iconClass:"fa-filter text-danger",callbackfunction:"removeFilter",href:"",additionalClass:"",isdisabled:!1,isvisible:!1,checkPrivilege:!1},{title:"Filter",iconClass:"fa-filter",callbackfunction:"openFilterPopUp",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Manage View",iconClass:"fa-list-alt",callbackfunction:"ManageView",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Add a Campaign",iconClass:"fa-plus",href:"/CRM/ManageCampaign/0/No/CRM/CRM_CAMPAIGNS",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"addCampaign_a"},{title:"ExportToExcel",iconClass:"fa-file-excel-o",callbackfunction:"downloadExceldata",isdisabled:!1,isvisible:!0},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0}],u=[{fieldName:"Campaign Name",fieldType:"text",fieldIcon:"fa-envelope",fieldSearchConditionName:["CAMPAIGN_NAME"],isSearch:!1,value:"",listOptions:[]},{fieldName:"CampaignOwner",fieldType:"ddl-check",fieldIcon:"fa-user",fieldSearchConditionName:["CAMPAIGN_OWNER"],isSearch:!1,value:"",listOptions:[]},{fieldName:"CampaignType",fieldType:"ddl-check",fieldIcon:"fa-envelope",fieldSearchConditionName:["CAMPAIGN_TYPE"],isSearch:!1,value:"",listOptions:[]},{fieldName:"Status",fieldType:"ddl-check",fieldIcon:"fa fa-file-text-o",fieldSearchConditionName:["CAMP.STATUS_ID"],isSearch:!1,value:"",listOptions:[]}],m=[{title:"View",href:"/CRM/ViewCampaignDetails/{campaign_id}/CRM/CRM_CAMPAIGNS",icon:"fa fa-eye action-icon",additionalSpan:""},{title:"Edit",href:"/CRM/ManageCampaign/{campaign_id}/Yes/CRM/CRM_CAMPAIGNS",icon:"fa fa-pencil text-success action-icon",additionalSpan:""},{title:"Follow-Ups",callbackfunction:"openAddNewEvent",href:"javascript:void(0)",icon:"fa fa-flag text-muted action-icon",additionalSpan:""}];function p(t,a,e){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(Object(l["a"])().mark((function t(a,e,i){var s,n;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=a,n={},n["moduleName"]=e,n["type"]=i,t.next=6,c["a"].GetLeftSearchStatus(n).then((function(t){var a=t.data;if(null!=a){if("CAMPAIGN_OWNER_SEARCH"==i)return s.leftSearchFields[1].listOptions=a.DATA,s.LeadStatusList=a.DATA,s.LeadStatusList;"CRM_CAMPAIGN_TYPES"==i?s.leftSearchFields[2].listOptions=a.DATA:"LEAD_DEAL_STATUS"==i&&(s.leftSearchFields[3].listOptions=a.DATA)}}));case 6:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}var f={buttons:d,listActions:m,leftsearchSchema:u,bindleftCommonSearchdropdown:p},v=e("fc0b"),g=e("cdd5"),b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closepopup}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("ManageCampaign")))])]),e("div",{staticClass:"modal-body"},[[e("ul",{staticClass:"shortcuts-menu pb-3 man_camp",attrs:{id:"divChannelTypes"}},[e("li",{class:"email"==t.campaignType?"position-relative active":"position-relative"},[e("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(a){return t.onClickCampaignType("email")}}},[t._m(0),t._m(1)])]),e("li",{class:"socialMedia"==t.campaignType?"position-relative active":"position-relative"},[e("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(a){return t.onClickCampaignType("socialMedia")}}},[t._m(2),t._m(3)])]),e("li",{class:"sms"==t.campaignType?"position-relative active":"position-relative"},[e("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(a){return t.onClickCampaignType("sms")}}},[t._m(4),t._m(5)])])])],e("div",{staticClass:"border p-3 overflow-auto w-100",staticStyle:{"overflow-x":"hidden !important"}},["email"==t.campaignType&&t.isLoaded?e("dynamic-form",{attrs:{schema:t.FormSchema,buttons:t.buttons},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-SelectTemplate",fn:function(a){a.data;return[e("div",{staticClass:"w-100 float-left mt-3"},[e("a",{staticClass:"btn btn-success p-4 d-block btn_template",on:{click:function(a){return t.createTemplate()}}},[e("i",{staticClass:"fa fa-plus mr-2 font-16"}),t._v("Create New Template ")])]),t._v("   "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3 float-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTemplate,expression:"searchTemplate"}],staticClass:"form-control",attrs:{name:"search",placeholder:"Search Template",type:"text"},domProps:{value:t.searchTemplate},on:{keyup:t.onSearch,input:function(a){a.target.composing||(t.searchTemplate=a.target.value)}}})])]),e("div",{staticClass:"row mt-2"},[t._v("   "),e("div",{staticClass:"col-lg-12 mb-3"},[e("h6",[e("span",[t._v("Choose From Templates:")]),t._v(" "),e("span",{staticClass:"text-danger"},[t._v("*")])]),t._v("  "),t.isTemplateError?e("span",{staticClass:"error-class",attrs:{name:"template_id"}},[t._v("The Template field is required")]):t._e()]),!t.EmailTemplateData.length>0?e("span",{staticClass:"text-center text-danger no-record ml-4"},[t._v("No record(s) found")]):t._e(),e("div",{staticClass:"listing col-12 p-0"},[e("div",{staticClass:"row custom-box-width default_templates"},t._l(t.displayedTemplates,(function(a,i){return e("div",{key:i,staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible"},[e("div",{staticClass:"box border positionrelative float-left w-100"},[e("div",{staticClass:"default-tags"},[e("div",{staticClass:"defaultpic_control"},[e("span",{staticClass:"w-100 float-left p-2 font-weight-medium text-secondary"},[t._v(t._s(a.TEMPLATE_NAME))]),e("a",{staticClass:"btn btn-select mr-2",attrs:{title:"Select",href:"javascript:;"},on:{click:function(e){return t.Templateclick(a.TEMPLATE_ID)}}},[t._v("Select")]),e("a",{staticClass:"btn btn-view mr-2",attrs:{title:"View",href:"javascript:;"}},[t._v("View")])])]),e("div",{class:{"img-ico text-center p-4 ticket-attachments ":!0,active:a.TEMPLATE_ID==t.templateId}},[e("span",{domProps:{innerHTML:t._s(a.TEMPLATE_CONTENT)}})])])])})),0)])]),t.showAll?t._e():e("button",{staticClass:"btn btn-primary mt-2 float-right text-white",on:{click:function(a){t.showAll=!0}}},[t._v("View All")])]}}],null,!1,621234234)}):t._e(),"socialMedia"==t.campaignType&&t.isLoaded?e("modalSocialMediaCampaign"):t._e(),"sms"==t.campaignType&&t.isLoaded?e("modalSMSCampaign"):t._e(),e("div",{staticClass:"col-lg-6 float-left"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])],1)],2)])])],1)])},C=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"left-icon-m"},[e("i",{staticClass:"fa fa-envelope"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"short-item-name"},[e("span",{staticClass:"w-100 float-left"},[t._v("Email Campaign")]),e("span",{staticClass:"font-12 float-left"},[t._v("Enhance your engagement today.")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"left-icon-m"},[e("i",{staticClass:"fa fa-bullhorn"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"short-item-name"},[e("span",{staticClass:"w-100 float-left"},[t._v("Social Media Campaign")]),e("span",{staticClass:"font-12 float-left"},[t._v("A place where ideas grow.")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"left-icon-m"},[e("i",{staticClass:"fa fa-comments"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"short-item-name"},[e("span",{staticClass:"w-100 float-left"},[t._v("SMS Campaign")]),e("span",{staticClass:"font-12 float-left"},[t._v("Be the first. To ensure higher sales rate.")])])}],S=(e("a9e3"),e("fb6a"),e("b0c0"),e("4de4"),e("ac1f"),e("1276"),e("841c"),e("a15b"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"w-100 float-left"},[t._m(0),e("div",{staticClass:"listing col-12 p-0 mt-3"},[e("div",{staticClass:"row custom-box-width default_templates"},[e("a",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible",attrs:{href:"javascript:;"},on:{click:function(a){return t.loginByFacebook()}}},[t._m(1)]),e("a",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible",attrs:{href:"javascript:;"},on:{click:function(a){return t.loginByInstagram()}}},[t._m(2)]),t._m(3),t._m(4)])])])])}),_=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"w-100 float-left"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v("Start Your Campaign With:")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box positionrelative float-left w-100"},[e("div",{staticClass:"img-ico text-center p-2 ticket-attachments_small"},[e("em",{staticClass:"fa fa-file-text-o font-pic-size-28 mr-3"}),t._v(" "),e("span",{staticClass:"font-weight-medium"},[t._v("Facebook")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box positionrelative float-left w-100"},[e("div",{staticClass:"img-ico text-center p-2 ticket-attachments_small"},[e("em",{staticClass:"fa fa-file-text-o font-pic-size-28 mr-3"}),t._v(" "),e("span",{staticClass:"font-weight-medium"},[t._v("Instagram")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible",attrs:{href:"javascript:;"}},[e("div",{staticClass:"box positionrelative float-left w-100"},[e("div",{staticClass:"img-ico text-center p-2 ticket-attachments_small"},[e("em",{staticClass:"fa fa-file-text-o font-pic-size-28 mr-3"}),t._v(" "),e("span",{staticClass:"font-weight-medium"},[t._v("Google")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("a",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible",attrs:{href:"javascript:;"}},[e("div",{staticClass:"box positionrelative float-left w-100"},[e("div",{staticClass:"img-ico text-center p-2 ticket-attachments_small"},[e("em",{staticClass:"fa fa-file-text-o font-pic-size-28 mr-3"}),t._v(" "),e("span",{staticClass:"font-weight-medium"},[t._v("Bing")])])])])}],y={data:function(){return{FacebookAppId:"373917678908589",FacebookConfigurationId:"392108006804595",FacebookAuthCallBackUrl:"https://c1d7-202-164-57-195.ngrok-free.app/CRM/SMCampaignListing"}},created:function(){},methods:{loginByFacebook:function(){var t=this;window.location.href="https://graph.facebook.com/oauth/authorize?client_id="+encodeURIComponent(t.FacebookAppId.toString())+"&config_id="+encodeURIComponent(t.FacebookConfigurationId.toString())+"&redirect_uri="+encodeURIComponent(t.FacebookAuthCallBackUrl.toString())+"&scope=manage_pages,publish_pages"},loginByInstagram:function(){var t=this;window.location.href="https://api.instagram.com/oauth/authorize?client_id="+encodeURIComponent(t.FacebookAppId.toString())+"&redirect_uri="+encodeURIComponent(t.FacebookAuthCallBackUrl.toString())+"&response_type=code"}}},D=y,w=e("2877"),T=Object(w["a"])(D,S,_,!1,null,null,null),A=T.exports,E=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"w-100 float-left"},[e("div",{staticClass:"row"},[e("div",{staticClass:"w-100 float-left"},["sms"==t.campaignType&&t.isLoaded?e("dynamic-form",{attrs:{schema:t.FormSchema,buttons:t.buttons},on:{OnSubmit:t.onSubmit}}):t._e()],1)])])},M=[],x={data:function(){return{StaticObj:{layoutType:"single",Data:[{astype:"SlotField",label:"",name:"campaignType",value:"",placeholder:""}]},StaticObj2:{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Template"),name:"Template",value:"",config:{options:[]},validationRules:{required:!0}}]},buttons:[{type:"submit",class:"btn btn-primary",text:"<i class='fa fa-send pr-2'></i>Send"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.$parent.closepopup}],FormSchema:[],search:"",searchTemplate:"",campaignType:"sms",CampaignData:[],GroupBy:[],isLoading:!1,CampaignId:0,CampOwner:"",isLoaded:!1,CampaignTypeList:[],UserId:0,Template:"",statusId:1001}},created:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,e.UserId=e.GetUserInfo.ID,e.isLoaded=1,a.next=5,e.FetchData();case 5:return a.next=7,e.GetDropDownData();case 7:return a.next=9,e.GetSMSTemplate();case 9:return a.next=11,e.GetCampaignTypes();case 11:case"end":return a.stop()}}),a)})))()},methods:{FetchData:function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(){var a,e;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,a.isLoading=!0,e="id=".concat(a.CampaignId,"&moduleName=CRM&subModuleCode=CRM_CAMPAIGNS&langCode=en"),t.next=5,c["a"].getFormLayout(e).then((function(t){if(a.isLoading=!1,a.CampaignData=t.data.data,null!=a.CampaignData&&a.CampaignData.length>0){var e=a.CampaignData[0].group_id;$.each(a.CampaignData,$.proxy((function(t,i){if(a.CampaignId>0&&"campaign_type"==i.name){var s=a.CampaignTypeList.filter((function(t){return t.value==i.value}))[0].name.toLowerCase();"email"==s?a.campaignType="email":"sms"==s&&(a.campaignType="sms")}e=i.group_id;var n=$.grep(a.GroupBy,(function(t,a){return t.group_id==e}));if(0==n.length){var o=$.grep(a.CampaignData,(function(t,a){return t.group_id==e})),l=[];if(o.forEach((function(t){if("YES"==t.form_field_visibility){var e={};"TextField"==t.astype&&(e={astype:t.astype,label:a.$t(t.display_name),name:t.name,value:t.value,disabled:!1,validationRules:{required:t.system_is_required}},l.push(e)),"CustomSelectField"==t.astype&&(a.CampaignId>0?a.CampOwner=t.value:a.CampOwner=a.UserId,e={astype:t.astype,label:a.$t(t.display_name),name:t.name,value:t.value,disabled:!1,config:{options:[]},validationRules:{required:t.system_is_required}},l.push(e)),"TextAreaField"==t.astype&&(e={astype:t.astype,label:a.$t(t.display_name),name:t.name,value:t.value,disabled:!1,validationRules:{required:t.system_is_required}},l.push(e))}})),o.length>0){var r={group_id:e,layoutType:"double",group_name:o[0].group_name,group_display_name:o[0].group_display_name,Data:l};a.GroupBy.push(r)}}}))),a.FormSchema=a.GroupBy,a.GroupBy.push(a.StaticObj2)}}));case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),GetDropDownData:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,i="id=&moduleName=CRM&type=CRM_USERS",a.next=4,c["a"].getDDLData(i+"&search=").then((function(t){var a=[];t.data,""!=t.data&&(a=t.data);var i=[];if(e.CampaignOwnerData=a.DATA,null!=e.CampaignOwnerData){e.CampaignOwnerData.forEach((function(t){i.push({name:t.name,value:t.value})})),e.CampaignOwnerData=i,e.GroupBy.forEach((function(t){"campaign_details"==t.group_name&&(t.Data.filter((function(t){return"campaign_owner"==t.name}))[0].astype="MultiSelectField",t.Data.filter((function(t){return"campaign_owner"==t.name}))[0].config.options=e.CampaignOwnerData)}));var s=e.CampaignOwnerData.filter((function(t){return t.value==e.CampOwner})),n=null;s.forEach((function(t){n={label:t.name,value:t.value}})),e.FormSchema[0].Data[1].value=n}}));case 4:case"end":return a.stop()}}),a)})))()},GetCampaignTypes:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,i="id=&moduleName=CRM&type=CRM_CAMPAIGN_TYPES&search=&refId=",a.next=4,c["a"].getDDLData(i).then((function(t){if(e.CampaignTypeList=[],""!=t.data){var a=t.data.DATA;a.forEach((function(t,a){e.CampaignTypeList.push({name:t.name,value:t.value})}))}}));case 4:case"end":return a.stop()}}),a)})))()},GetSMSTemplate:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,i="id=&moduleName=CRM&type=CRM_SMS_TEMPLATE&search=&refId=",a.next=4,c["a"].getDDLData(i).then((function(t){if(e.FormSchema[2].Data[0].config.options=[],""!=t.data){var a=t.data.DATA;a.forEach((function(t,a){e.FormSchema[2].Data[0].config.options.push({name:t.name,value:t.value})}))}}));case 4:case"end":return a.stop()}}),a)})))()},onSubmit:function(t){var a=this;a.Template=t.Template,a.isLoading=!0;var e=[],i=a.CampaignData;$.each(i,(function(i,s){"campaign_name"==s.name?s.value=t.campaign_name:"campaign_owner"==s.name?s.value=t.campaign_owner:"campaign_description"==s.name?s.value=t.campaign_description:"campaign_type"==s.name?a.CampaignTypeList.forEach((function(t){var e=t.name.toLowerCase();e==a.campaignType&&(s.value=t.value)})):"status_id"==s.name?s.value=a.statusId:"template_id"==s.name&&(s.value=a.Template);var o="campaign_id"==s.name?a.CampaignId:s.value;if("campaign_id"==s.name&&"Clone"==a.reqType&&(o=0),"date"==s.dt_code&&(o=s.value),"checkbox"==s.dt_code){var l=s.select_value.filter((function(t){return null!=t&&""!=t}));o=l.join(",")}if("select"==s.dt_code)try{o="object"===Object(n["a"])(o)&&null!==o?o.value:o}catch(c){console.log(c)}var r={field_name:s.name,field_value:o,custom_field_id:s.custom_field_id};e.push(r)}));var s={data:e},o=JSON.stringify(s);c["a"].PostCampaign(o).then(function(){var e=Object(r["a"])(Object(l["a"])().mark((function e(i){return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:a.isLoading=!1,"1"==i.data[0].Code?(a.CampaignId>0&&"Update"==a.reqType?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("Campaign")]),"success",!0,a.$t("Alert")),a.$parent.closepopup()):a.CampaignId>0&&"Clone"==a.reqType?(a.ShowAlert(a.$t("CloneSuccess",[a.$t("Campaign"),t.campaign_name]),"success",!0,a.$t("Alert")),a.$parent.closepopup()):(a.ShowAlert(a.$t("AddedSuccess",[a.$t("Campaign")]),"success",!0,a.$t("Alert")),a.$parent.closepopup(),a.$parent.CampaignId=i.data[0].Value,a.$parent.CampaignName=t.campaign_name,a.$parent.$parent.ShowManageSMSSchedule=!0),a.$parent.$parent.FetchData()):a.ShowAlert(a.$t("AddedError",[a.$t("Campaign")]),"failure",!0,a.$t("Alert"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}},k=x,O=Object(w["a"])(k,E,M,!1,null,null,null),F=O.exports,P={components:{modalSocialMediaCampaign:A,modalSMSCampaign:F},props:{campaignId:{type:Number,required:!0},reqType:{type:String}},data:function(){return{StaticObj:{layoutType:"Single",Data:[{astype:"SlotField",label:"",name:"CampaignType",value:"",placeholder:""}]},StaticObj2:{layoutType:"Single",group_name:"SelectTemplate",group_display_name:this.$t("SelectTemplate"),Data:[{astype:"SlotField",name:"SelectTemplate",value:"",placeholder:""}]},buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",value:"Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closepopup,isVisible:!0}],FormSchema:[],campaignOwnerDDL:[],EmailTemplateData:[],SortBy:"",SortExp:"",PageSize:10,PageNumber:1,showAll:!1,search:"",searchTemplate:"",campaignType:"email",CampaignData:[],GroupBy:[],isLoading:!1,CampaignId:0,CampaignOwnerData:[],templateId:0,statusId:1001,CampOwner:"",isLoaded:!1,isTemplateError:!1,CampaignTypeList:[],UserId:0}},created:function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,a.UserId=a.GetUserInfo.ID,t.next=4,a.GetCampaignTypes();case 4:return t.next=6,a.FetchData();case 6:return t.next=8,a.GetDropDownData();case 8:return t.next=10,a.emailTemplateData();case 10:a.isLoaded=!0;case 11:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),computed:{displayedTemplates:function(){return this.showAll?this.EmailTemplateData:this.EmailTemplateData.slice(0,4)}},methods:{FetchData:function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(){var a,e;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,a.isLoading=!0,e="id=".concat(a.campaignId,"&moduleName=CRM&subModuleCode=CRM_CAMPAIGNS&langCode=en"),t.next=5,c["a"].getFormLayout(e).then(function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(e){var i;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a.isLoading=!1,a.CampaignData=e.data.data,null!=a.CampaignData&&a.CampaignData.length>0&&(i=a.CampaignData[0].group_id,$.each(a.CampaignData,$.proxy(function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(e,s){var n,o,r,c,d;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("NO"!=s.form_field_visibility){t.next=4;break}return"template_id"==s.name&&(a.templateId=s.value),a.campaignId>0&&"campaign_type"==s.name&&(n=a.CampaignTypeList.filter((function(t){return t.value==s.value}))[0].name.toLowerCase(),"email"==n?a.campaignType="email":"sms"==n?a.campaignType="sms":"facebook"!=n&&"instagram"!=n&&"bing"!=n&&"twitter"!=n&&"google"!=n||(a.campaignType="socialMedia")),t.abrupt("return");case 4:i=s.group_id,"date"==s.dt_code&&(s.value=""==s.value?null:s.value),"checkbox"==s.dt_code&&(s.select_value=s.value.split(",")),o=$.grep(a.GroupBy,(function(t,a){return t.group_id==i})),0==o.length&&(r=$.grep(a.CampaignData,(function(t,a){return t.group_id==i})),c=[],r.forEach((function(t){if("YES"==t.form_field_visibility){var e={};"TextField"==t.astype&&(e={astype:t.astype,label:a.$t(t.display_name),name:t.name,value:t.value,disabled:!1,validationRules:{required:t.system_is_required}},c.push(e)),"NumericField"==t.astype&&(e={astype:t.astype,label:a.$t(t.display_name),name:t.name,value:t.value,disabled:!1,validationRules:{required:t.system_is_required}},c.push(e)),"CustomSelectField"==t.astype&&(a.campaignId>0?a.CampOwner=t.value:a.CampOwner=a.UserId,e={astype:t.astype,label:a.$t(t.display_name),name:t.name,value:t.value,disabled:!1,config:{options:[]},validationRules:{required:t.system_is_required}},c.push(e)),"SelectField"==t.astype&&(e={astype:t.astype,label:a.$t(t.display_name),name:t.name,value:t.value,disabled:!1,config:{options:[]},validationRules:{required:t.system_is_required}},c.push(e)),"TextAreaField"==t.astype&&(e={astype:t.astype,label:a.$t(t.display_name),name:t.name,value:t.value,disabled:!1,validationRules:{required:t.system_is_required}},c.push(e)),"DatetimeField"==t.astype&&(e={astype:"DateField",label:a.$t(t.display_name),name:t.name,value:t.value,disabled:!1,validationRules:{required:t.system_is_required}},c.push(e))}})),r.length>0&&(d={group_id:i,layoutType:"double",group_name:r[0].group_name,group_display_name:r[0].group_display_name,Data:c},a.GroupBy.push(d)));case 9:case"end":return t.stop()}}),t)})));return function(a,e){return t.apply(this,arguments)}}())),a.GroupBy.push(a.StaticObj2),a.FormSchema=a.GroupBy);case 3:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),GetDropDownData:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,i="id=&moduleName=CRM&type=CRM_USERS",e.isLoading=!0,a.next=5,c["a"].getDDLData(i+"&search=").then((function(t){var a=[];t.data,""!=t.data&&(a=t.data);var i=[];if(e.CampaignOwnerData=a.DATA,null!=e.CampaignOwnerData){e.CampaignOwnerData.forEach((function(t){i.push({name:t.name,value:t.value})})),e.CampaignOwnerData=i,e.GroupBy.forEach((function(t){"campaign_details"==t.group_name&&(t.Data.filter((function(t){return"campaign_owner"==t.name}))[0].astype="MultiSelectField",t.Data.filter((function(t){return"campaign_owner"==t.name}))[0].config.options=e.CampaignOwnerData)}));var s=e.CampaignOwnerData.filter((function(t){return t.value==e.CampOwner})),n=null;s.forEach((function(t){n={label:t.name,value:t.value}})),e.FormSchema[0].Data[1].value=n}e.isLoading=!1}));case 5:case"end":return a.stop()}}),a)})))()},closepopup:function(){var t=this;t.$parent.CloseManageCampaignPopup()},emailTemplateData:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=t,i="id=&search="+e.search+"&refId=&subModuleCode=CRM_CAMPAIGNS&sortBy="+e.SortBy+"&sortExp="+e.SortExp+"&pageSize="+e.PageSize+"&pageNumber="+e.PageNumber,c["a"].TemplateListing(i).then((function(t){null==t.data||""==t.data?e.EmailTemplateData=[]:e.EmailTemplateData=t.data.data}));case 3:case"end":return a.stop()}}),a)})))()},onSubmit:function(t){var a=this;if(!a.templateId)return a.isTemplateError=!0,!1;t.SelectTemplate=a.templateId,a.isLoading=!0;var e=[],i=a.CampaignData;$.each(i,(function(i,s){"campaign_name"==s.name?s.value=t.campaign_name:"campaign_owner"==s.name?s.value=t.campaign_owner:"campaign_description"==s.name?s.value=t.campaign_description:"campaign_type"==s.name?a.CampaignTypeList.forEach((function(t){var e=t.name.toLowerCase();e==a.campaignType&&(s.value=t.value)})):"status_id"==s.name?s.value=a.statusId:"template_id"==s.name&&(s.value=a.templateId.toString());var o="campaign_id"==s.name?a.campaignId:s.value;if("campaign_id"==s.name&&"Clone"==a.reqType&&(o=0),"date"==s.dt_code&&(o=s.value),"checkbox"==s.dt_code){var l=s.select_value.filter((function(t){return null!=t&&""!=t}));o=l.join(",")}if("select"==s.dt_code)try{o="object"===Object(n["a"])(o)&&null!==o?o.value:o}catch(c){console.log(c)}var r={field_name:s.name,field_value:o,custom_field_id:s.custom_field_id};e.push(r)}));var s={data:e},o=JSON.stringify(s);c["a"].PostCampaign(o).then(function(){var e=Object(r["a"])(Object(l["a"])().mark((function e(i){var s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.isLoading=!1,"1"!=i.data[0].Code){e.next=9;break}return s=a.EmailTemplateData.filter((function(t){return t.TEMPLATE_ID==a.templateId}))[0],e.next=5,a.AddOrUpdateMailChimpTemplate(s.TEMPLATE_ID,s.MAILCHIMP_TEMPLATE_ID,s.TEMPLATE_NAME,s.TEMPLATE_CONTENT);case 5:a.campaignId>0&&"Update"==a.reqType?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("Campaign")]),"success",!0,a.$t("Alert")),a.closepopup()):a.campaignId>0&&"Clone"==a.reqType?(a.ShowAlert(a.$t("CloneSuccess",[a.$t("Campaign"),t.campaign_name]),"success",!0,a.$t("Alert")),a.closepopup()):(a.ShowAlert(a.$t("AddedSuccess",[a.$t("Campaign")]),"success",!0,a.$t("Alert")),a.closepopup(),a.$parent.CampaignId=i.data[0].Value,a.$parent.CampaignName=t.campaign_name,a.$parent.isShowManageSchedule=!0),a.$parent.FetchData(),e.next=10;break;case 9:a.ShowAlert(a.$t("AddedError",[a.$t("Campaign")]),"failure",!0,a.$t("Alert"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},AddOrUpdateMailChimpTemplate:function(t,a,e,i){var s=this;return Object(r["a"])(Object(l["a"])().mark((function n(){var o,d,u;return Object(l["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=s,null==a&&(a=0),d={templateId:a,templateName:e,folderId:null,htmlContent:i},u=JSON.stringify(d),n.next=6,c["a"].AddOrUpdateTemplate(u).then(function(){var a=Object(r["a"])(Object(l["a"])().mark((function a(e){var i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(null==e.data){a.next=5;break}return i=e.data.id,o.$parent.MailChimpTemplateId=i,a.next=5,o.AddUpdateMailChimpTemplateId(t,i);case 5:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());case 6:case"end":return n.stop()}}),n)})))()},AddUpdateMailChimpTemplateId:function(t,a){return Object(r["a"])(Object(l["a"])().mark((function e(){var i,s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={templateId:t,mailChimpTemplateId:a},s=JSON.stringify(i),e.next=4,c["a"].AddUpdateMailChimpTemplateId(s).then((function(t){}));case 4:case"end":return e.stop()}}),e)})))()},onClickCampaignType:function(t){var a=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=a,i.campaignType=t;case 2:case"end":return e.stop()}}),e)})))()},onSearch:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e=t,e.search=e.searchTemplate,e.emailTemplateData();case 3:case"end":return a.stop()}}),a)})))()},Templateclick:function(t){var a=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=a,i.templateId=t,i.isTemplateError=!1;case 3:case"end":return e.stop()}}),e)})))()},createTemplate:function(){return Object(r["a"])(Object(l["a"])().mark((function t(){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.open("http://localhost:9000/EmailTemplate/Index","_blank");case 1:case"end":return t.stop()}}),t)})))()},GetCampaignTypes:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,i="id=&moduleName=CRM&type=CRM_CAMPAIGN_TYPES&search=&refId=",a.next=4,c["a"].getDDLData(i).then((function(t){if(e.CampaignTypeList=[],""!=t.data){var a=t.data.DATA;a.forEach((function(t,a){e.CampaignTypeList.push({name:t.name,value:t.value})}))}}));case 4:case"end":return a.stop()}}),a)})))()}}},I=P,N=(e("d514"),Object(w["a"])(I,b,C,!1,null,null,null)),R=N.exports,L=e("e29d"),j=e("2aeb"),U=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[e("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closepopup}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("ManageSchedule")))])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-SendType",fn:function(a){return[e("ul",{staticClass:"shortcuts-menu pb-3 man_camp man_view",attrs:{id:"ManageCampaignTypes"}},[e("li",{class:"SendNow"==t.SendType?"position-relative active":"position-relative"},[e("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(a){return t.onClickSendOrSchedule("SendNow")}}},[e("span",{staticClass:"left-icon-m"},[e("i",{staticClass:"fa fa-send-o"})]),e("span",{staticClass:"short-item-name"},[e("span",{staticClass:"w-100 float-left"},[t._v("Send Now")]),e("span",{staticClass:"font-12 float-left"},[t._v("Send the email campaign immediately")])])])]),e("li",{class:"Schedule"==t.SendType?"position-relative active":"position-relative"},[e("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(a){return t.onClickSendOrSchedule("Schedule")}}},[e("span",{staticClass:"left-icon-m"},[e("i",{staticClass:"fa fa-calendar-o"})]),e("span",{staticClass:"short-item-name"},[e("span",{staticClass:"w-100 float-left"},[t._v("Schedule")]),e("span",{staticClass:"font-12 float-left"},[t._v("Pick a date and time")])])])]),e("li",{class:"BatchSchedule"==t.SendType?"position-relative active":"position-relative"},[e("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(a){return t.onClickSendOrSchedule("BatchSchedule")}}},[e("span",{staticClass:"left-icon-m"},[e("i",{staticClass:"fa fa-users"})]),e("span",{staticClass:"short-item-name"},[e("span",{staticClass:"w-100 float-left"},[t._v("Batch Schedule")]),e("span",{staticClass:"font-12 float-left"},[t._v("Schedule to large groups of contacts in drip mode")])])])])])]}},{key:"tgslot-ScheduleAtTime",fn:function(a){a.data;return[e("div",{staticClass:"input-group"},[e("v-date-picker",{staticClass:"timedate timedate_hs input-group",attrs:{"min-date":t.getMinDate(),"minute-increment":5,mode:"time"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.inputValue,s=a.inputEvents,n=a.togglePopover;return[e("input",t._g({class:{"form-control":!0},attrs:{placeholder:"HH:MM"},domProps:{value:i}},s)),e("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-clock-o"})])])]}}],null,!0),model:{value:t.ScheduleAtTime,callback:function(a){t.ScheduleAtTime=a},expression:"ScheduleAtTime"}})],1)]}},{key:"tgslot-BatchStartTime",fn:function(a){a.data;return[e("div",{staticClass:"input-group"},[e("v-date-picker",{staticClass:"timedate timedate_hs input-group",attrs:{"min-date":t.getMinDate(),"minute-increment":5,mode:"time"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.inputValue,s=a.inputEvents,n=a.togglePopover;return[e("input",t._g({class:{"form-control":!0},attrs:{placeholder:"Start Time"},domProps:{value:i}},s)),e("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-clock-o"})])])]}}],null,!0),model:{value:t.BatchStartTime,callback:function(a){t.BatchStartTime=a},expression:"BatchStartTime"}})],1)]}},{key:"tgslot-BatchEndTime",fn:function(a){a.data;return[e("div",{staticClass:"input-group"},[e("v-date-picker",{staticClass:"timedate timedate_hs input-group",attrs:{"min-date":t.getMinDate(),"minute-increment":5,mode:"time"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.inputValue,s=a.inputEvents,n=a.togglePopover;return[e("input",t._g({class:{"form-control":!0},attrs:{placeholder:"End Time"},domProps:{value:i}},s)),e("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-clock-o"})])])]}}],null,!0),model:{value:t.BatchEndTime,callback:function(a){t.BatchEndTime=a},expression:"BatchEndTime"}})],1)]}}])})],1)])])]),t.isShowSMTPModal?e("modaladdsmtp",{attrs:{SendThrough:t.SendThrough,ProfileId:t.ProfileId},on:{close:function(a){t.isShowSMTPModal=!1}}}):t._e()],1)},B=[],G=e("c511"),q={components:{modaladdsmtp:G["a"]},props:{campaignId:{type:Number,required:!0},campaignName:{type:String,required:!0},mailChimpTemplateId:{type:Number,required:!0}},data:function(){return{Contactlist:[],timezone:[],isShowSMTPModal:!1,Grouplist:[],FormSchema:[{layoutType:"single",Data:[{astype:"SlotField",name:"SendType",value:"",placeholder:""}]},{layoutType:"double",Data:[{astype:"SlotField",name:"Schedule",value:"",placeholder:"",visibility:!1}]},{layoutType:"single",Data:[{astype:"SlotField",name:"Batch",value:"",placeholder:"",visibility:!1}]},{layoutType:"double",group_name:this.$t("ScheduleAt"),group_display_name:this.$t("ScheduleAt"),Data:[{astype:"DateField",label:"Schedule Date",name:"ScheduleAtDate",value:"",placeholder:"Enter Start Date",config:{options:[]},validationRules:{required:!0},visibility:!1},{astype:"SlotField",label:this.$t("ScheduleTime"),name:"ScheduleAtTime",value:"",placeholder:"Time",config:{options:[]},validationRules:{required:!0},visibility:!1}]},{layoutType:"triple",group_name:this.$t("NoofRecipients"),group_display_name:this.$t("NoofRecipients"),Data:[{astype:"DateField",label:this.$t("EventStartDate"),name:"BatchStartDate",value:"",placeholder:"Enter Start Date",config:{options:[]},validationRules:{required:!0},visibility:!1},{astype:"SlotField",label:this.$t("Specifystartandendtime"),name:"BatchStartTime",value:"",placeholder:"Time",config:{options:[]},validationRules:{required:!1},visibility:!1},{astype:"SlotField",label:"",name:"BatchEndTime",value:"",placeholder:"Time",config:{options:[]},validationRules:{required:!1},visibility:!1}]},{layoutType:"four",Data:[{astype:"NumericField",label:this.$t("BatchQuantity"),name:"BatchQuantity",value:"",placeholder:"Batch Quantity",config:{options:[]},validationRules:{required:!1},visibility:!1},{astype:"SelectField",label:"",name:"BatchType",value:"",placeholder:"",config:{options:[{value:"Days",name:"Days"},{value:"Hours",name:"Hours"},{value:"Minutes",name:"Minutes"},{value:"Seconds",name:"Seconds"}]},validationRules:{required:!1},visibility:!1},{astype:"NumericField",label:this.$t("RepeatAfter"),name:"RepeatAfter",value:"",placeholder:"Repeat After",config:{options:[]},validationRules:{required:!1},visibility:!1}]},{layoutType:"single",Data:[{astype:"CheckBoxField",label:this.$t("SelectDay"),name:"BatchDays",value:["1","2","3","4","5","6","7"],config:{options:[{value:"1",name:"Mon"},{value:"2",name:"Tue"},{value:"3",name:"Wed"},{value:"4",name:"Thu"},{value:"5",name:"Fri"},{value:"6",name:"Sat"},{value:"7",name:"Sun"}]},validationRules:{required:!1},visibility:!1}]},{group_name:"Sender Details",group_display_name:this.$t("Sender Details"),layoutType:"double",Data:[{astype:"SelectField",label:this.$t("SendThrough"),name:"SendThrough",value:"",placeholder:"Select",config:{options:[{name:"MailChimp",value:"MailChimp"},{name:"SendGrid",value:"SendGrid"},{name:"SMTP",value:"SMTP"}],onChange:this.onChangeSendThrough},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("SendProfile"),name:"SendProfile",value:"",placeholder:"Select",config:{options:[],onChange:this.onChangeProfile,showAddIcon:!0,onAddButtonClick:this.AddSMTPCredentials},validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"CheckBoxField",label:this.$t("TrackEmail"),name:"TrackEmail",value:"",config:{options:[{name:"",value:!0}]},validationRules:{required:!1}}]},{group_name:"Enter Email Details",group_display_name:this.$t("Enter Email Details"),layoutType:"double",Data:[{astype:"TextField",label:this.$t("SenderEmail"),name:"SenderEmail",value:"",placeholder:"",config:{},validationRules:{required:!0}},{astype:"TextField",label:this.$t("SenderName"),name:"SenderName",value:"",placeholder:"",config:{},validationRules:{required:!0}}]},{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Subjectline"),name:"Subjectline",value:"",placeholder:"Subject line",config:{},validationRules:{required:!0}},{astype:"TextField",label:this.$t("PreviewText"),name:"PreviewText",value:"",placeholder:"(Optional)",config:{},validationRules:{required:!1},visibility:!1}]},{layoutType:"single",Data:[{astype:"RadioField",label:this.$t(""),name:"Recipient",value:"1",placeholder:"",config:{options:[{value:"1",name:"Choose Contacts"},{value:"2",name:"Send to Smart List"}],onChange:this.onclickContactorGroup},visibility:!0,validationRules:{required:!1}}]},{layoutType:"double",Data:[{astype:"MultiSelectField",label:this.$t("Contact"),name:"Contact",value:"",mode:"tag",config:{options:[]},visibility:!0,validationRules:{required:!0}},{astype:"MultiSelectField",label:this.$t("ContactGroup"),name:"ContactGroup",value:"",mode:"tag",config:{options:[]},visibility:!1,validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"submit",class:"btn btn-primary",text:"<i class='fa fa-envelope pr-2'></i>Schedule"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closepopup,isVisible:!0}],SendThrough:"",ProfileId:0,SendType:"SendNow",ScheduleAtTime:null,BatchStartTime:null,BatchEndTime:null}},created:function(){var t=this;t.FormSchema[3].group_display_name="",t.FormSchema[4].group_display_name="",t.FormSchema[3].group_name="",t.FormSchema[4].group_name="",t.GetContacts()},methods:{closepopup:function(){var t=this;t.$parent.closeManageCampaign()},GetContacts:function(){var t=this,a="id=&moduleName=CRM&type=CRM_CONTACTS&search=&refId=";c["a"].getDDLData(a).then((function(a){t.Contactlist=[],t.FormSchema[12].Data[0].config.options=[],t.Contactlist=a.data.DATA,t.Contactlist.forEach((function(a,e){t.FormSchema[12].Data[0].config.options.push({name:a.name,value:a.value})}))}))},onChangeSendThrough:function(t){var a=this;a.ProfileId=0,a.SendThrough=t.target.value,a.FormSchema[7].Data[1].value="",a.FillProfileDropdown(a.SendThrough)},FillProfileDropdown:function(t){var a=this;a.FormSchema[7].Data[1].config.options=[];var e="id=&moduleName=CRM&type=".concat(t);c["a"].getDDLData(e+"&search=").then((function(t){if(void 0!=t.data.DATA){var e=t.data.DATA;e.forEach((function(t){a.FormSchema[7].Data[1].config.options.push({name:t.name,value:t.value})}))}}))},onChangeProfile:function(t){var a=this;a.ProfileId=t.target.value},AddSMTPCredentials:function(){var t=this;if(""==t.FormSchema[7].Data[0].value)return t.ShowAlert("Please select atleast one value in send through dropdown.","warning",!0,t.$t("Alert")),!1;t.isShowSMTPModal=!0},onClickSendOrSchedule:function(t){var a=this;a.ResetProperties(),a.SendType=t,"SendNow"==t?(a.FormSchema[3].group_display_name="",a.FormSchema[4].group_display_name="",a.FormSchema[4].group_name="",a.FormSchema[3].group_name="",a.FormSchema[3].Data[0].visibility=!1,a.FormSchema[3].Data[1].visibility=!1,a.FormSchema[4].Data[0].visibility=!1,a.FormSchema[4].Data[1].visibility=!1,a.FormSchema[4].Data[2].visibility=!1,a.FormSchema[5].Data[0].visibility=!1,a.FormSchema[5].Data[1].visibility=!1,a.FormSchema[5].Data[2].visibility=!1,a.FormSchema[6].Data[0].visibility=!1):"Schedule"==t?(a.FormSchema[4].group_display_name="",a.FormSchema[4].group_name="",a.FormSchema[3].group_display_name=a.$t("ScheduleAt"),a.FormSchema[3].group_name=a.$t("ScheduleAt"),a.FormSchema[3].Data[0].visibility=!0,a.FormSchema[3].Data[1].visibility=!0,a.FormSchema[4].Data[0].visibility=!1,a.FormSchema[4].Data[1].visibility=!1,a.FormSchema[4].Data[2].visibility=!1,a.FormSchema[5].Data[0].visibility=!1,a.FormSchema[5].Data[1].visibility=!1,a.FormSchema[5].Data[2].visibility=!1,a.FormSchema[6].Data[0].visibility=!1):(a.FormSchema[4].group_display_name=a.$t("NoofRecipients"),a.FormSchema[4].group_name=a.$t("NoofRecipients"),a.FormSchema[3].group_display_name="",a.FormSchema[3].group_name="",a.FormSchema[3].Data[0].visibility=!1,a.FormSchema[3].Data[1].visibility=!1,a.FormSchema[4].Data[0].visibility=!0,a.FormSchema[4].Data[1].visibility=!0,a.FormSchema[4].Data[2].visibility=!0,a.FormSchema[5].Data[0].visibility=!0,a.FormSchema[5].Data[1].visibility=!0,a.FormSchema[5].Data[2].visibility=!0,a.FormSchema[6].Data[0].visibility=!0)},GetContactGroup:function(){var t=this,a="id=&subModuleCode=CRM_CAMPAIGNS";c["a"].ContactGroupListing(a).then((function(a){t.Contactlist=[],t.FormSchema[12].Data[1].config.options=[],t.Contactlist=a.data.data,t.Contactlist.forEach((function(a,e){t.FormSchema[12].Data[1].config.options.push({name:a.NAME,value:a.GROUP_ID})}))}))},onclickContactorGroup:function(t){var a=this,e=t.target.getAttribute("data-value");a.FormSchema[12].Data[1].value="",a.FormSchema[12].Data[0].value="","1"==e?(a.GetContacts(),a.FormSchema[12].Data[1].visibility=!1,a.FormSchema[12].Data[0].visibility=!0):(a.GetContactGroup(),a.FormSchema[12].Data[0].visibility=!1,a.FormSchema[12].Data[1].visibility=!0)},ResetProperties:function(){var t=this;t.BatchStartTime=null,t.BatchEndTime=null,t.ScheduleAtTime=null,t.FormSchema[3].Data[0].value="",t.FormSchema[4].Data[0].value="",t.FormSchema[5].Data[0].value="",t.FormSchema[5].Data[1].value="",t.FormSchema[5].Data[2].value="",t.FormSchema[6].Data[0].value=["1","2","3","4","5","6","7"]},onSubmit:function(t,a){var e=this,i={date:t.ScheduleAtDate,time:e.ScheduleAtTime,timezone:null},s={start_date:t.BatchStartDate,batch_quantity:t.BatchQuantity,batch_type:t.BatchType,repeat_after:t.RepeatAfter,batch_days:t.BatchDays.join(),start_time:e.BatchStartTime,end_time:e.BatchEndTime},n={campaign_id:e.campaignId,sub_module_code:"CRM_CAMPAIGNS",send_type:e.SendType,send_through:t.SendThrough,profile_id:t.SendProfile,track_email:""!=t.TrackEmail,recipient:t.Recipient,from_email:t.SenderEmail,from_name:t.SenderName,contact:t.Contact,contact_group:t.ContactGroup,subject:t.Subjectline,preview_text:t.PreviewText,schedule:i,batch_schedule:s},o=JSON.stringify(n);c["a"].SaveScheduleCampaign(o).then((function(t){"SENT"==t.data?(e.ShowAlert("Email Sent Successfully.","success",!0,e.$t("Alert")),e.closepopup()):"SCHEDULED"==t.data?(e.ShowAlert("Email Scheduled Successfully.","success",!0,e.$t("Alert")),e.closepopup()):"BATCH_SCHEDULED"==t.data?(e.ShowAlert("Email Batch Scheduled Successfully.","success",!0,e.$t("Alert")),e.closepopup()):e.ShowAlert("Something went wrong.","danger",!0,e.$t("Alert"))})),"MailChimp"==t.SendThrough&&e.GetContactListData(n)},GetContactListData:function(t){var a=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var i,s,n,o,d,u,m,p,h;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=a,s="",n="","1"==t.recipient?(s="contacts",o=JSON.stringify(t.contact),d=JSON.parse(o),d.forEach((function(t,a){0==a?n=t.value:n+=","+t.value}))):(s="groups",u=JSON.stringify(t.contact_group),m=JSON.parse(u),m.forEach((function(t,a){0==a?n=t.value:n+=","+t.value}))),p={type:s,ids:n},h=JSON.stringify(p),e.next=8,c["a"].GetContacts(h).then(function(){var a=Object(r["a"])(Object(l["a"])().mark((function a(e){var s;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e.data.RESULT,"SUCCESS"!=e.data.STATUS||null==s){a.next=6;break}return a.next=4,i.AddMemberToMailChimp(s);case 4:return a.next=6,i.SaveSendMaliChimpCampaign(t);case 6:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})))()},AddMemberToMailChimp:function(t){return Object(r["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,c["a"].AddMemberToMailChimp(t).then((function(t){}));case 2:case"end":return a.stop()}}),a)})))()},SaveSendMaliChimpCampaign:function(t){var a=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var i,s,n,o,r,d;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=a,s="",n=t.batch_schedule.batch_type,o=parseInt(t.batch_schedule.repeat_after),s="Seconds"==n?Math.floor(o/60):"Hours"==n?Math.floor(60*o):"Days"==n?Math.floor(24*o*60):o,r={templateId:i.mailChimpTemplateId,fromName:t.from_name,subjectLine:t.subject,issueTitle:i.campaignName,previewText:t.preview_text,fromEmail:t.from_email,sendType:t.send_type,scheduleDate:t.schedule.date,scheduleTime:t.schedule.time,batchStartDate:t.batch_schedule.start_date,batchStartTime:t.batch_schedule.start_time,batchQuantity:t.batch_schedule.batch_quantity,repeatAfter:s},d=JSON.stringify(r),c["a"].AddCampaignToMailChimp(d).then((function(t){}));case 8:case"end":return e.stop()}}),e)})))()}}},V=q,H=(e("44c7"),Object(w["a"])(V,U,B,!1,null,null,null)),z=H.exports,Y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"modal my-popups  fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[e("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("AssignCampaignOwner")))])]),e("div",{staticClass:"modal-body"},[t.isLoaded?e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}):t._e()],1)])])])])},J=[],K={props:{campaignId:{type:Number,required:!0}},data:function(){return{isLoaded:!1,FormSchema:[{layoutType:"single",Data:[{astype:"CustomSelectField",label:this.$t("CampaignOwner"),name:"CampaignOwner",value:"",config:{options:[]},placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.CloseAssignOwnerPopup}]}},created:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,a.next=3,e.GetCampaignOwners();case 3:e.isLoaded=!0;case 4:case"end":return a.stop()}}),a)})))()},methods:{onSubmit:function(t,a){var e=this,i={campaign_id:e.campaignId,campaign_owner_id:parseInt(t.CampaignOwner.value)},s=JSON.stringify(i);c["a"].AssignCampaignOwner(s).then((function(t){""!=t.data&&"SUCCESS"==t.data?(e.ShowAlert("Campaign Owner assigned successfully","success",!0,e.$t("Alert")),e.$parent.FetchData(),e.$emit("close")):e.ShowAlert(e.$t("Something_Wrong"),"failure",!0,e.$t("Alert"))}))},CloseAssignOwnerPopup:function(){var t=this;t.$emit("close")},GetCampaignOwners:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e,i;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,i="id=&moduleName=CRM&type=CRM_USERS",a.next=4,c["a"].getDDLData(i+"&search=").then((function(t){if(""!=t.data){var a=t.data.DATA,i=[];null!=a&&(a.forEach((function(t){i.push({name:t.name,value:t.value})})),e.FormSchema[0].Data[0].config.options=i)}}));case 4:case"end":return a.stop()}}),a)})))()}}},Q=K,W=Object(w["a"])(Q,Y,J,!1,null,null,null),X=W.exports,Z=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closepopup}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("EmailStatistics")))])]),e("div",{staticClass:"w-100 float-left",staticStyle:{"margin-top":"20px"}},[e("div",{staticClass:"listing col-12 p-0"},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-8 col-xl-9"},[e("div",{staticClass:"row"},[t._m(1),t._m(2),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Created On:")]),t._v(" "+t._s(t.EmailCampaignData.created_at))])])]),t._m(3),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Updated On:")]),t._v(" "+t._s(t.EmailCampaignData.modified_at))])])])])])])])]),e("div",{staticClass:"w-100 float-left"},[e("div",{staticClass:"card mb-3 probx"},[t._m(4),e("div",{staticClass:"card-body"},[e("div",{staticClass:"listing col-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 stat_slides mb-2"},[e("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Attempted: "+t._s(t.StatisticsData[0].ATTEMPTED))]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].ATTEMPTED)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),t._m(5)])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 stat_slides mb-2"},[e("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Send: "+t._s(t.StatisticsData[0].DELIVERED_COUNT))]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].DELIVERED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),t._m(6)])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-4 stat_slides mb-2"},[e("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Skipped: "+t._s(t.StatisticsData[0].SKIPPED))]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].SKIPPED)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),t._m(7)])])])])])])]),e("div",{staticClass:"card-body",staticStyle:{"text-align":"center"}},[e("button",{attrs:{campaignId:t.CampaignId},on:{click:t.OpenCampaignStatisticsPopup}},[t._v("Load more Statistics")])])])])],1),t.ShowCampaignStatisticsPopup?e("ViewCampaignStatistics",{attrs:{campaignId:t.CampaignId,EmailCampaignData:t.EmailCampaignData},on:{close:function(a){t.ShowCampaignStatisticsPopup=!1}}}):t._e()],1)},tt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-12 col-md-6 col-lg-4 col-xl-3 default-tag-vissible"},[e("div",{staticClass:"box border positionrelative float-left w-100"},[e("div",{staticClass:"default-tags"},[e("div",{staticClass:"defaultpic_control"},[e("a",{staticClass:"btn btn-view mr-2",attrs:{title:"",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Preview"}},[e("em",{staticClass:"fa fa-eye mr-2"}),t._v("Preview")])])]),e("div",{staticClass:"img-ico text-center p-4 ticket-attachments"},[e("i",{staticClass:"fa fa-file-text-o font-pic-size-28"})])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Send Type:")]),t._v(" Send")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Send by:")]),t._v(" abner@gmail.com")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6"},[e("div",{staticClass:"form-group"},[e("label",[e("b",[t._v("Attempted:")]),t._v(" "),e("em",{staticClass:"fa fa-users mr-2"}),t._v("2 Contacts")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card-header"},[e("h2",[t._v("Subject: Campaign")]),e("div",{staticClass:"cont_right"},[e("div",{staticClass:"bar"},[e("em",{staticClass:"fa fa-calendar mr-2"}),t._v("Execution Date: 5 Nov 2024 - 4:00 pm")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"float-right icobase"},[e("i",{staticClass:"fa fa-file-text-o"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"float-right icobase"},[e("i",{staticClass:"fa fa-paper-plane-o"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"float-right icobase"},[e("i",{staticClass:"fa fa-history"})])}],at=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closepopup}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("CampaignStatistics")))])]),e("div",{staticClass:"modal-body"},[e("CampaignStatistics",{attrs:{campaignId:t.CampaignId,LeftViewData:t.LeftViewData,EmailCampaignData:t.EmailCampaignData,isRightContent:!1}})],1)])])],1)])},et=[],it=e("78c5"),st={components:{CampaignStatistics:it["a"]},props:{CampaignId:{type:Number,required:!0},EmailCampaignData:{type:String,required:!0},LeftViewData:{type:String,required:!0}},data:function(){return{}},created:function(){},methods:{closepopup:function(){var t=this;t.$parent.CloseCampaignStatisticsPopup()}}},nt=st,ot=Object(w["a"])(nt,at,et,!1,null,null,null),lt=ot.exports,rt={components:{ViewCampaignStatistics:lt},props:{CampaignId:{type:Number,required:!0},EmailCampaignData:{type:String,required:!0}},data:function(){return{ShowCampaignStatisticsPopup:!1,Attempted:0,Send:0,Skipped:0,StatisticsData:[],isPercentage:!1,startDate:new Date,endDate:new Date}},created:function(){this.GetCampaignStatistics()},methods:{OpenCampaignStatisticsPopup:function(t){this.CampaignId=t.campaign_id,this.ShowCampaignStatisticsPopup=!0},CloseCampaignStatisticsPopup:function(){this.ShowCampaignStatisticsPopup=!1},closepopup:function(){var t=this;t.$parent.CloseEmailStatisticsPopup()},GetCampaignStatistics:function(){var t=this;t.isPercentage=!0;var a="campaignid=CampaignId&dateform=&dateto=";c["a"].GetCampaignStatistics(a).then((function(a){t.StatisticsData=[],null!=a.data&&(t.StatisticsData=a.data,t.Attempted=t.StatisticsData[0].ATTEMPTED,t.Send=t.StatisticsData[0].DELIVERED_COUNT,t.Skipped=t.StatisticsData[0].SKIPPED)}))}}},ct=rt,dt=Object(w["a"])(ct,Z,tt,!1,null,null,null),ut=dt.exports,mt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{staticClass:"modal my-popups right fade show",staticStyle:{display:"block"},attrs:{role:"dialog"}},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.closepopup}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("ManageCampaign")))])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-SendType",fn:function(a){return[e("ul",{staticClass:"shortcuts-menu pb-3 man_camp man_view",attrs:{id:"ManageCampaignTypes"}},[e("li",{class:"SendNow"==t.SendType?"position-relative active":"position-relative"},[e("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(a){return t.onClickSendOrSchedule("SendNow")}}},[e("span",{staticClass:"left-icon-m"},[e("i",{staticClass:"fa fa-send-o"})]),e("span",{staticClass:"short-item-name"},[e("span",{staticClass:"w-100 float-left"},[t._v("Send Now")]),e("span",{staticClass:"font-12 float-left"},[t._v("Send the email campaign immediately")])])])]),e("li",{class:"Schedule"==t.SendType?"position-relative active":"position-relative"},[e("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(a){return t.onClickSendOrSchedule("Schedule")}}},[e("span",{staticClass:"left-icon-m"},[e("i",{staticClass:"fa fa-calendar-o"})]),e("span",{staticClass:"short-item-name"},[e("span",{staticClass:"w-100 float-left"},[t._v("Schedule")]),e("span",{staticClass:"font-12 float-left"},[t._v("Pick a date and time")])])])]),e("li",{class:"BatchSchedule"==t.SendType?"position-relative active":"position-relative"},[e("a",{staticClass:"short-menu-item",attrs:{href:"javascript:","data-toggle":"tooltip",title:"","data-placement":"bottom","data-toggle-tooltip":"tooltip"},on:{click:function(a){return t.onClickSendOrSchedule("BatchSchedule")}}},[e("span",{staticClass:"left-icon-m"},[e("i",{staticClass:"fa fa-users"})]),e("span",{staticClass:"short-item-name"},[e("span",{staticClass:"w-100 float-left"},[t._v("Batch Schedule")]),e("span",{staticClass:"font-12 float-left"},[t._v("Schedule to large groups of contacts in drip mode")])])])])])]}},{key:"tgslot-ScheduleAtTime",fn:function(a){a.data;return[e("div",{staticClass:"input-group"},[e("v-date-picker",{staticClass:"timedate timedate_hs input-group",attrs:{"min-date":t.getMinDate(),"minute-increment":5,mode:"time"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.inputValue,s=a.inputEvents,n=a.togglePopover;return[e("input",t._g({class:{"form-control":!0},attrs:{placeholder:"HH:MM"},domProps:{value:i}},s)),e("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-clock-o"})])])]}}],null,!0),model:{value:t.ScheduleAtTime,callback:function(a){t.ScheduleAtTime=a},expression:"ScheduleAtTime"}})],1)]}},{key:"tgslot-BatchStartTime",fn:function(a){a.data;return[e("div",{staticClass:"input-group"},[e("v-date-picker",{staticClass:"timedate timedate_hs input-group",attrs:{"min-date":t.getMinDate(),"minute-increment":5,mode:"time"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.inputValue,s=a.inputEvents,n=a.togglePopover;return[e("input",t._g({class:{"form-control":!0},attrs:{placeholder:"Start Time"},domProps:{value:i}},s)),e("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-clock-o"})])])]}}],null,!0),model:{value:t.BatchStartTime,callback:function(a){t.BatchStartTime=a},expression:"BatchStartTime"}})],1)]}},{key:"tgslot-BatchEndTime",fn:function(a){a.data;return[e("div",{staticClass:"input-group"},[e("v-date-picker",{staticClass:"timedate timedate_hs input-group",attrs:{"min-date":t.getMinDate(),"minute-increment":5,mode:"time"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.inputValue,s=a.inputEvents,n=a.togglePopover;return[e("input",t._g({class:{"form-control":!0},attrs:{placeholder:"End Time"},domProps:{value:i}},s)),e("div",{staticClass:"input-group-append",on:{click:function(t){return n()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-clock-o"})])])]}}],null,!0),model:{value:t.BatchEndTime,callback:function(a){t.BatchEndTime=a},expression:"BatchEndTime"}})],1)]}}])})],1)])])],1),t.ShowmodalSMSIntegration?e("modalSMSIntegration",{attrs:{SendThrough:t.SendThrough,ProfileId:t.ProfileId},on:{close:function(a){t.ShowmodalSMSIntegration=!1}}}):t._e()],1)},pt=[],ht=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal d-block my-popups dialog"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._t("header",(function(){return[e("h5",[t._v(t._s(t.$t("AddNewAccount")))])]})),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(a){return t.$emit("close")}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("small",{staticClass:"text-danger"},[t._v(t._s(t.$t("MandatoryString")))])])])],1)])])])},ft=[],vt={props:{SendThrough:{type:String,required:!0},ProfileId:{type:Number,required:!1}},data:function(){return{FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Profile"),name:"Profile",value:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("ACCOUNT"),name:"Account",value:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("Token"),name:"Token",value:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("PhoneNumber"),name:"PhoneNumber",value:"",placeholder:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Save"}]}},created:function(){var t=this;return Object(r["a"])(Object(l["a"])().mark((function a(){var e;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=t,!(e.ProfileId>0)){a.next=4;break}return a.next=4,e.GetSMTPProfile(e.ProfileId);case 4:case"end":return a.stop()}}),a)})))()},methods:{GetSMTPProfile:function(t){var a=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var i,s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=a,s="profileId=".concat(t),e.next=4,c["a"].GetEmailProfile(s).then((function(t){i.FormSchema[0].Data[0].value=t.data.smtp_server,i.FormSchema[0].Data[1].value=t.data.key,i.FormSchema[0].Data[2].value=t.data.SecretKey,i.FormSchema[0].Data[3].value=t.data.from_email}));case 4:case"end":return e.stop()}}),e)})))()},onSubmit:function(t){var a=this,e={send_through:a.SendThrough,smtp_server:t.Profile,key:t.Account,SecretKey:t.Token,from_email:t.PhoneNumber,profile_id:a.ProfileId},i=JSON.stringify(e);c["a"].SaveEmailSetting(i).then((function(t){"INSERTED"==t.data?(a.$parent.FillProfileDropdown(a.SendThrough),a.ShowAlert(a.$t("AddedSuccess",[a.$t("AddNewAccount")]),"success",!0,a.$t("Alert")),a.$emit("close")):"UPDATED"==t.data?(a.$parent.FillProfileDropdown(a.SendThrough),a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("AddNewAccount")]),"success",!0,a.$t("Alert")),a.$emit("close")):a.ShowAlert(a.$t("AddedError",[a.$t("AddNewAccount")]),"danger",!0,a.$t("Alert"))}))}}},gt=vt,bt=Object(w["a"])(gt,ht,ft,!1,null,null,null),Ct=bt.exports,St={components:{modalSMSIntegration:Ct},props:{campaignId:{type:Number,required:!0},campaignName:{type:String,required:!0},mailChimpTemplateId:{type:Number,required:!0}},data:function(){return{FormSchema:[{layoutType:"single",Data:[{astype:"SlotField",name:"SendType",value:"",placeholder:""}]},{layoutType:"double",Data:[{astype:"SlotField",name:"Schedule",value:"",placeholder:"",visibility:!1}]},{layoutType:"single",Data:[{astype:"SlotField",name:"Batch",value:"",placeholder:"",visibility:!1}]},{layoutType:"double",group_name:this.$t("ScheduleAt"),group_display_name:this.$t("ScheduleAt"),Data:[{astype:"DateField",label:"Schedule Date",name:"ScheduleAtDate",value:"",placeholder:"Enter Start Date",config:{options:[]},validationRules:{required:!0},visibility:!1},{astype:"SlotField",label:this.$t("ScheduleTime"),name:"ScheduleAtTime",value:"",placeholder:"Time",config:{options:[]},validationRules:{required:!0},visibility:!1}]},{layoutType:"triple",group_name:this.$t("NoofRecipients"),group_display_name:this.$t("NoofRecipients"),Data:[{astype:"DateField",label:this.$t("EventStartDate"),name:"BatchStartDate",value:"",placeholder:"Enter Start Date",config:{options:[]},validationRules:{required:!0},visibility:!1},{astype:"SlotField",label:this.$t("Processstartandendtime"),name:"BatchStartTime",value:"",placeholder:"Time",config:{options:[]},validationRules:{required:!1},visibility:!1},{astype:"SlotField",label:"",name:"BatchEndTime",value:"",placeholder:"Time",config:{options:[]},validationRules:{required:!1},visibility:!1}]},{layoutType:"triple",Data:[{astype:"NumericField",label:this.$t("BatchQuantity"),name:"BatchQuantity",value:"",placeholder:"Batch Quantity",config:{options:[]},validationRules:{required:!1},visibility:!1},{astype:"NumericField",label:this.$t("RepeatAfter"),name:"RepeatAfter",value:"",placeholder:"Repeat After",config:{options:[]},validationRules:{required:!1},visibility:!1},{astype:"SelectField",label:"",name:"BatchType",value:"",placeholder:"",config:{options:[{value:"Days",name:"Days"},{value:"Hours",name:"Hours"},{value:"Minutes",name:"Minutes"},{value:"Seconds",name:"Seconds"}]},validationRules:{required:!1},visibility:!1}]},{layoutType:"single",Data:[{astype:"CheckBoxField",label:this.$t("SelectDay"),name:"BatchDays",value:["1","2","3","4","5","6","7"],config:{options:[{value:"1",name:"Mon"},{value:"2",name:"Tue"},{value:"3",name:"Wed"},{value:"4",name:"Thu"},{value:"5",name:"Fri"},{value:"6",name:"Sat"},{value:"7",name:"Sun"}]},validationRules:{required:!1},visibility:!1}]},{group_name:"Sender Details",group_display_name:this.$t("Sender Details"),layoutType:"double",Data:[{astype:"SelectField",label:this.$t("SendThrough"),name:"SendThrough",value:"",placeholder:"Select",config:{options:[{name:"Twilio",value:"Twilio"},{name:"Mail Chimp",value:"MailChimp"},{name:"Send Grid",value:"SendGrid"}],onChange:this.onChangeSendThrough},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("SendProfile"),name:"SendProfile",value:"",placeholder:"Select",config:{options:[],onChange:this.onChangeProfile,showAddIcon:!0,onAddButtonClick:this.AddNewAccountCredentials},validationRules:{required:!0}}]},{group_name:"Enter SMS Details",group_display_name:this.$t("EnterSMSDetails"),layoutType:"double",Data:[{astype:"TextField",label:this.$t("SenderContactNumber"),name:"SenderContact",value:"",placeholder:"",config:{},validationRules:{required:!0}},{astype:"TextField",label:this.$t("SenderName"),name:"SenderName",value:"",placeholder:"",config:{},validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"RadioField",label:this.$t(""),name:"Recipient",value:"1",placeholder:"",config:{options:[{value:"1",name:"Choose Contacts"},{value:"2",name:"Choose Group"}],onChange:this.onclickContactorGroup},visibility:!0,validationRules:{required:!1}}]},{layoutType:"double",Data:[{astype:"MultiSelectField",label:this.$t("Contact"),name:"Contact",value:"",mode:"tag",config:{options:[]},visibility:!0,validationRules:{required:!0}},{astype:"MultiSelectField",label:this.$t("ContactGroup"),name:"ContactGroup",value:"",mode:"tag",config:{options:[]},visibility:!1,validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-primary",text:"<i class='fa fa-send pr-2'></i>Send",isVisible:!0},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"submit",class:"btn btn-primary",text:"<i class='fa fa-send pr-2'></i>Schedule",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closepopup,isVisible:!1}],SendThrough:"",ProfileId:0,SendType:"SendNow",ScheduleAtTime:null,BatchStartTime:null,BatchEndTime:null,Contactlist:[],ShowmodalSMSIntegration:!1}},created:function(){var t=this;t.FormSchema[3].group_display_name="",t.FormSchema[4].group_display_name="",t.FormSchema[3].group_name="",t.FormSchema[4].group_name="",t.GetContacts(),t.buttons[1].isVisible="",t.buttons[2].isVisible="",t.buttons[3].isVisible=!0},methods:{closepopup:function(){var t=this;t.$parent.closeManageSMSSchedule()},onClickSendOrSchedule:function(t){var a=this;a.ResetProperties(),a.SendType=t,"SendNow"==t?(a.FormSchema[3].group_display_name="",a.FormSchema[4].group_display_name="",a.FormSchema[4].group_name="",a.FormSchema[3].group_name="",a.FormSchema[3].Data[0].visibility=!1,a.FormSchema[3].Data[1].visibility=!1,a.FormSchema[4].Data[0].visibility=!1,a.FormSchema[4].Data[1].visibility=!1,a.FormSchema[4].Data[2].visibility=!1,a.FormSchema[5].Data[0].visibility=!1,a.FormSchema[5].Data[1].visibility=!1,a.FormSchema[5].Data[2].visibility=!1,a.FormSchema[6].Data[0].visibility=!1,a.buttons[0].isVisible=!0,a.buttons[1].isVisible=!1,a.buttons[2].isVisible=!1,a.buttons[3].isVisible=!0):"Schedule"==t?(a.FormSchema[4].group_display_name="",a.FormSchema[4].group_name="",a.FormSchema[3].group_display_name=a.$t("ScheduleAt"),a.FormSchema[3].group_name=a.$t("ScheduleAt"),a.FormSchema[3].Data[0].visibility=!0,a.FormSchema[3].Data[1].visibility=!0,a.FormSchema[4].Data[0].visibility=!1,a.FormSchema[4].Data[1].visibility=!1,a.FormSchema[4].Data[2].visibility=!1,a.FormSchema[5].Data[0].visibility=!1,a.FormSchema[5].Data[1].visibility=!1,a.FormSchema[5].Data[2].visibility=!1,a.FormSchema[6].Data[0].visibility=!1,a.buttons[0].isVisible=!1,a.buttons[1].isVisible=!0,a.buttons[2].isVisible=!0,a.buttons[3].isVisible=!0):(a.FormSchema[4].group_display_name=a.$t("NoofRecipients"),a.FormSchema[4].group_name=a.$t("NoofRecipients"),a.FormSchema[3].group_display_name="",a.FormSchema[3].group_name="",a.FormSchema[3].Data[0].visibility=!1,a.FormSchema[3].Data[1].visibility=!1,a.FormSchema[4].Data[0].visibility=!0,a.FormSchema[4].Data[1].visibility=!0,a.FormSchema[4].Data[2].visibility=!0,a.FormSchema[5].Data[0].visibility=!0,a.FormSchema[5].Data[1].visibility=!0,a.FormSchema[5].Data[2].visibility=!0,a.FormSchema[6].Data[0].visibility=!0,a.buttons[0].isVisible=!1,a.buttons[1].isVisible=!1,a.buttons[2].isVisible=!0,a.buttons[3].isVisible=!0)},ResetProperties:function(){var t=this;t.BatchStartTime=null,t.BatchEndTime=null,t.ScheduleAtTime=null,t.FormSchema[3].Data[0].value="",t.FormSchema[4].Data[0].value="",t.FormSchema[5].Data[0].value="",t.FormSchema[5].Data[1].value="",t.FormSchema[5].Data[2].value="",t.FormSchema[6].Data[0].value=["1","2","3","4","5","6","7"]},onChangeProfile:function(t){var a=this;a.ProfileId=t.target.value},onChangeSendThrough:function(t){var a=this;a.ProfileId=0,a.SendThrough=t.target.value,a.FormSchema[7].Data[1].value="",a.FillProfileDropdown(a.SendThrough)},FillProfileDropdown:function(t){var a=this;a.FormSchema[7].Data[1].config.options=[];var e="id=&moduleName=CRM&type=".concat(t);c["a"].getDDLData(e+"&search=").then((function(t){if(void 0!=t.data.DATA){var e=t.data.DATA;e.forEach((function(t){a.FormSchema[7].Data[1].config.options.push({name:t.name,value:t.value})}))}}))},GetContacts:function(){var t=this,a="id=&moduleName=CRM&type=CRM_CONTACT_NUMBERS";c["a"].getDDLData(a).then((function(a){if(t.FormSchema[10].Data[0].config.options=[],""!=a.data){var e=a.data.DATA;e.forEach((function(a,e){t.FormSchema[10].Data[0].config.options.push({name:a.name,value:a.value})}))}}))},GetContactGroup:function(){var t=this,a="id=&subModuleCode=CRM_CAMPAIGNS";c["a"].ContactGroupListing(a).then((function(a){t.Contactlist=[],t.FormSchema[10].Data[1].config.options=[],t.Contactlist=a.data.data,t.Contactlist.forEach((function(a,e){t.FormSchema[10].Data[1].config.options.push({name:a.NAME,value:a.GROUP_ID})}))}))},AddNewAccountCredentials:function(){var t=this;if(""==t.FormSchema[7].Data[0].value)return t.ShowAlert("Please select atleast one value in send through dropdown.","warning",!0,t.$t("Alert")),!1;t.ShowmodalSMSIntegration=!0},onclickContactorGroup:function(t){var a=this,e=t.target.getAttribute("data-value");a.FormSchema[10].Data[1].value="",a.FormSchema[10].Data[0].value="","1"==e?(a.GetContacts(),a.FormSchema[10].Data[1].visibility=!1,a.FormSchema[10].Data[0].visibility=!0):(a.GetContactGroup(),a.FormSchema[10].Data[0].visibility=!1,a.FormSchema[10].Data[1].visibility=!0)},onSubmit:function(t,a){var e=this,i="";if(""!=a){var s=a.split("</i>");i=s[1]}var n={date:t.ScheduleAtDate,time:e.ScheduleAtTime,timezone:null},o={start_date:t.BatchStartDate,batch_quantity:t.BatchQuantity,batch_type:t.BatchType,repeat_after:t.RepeatAfter,batch_days:t.BatchDays.join(),start_time:e.BatchStartTime,end_time:e.BatchEndTime},l={campaign_id:e.campaignId,sub_module_code:"CRM_CAMPAIGNS",send_type:e.SendType,send_through:t.SendThrough,profile_id:t.SendProfile,recipient:t.Recipient,from_email:t.SenderContact,from_name:t.SenderName,contact:t.Contact,contact_group:t.ContactGroup,schedule:n,batch_schedule:o},r=JSON.stringify(l);c["a"].SaveScheduleCampaign(r).then((function(t){"Save"==i?(e.ShowAlert("SMS Save Successfully.","success",!0,e.$t("Alert")),e.closepopup()):"SENT"==t.data?(e.ShowAlert("SMS Sent Successfully.","success",!0,e.$t("Alert")),e.closepopup()):"SCHEDULED"==t.data?(e.ShowAlert("SMS Scheduled Successfully.","success",!0,e.$t("Alert")),e.closepopup()):"BATCH_SCHEDULED"==t.data?(e.ShowAlert("SMS Batch Scheduled Successfully.","success",!0,e.$t("Alert")),e.closepopup()):e.ShowAlert("Something went wrong.","danger",!0,e.$t("Alert"))})),"Twilio"==t.SendThrough&&e.GetContactListData(l)},GetContactListData:function(t){var a=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var i,s,n,o,d,u,m,p,h;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=a,s="",n="","1"==t.recipient?(s="contacts",o=JSON.stringify(t.contact),d=JSON.parse(o),d.forEach((function(t,a){0==a?n=t.value:n+=","+t.value}))):(s="groups",u=JSON.stringify(t.contact_group),m=JSON.parse(u),m.forEach((function(t,a){0==a?n=t.value:n+=","+t.value}))),p={type:s,ids:n},h=JSON.stringify(p),e.next=8,c["a"].GetContacts(h).then(function(){var a=Object(r["a"])(Object(l["a"])().mark((function a(e){var s;return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e.data.RESULT,"SUCCESS"!=e.data.STATUS||null==s){a.next=6;break}return a.next=4,i.AddMemberToMailChimp(s);case 4:return a.next=6,i.SaveSendMaliChimpCampaign(t);case 6:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})))()},AddMemberToMailChimp:function(t){return Object(r["a"])(Object(l["a"])().mark((function a(){return Object(l["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,c["a"].AddMemberToMailChimp(t).then((function(t){}));case 2:case"end":return a.stop()}}),a)})))()},SaveSendMaliChimpCampaign:function(t){var a=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var i,s,n,o,r,d;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=a,s="",n=t.batch_schedule.batch_type,o=parseInt(t.batch_schedule.repeat_after),s="Seconds"==n?Math.floor(o/60):"Hours"==n?Math.floor(60*o):"Days"==n?Math.floor(24*o*60):o,r={templateId:i.mailChimpTemplateId,fromName:t.from_name,subjectLine:t.subject,issueTitle:i.campaignName,previewText:t.preview_text,fromEmail:t.from_email,sendType:t.send_type,scheduleDate:t.schedule.date,scheduleTime:t.schedule.time,batchStartDate:t.batch_schedule.start_date,batchStartTime:t.batch_schedule.start_time,batchQuantity:t.batch_schedule.batch_quantity,repeatAfter:s},d=JSON.stringify(r),c["a"].AddCampaignToMailChimp(d).then((function(t){}));case 8:case"end":return e.stop()}}),e)})))()}}},_t=St,yt=(e("1295"),Object(w["a"])(_t,mt,pt,!1,null,null,null)),Dt=yt.exports,wt={components:{TgList:j["a"],searchfilter:v["a"],viewlayout:g["a"],modalfollowupslist:L["a"],modalManageCampaign:R,modalManageSchedule:z,openAssignOwnerPopup:X,modalEmailStatistics:ut,modalManageSMSSchedule:Dt},data:function(){return{isLoading:!1,leftSearchFields:f.leftsearchSchema,listheaderbuttons:f.buttons,listActions:f.listActions,CampaignData:null,StatusListForListing:[],Headers:null,TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,Status:"",ModuleType:"",txtcampaign:"",selectedCampaignOwner:[],CampaignOwnerList:null,souceID:0,showAddEventModal:!1,campaignName:"",StatusIds:"",campaignOwner:"",campaignType:"",campaignDateFrom:"",campaignDateTo:"",langCode:"en",showAddEmailTemplate:!1,noRecord:!1,showFilter:!1,searchCondition:"",IsAnySearch:!1,ShowManageView:!1,ShowManageCampaignPopup:!1,userid:null,usertype:null,companyId:null,privilegeParams:null,LegendArray:[],appliedFilter:[],isShowManageSchedule:!1,CampaignId:0,MailChimpTemplateId:0,CampaignName:"",reqType:"Save",showAssignOwnerPopup:!1,ShowEmailStatisticsPopup:!1,ShowManageSMSSchedule:!1}},created:function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(){var a;return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userid=this.GetUserInfo.ID,this.usertype=this.GetUserInfo.UserType,this.companyId=this.GetUserInfo.CompanyId,this.privilegeParams="controller=CRM&action=",a=this,a.getStatuslistForListing("CRM","en"),t.next=8,f.bindleftCommonSearchdropdown(a,"CRM","CAMPAIGN_OWNER_SEARCH");case 8:return t.next=10,f.bindleftCommonSearchdropdown(a,"CRM","CRM_CAMPAIGN_TYPES");case 10:return t.next=12,f.bindleftCommonSearchdropdown(a,"CRM","LEAD_DEAL_STATUS");case 12:a.FetchData(),a.LegendArray=[{class:"bg-primary colorboxsquare",text:a.$t("CloseLeadLegend",["Campaign"])}];case 14:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),methods:{renderActions:function(t){var a=this,e=[];return a.listActions.forEach((function(a){var i=Object(o["a"])({},a);switch(i.title){case"View":i.isVisible=!0;break;case"Edit":case"FollowUps":i.isVisible="Closed"!=t.status_id;break;default:i.isVisible=!0;break}e.push(i)})),e},clickEventOfColumn:function(t,a){"campaign_name"==a.COLUMN_NAME&&this.$router.push({path:"/CRM/ViewCampaignDetails/"+t.campaign_id+"/CRM/CRM_CAMPAIGNS"})},getStatuslistForListing:function(t,a){var e=this,i="langCode="+a+"&statusType="+t+"&hasglobal=true";c["a"].statusdropdown(i).then((function(t){if("Success"==t.data.status){var a=t.data.result;e.StatusListForListing=a.data,e.StatusIds=a.data[1].STATUS_ID}}))},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"downloadExceldata":this.FetchData(!0);break;case"openFilterPopUp":this.openFilterPopUp();break;case"ManageView":this.ManageView();break;case"OpenManageCampaignPopup":this.OpenManageCampaignPopup(0);break;case"ManageSMSSchedule":this.ManageSMSSchedule();break;case"commonDeleteData":this.commonDeleteData();break;case"removeFilter":var a=this;this.searchCondition="";var e=a.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));a.listheaderbuttons[e].isvisible=!1;var i=a.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));a.listheaderbuttons[i].iconClass="fa fa-filter";try{a.appliedFilter=[]}catch(s){}a.FetchData();break;case"setTourGuideSteps":this.setTourGuideSteps(0);break}},actionButtonClick:function(t,a,e,i){var s=this;switch(t){case"checkPrivilegeView":break;case"checkPrivilegeDetails":break;case"openNoteListPopUp":s.openNoteListPopUp(a,e);break;case"openAddNewEvent":s.openAddNewEvent(a.campaign_id,a);break;case"OpenManageCampaignPopup":s.OpenManageCampaignPopup(a.campaign_id);break;case"openAssignOwnerPopup":s.openAssignOwnerPopup(a.campaign_id);break;case"Delete":s.commonDeleteData(a.campaign_id);break;case"CloneCampaign":s.CloneCampaign(a);break;case"Archive":s.ArchiveCampaign(a.campaign_id);break;case"OpenEmailStatisticsPopup":s.OpenEmailStatisticsPopup(a);break}},OpenEmailStatisticsPopup:function(t){this.EmailCampaignData=t,this.CampaignId=t.campaign_id,this.ShowEmailStatisticsPopup=!0},CloseEmailStatisticsPopup:function(){this.ShowEmailStatisticsPopup=!1},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchCondition:this.searchCondition="",this.FetchData()},openFilterPopUp:function(t){this.cancelOrRefresh(),this.showFilter=!0},cancelOrRefresh:function(){this.clientemail="",this.selectedLeadOwner="",this.NameSearch="",this.CompanyName="",this.hdnOwnerId="",this.conditionForInstantSearch="",this.IsAnySearch=!1,this.FetchData()},ManageSMSSchedule:function(){this.ShowManageSMSSchedule=!0},closeManageSMSSchedule:function(){this.ShowManageSMSSchedule=!1},ManageSchedule:function(){this.isShowManageSchedule=!0},closeManageCampaign:function(){this.isShowManageSchedule=!1},commonDeleteData:function(t){var a=this;c["a"].CheckPrivilege(a.privilegeParams+"Delete").then((function(e){if(e.data){var i="";"undefined"!=typeof t?i=t.toString():$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){i.length>0&&(i+=","),i+=$(this).val()})),i.length>0?a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("Campaign"),(function(){var t={ids:i,moduleName:"CRM",subModuleCode:"CRM_CAMPAIGNS"},e=JSON.stringify(t);c["a"].CommonDeleteData(e).then((function(t){var e="";200==t.status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),e=a.ShowAlert(a.$t("DeletedSuccessfully",[a.$t("Campaign")]),"success",!0,a.$t("Alert")),a.PageNumber=parseInt(a.PageNumber)-1,a.PageNumber<=0&&(a.PageNumber=1),a.FetchData()):e=a.ShowAlert(a.$t("DeletedError",[a.$t("Campaign")]),"failure",!0,a.$t("Alert")),setTimeout((function(){e.modal("hide")}),2e3)}))})):a.ShowAlert(a.$t("Selectanyrecordtodelete"),"warning",!0,a.$t("Alert"))}else a.ShowAlert("You are not authorized","failure",!0,"Alert")}))},openAddNewEvent:function(t,a){var e=this;e.souceID=a.campaign_id,e.selectedItem=t,e.showAddEventModal=!e.showAddEventModal},closeEventViewModal:function(){this.showAddEventModal=!1},ManageView:function(){var t=this;this.ShowManageView=!0,setTimeout((function(){$("#modalManageView").modal("show"),setTimeout((function(){t.SetBootstraptoolTip()}),200)}),1e3)},OpenManageCampaignPopup:function(t){this.CampaignId=t,this.reqType=t>0?"Update":"Save",this.ShowManageCampaignPopup=!0},openAssignOwnerPopup:function(t){var a=this;a.CampaignId=t,a.showAssignOwnerPopup=!0},CloseManageCampaignPopup:function(){this.ShowManageCampaignPopup=!1},sortdata:function(t){var a="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",a="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",a="sort tb_headerSortUp"):(this.SortExp="ASC",a="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",a)},getRequestParams:function(t,a,e,i,s,n){var o={};return t&&(o["pageNum"]=t),n&&(o["searchcondition"]=n),s&&(o["isPaged"]=s),e&&(o["sortBy"]=e),i&&(o["sortExp"]=i),a&&(o["pageSize"]=a),o},FilterData:function(t,a,e,i,s,o){this.pageNum=t,this.pageSize=a,this.sortBy=e,this.sortExp=i,this.searchCondition=s,null!=Object(n["a"])(o)&&this.appliedFilter.push(o),this.FetchData()},FetchData:function(t){var a=this.getRequestParams(this.pageNum,this.pageSize,this.sortBy,this.sortExp,this.isPaged,this.searchCondition),e=this;e.isLoading=!0,a.pageSize=t?e.TotalRecords:e.PageSize,a.pageNumber=e.PageNumber,a.langCode=e.langCode,a.campaignType=e.campaignType,a.searchCondition=e.searchCondition,e.PageNumber?a.pageNum=e.PageNumber:e.PageNumber=a.pageNum=1,a.sortBy=e.SortBy,a.sortExp=e.SortExp;var i="";if(e.isBlank(e.searchCondition)||(i+=e.searchCondition),e.isBlank(e.conditionForInstantSearch)||(i+=e.isBlank(e.searchCondition)?e.conditionForInstantSearch:" AND "+e.conditionForInstantSearch),""!=i){if(a.searchCondition=i,e.appliedFilter.length>0){var s=e.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));e.listheaderbuttons[s].isvisible=!0;var n=e.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));e.listheaderbuttons[n].iconClass="fa fa-filter text-success"}}else if(0==e.appliedFilter.length){var o=e.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));e.listheaderbuttons[o].isvisible=!1;var l=e.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));e.listheaderbuttons[l].iconClass="fa fa-filter"}t?(a.isPaged=0,c["a"].CampaignListing(a).then((function(t){e.isLoading=!1,""!=t.data?e.JSONToCSVConvertor(t.data,"Campaign-Detail",!0):e.ModelnoRecord=!0,e.isLoading=!1}))):c["a"].CampaignListing(a).then((function(t){e.isLoading=!1,null!=t.data?(e.Headers=t.data.schema,e.Headers.forEach((function(t){t.settings=null,"campaign_name"==t.COLUMN_NAME&&(t.settings={clickEvent:e.clickEventOfColumn,formatter:e.columnDataFormatter}),"status_id"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})})),t.data.data.length>0?(e.CampaignData=t.data.data,e.CampaignData.forEach((function(t){t.isCheckBoxDisabled=!1,t.additionalClass="","Closed"==t.status_id&&(t.isCheckBoxDisabled=!0,t.additionalClass="medium-bar"),t.rowDetailsUrl="",""==t.rowDetailsUrl&&(t.rowDetailsUrl="/CRM/ViewCampaignDetails/"+t.campaign_id+"/CRM/CRM_CAMPAIGNS")})),e.TotalRecords=t.data.data[0].total_records,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteCampaign").addClass("disabled"),$("#Sendbulkmail").addClass("disabled"),e.noRecord=!1):(e.noRecord=!0,e.CampaignData=[],e.TotalRecords=0)):(e.noRecord=!0,e.CampaignData=[],e.Headers=[],e.TotalRecords=0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),e.isLoading=!1}))},FetchDataV1:function(t){var a=this.getRequestParams(this.pageNum,this.pageSize,this.sortBy,this.sortExp,this.isPaged,this.searchCondition),e=this;e.isLoading=!0,a.pageSize=t?e.TotalRecords:e.PageSize,a.pageNumber=e.PageNumber,a.langCode=e.langCode,a.campaignType=e.campaignType,a.searchCondition=e.searchCondition,e.PageNumber?a.pageNum=e.PageNumber:e.PageNumber=a.pageNum=1,a.sortBy=e.SortBy,a.sortExp=e.SortExp;var i="";if(e.isBlank(e.searchCondition)||(i+=e.searchCondition),e.isBlank(e.conditionForInstantSearch)||(i+=e.isBlank(e.searchCondition)?e.conditionForInstantSearch:" AND "+e.conditionForInstantSearch),""!=i){if(a.searchCondition=i,e.appliedFilter.length>0){var s=e.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));e.listheaderbuttons[s].isvisible=!0;var n=e.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));e.listheaderbuttons[n].iconClass="fa fa-filter text-success"}}else if(0==e.appliedFilter.length){var o=e.listheaderbuttons.findIndex((function(t){return"removeFilter"===t.callbackfunction}));e.listheaderbuttons[o].isvisible=!1;var l=e.listheaderbuttons.findIndex((function(t){return"openFilterPopUp"===t.callbackfunction}));e.listheaderbuttons[l].iconClass="fa fa-filter"}t?(a.isPaged=0,c["a"].CampaignListingV1(a).then((function(t){e.isLoading=!1,""!=t.data?e.JSONToCSVConvertor(t.data,"Campaign-Detail",!0):e.ModelnoRecord=!0,e.isLoading=!1}))):c["a"].CampaignListingV1(a).then((function(t){e.isLoading=!1,null!=t.data?(e.Headers=t.data.schema,e.Headers.forEach((function(t){t.settings=null,"campaign_name"==t.COLUMN_NAME&&(t.settings={clickEvent:e.clickEventOfColumn,formatter:e.columnDataFormatter}),"status_id"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"campaign_type"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})})),t.data.data.length>0?(e.CampaignData=t.data.data,e.CampaignData.forEach((function(t){t.isCheckBoxDisabled=!1,t.additionalClass="","Closed"==t.status_id&&(t.isCheckBoxDisabled=!0,t.additionalClass="medium-bar"),t.rowDetailsUrl="",""==t.rowDetailsUrl&&(t.rowDetailsUrl="/CRM/ViewCampaignDetails/"+t.campaign_id+"/CRM/CRM_CAMPAIGNS")})),e.TotalRecords=t.data.data[0].total_records,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("#DeleteCampaign").addClass("disabled"),$("#Sendbulkmail").addClass("disabled"),e.noRecord=!1):(e.noRecord=!0,e.CampaignData=[],e.TotalRecords=0)):(e.noRecord=!0,e.CampaignData=[],e.Headers=[],e.TotalRecords=0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),e.isLoading=!1}))},CloneCampaign:function(t){var a=this;return Object(r["a"])(Object(l["a"])().mark((function e(){var i;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=a,i.CampaignId=t.campaign_id,i.reqType="Clone",i.ShowManageCampaignPopup=!0;case 4:case"end":return e.stop()}}),e)})))()},ArchiveCampaign:function(t){var a=this;a.confirmR(a.$t("ConfirmArchive",[a.$t("Archive")]),!0,a.$t("Campaign"),Object(r["a"])(Object(l["a"])().mark((function e(){var i,s;return Object(l["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i={ID:t,StatusId:a.StatusIds,IsFor:"CRM_CAMPAIGNS"},s=JSON.stringify(i),e.next=4,c["a"].CommonUpdateStatus(s).then(function(){var t=Object(r["a"])(Object(l["a"])().mark((function t(e){return Object(l["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=e.data&&"Success"===e.data.status?(a.ShowAlert(a.$t("ArchiveSuccessfully"),"success",a.$t("Alert")),a.PrevStatus=a.StatusId,"undefined"!=typeof a.callbackfunction&&null!=a.callbackfunction&&a.callbackfunction()):a.ShowAlert(a.$t("UnknownErrorOccur"),"failure",!0,a.$t("Alert"));case 1:case"end":return t.stop()}}),t)})));return function(a){return t.apply(this,arguments)}}());case 4:a.FetchData(),vueObj.isLoading=!1;case 6:case"end":return e.stop()}}),e)}))))},CampaignTypeDDL:function(t){var a=this;a.campaignType=t.target.value,a.FetchData()},getCampaignIcon:function(t){var a="";if(null!==t){var e=t.toLowerCase();switch(e){case"email":a="tablelist_icos email_icos";break;case"facebook":a="tablelist_icos fb_icos";break;case"instagram":a="tablelist_icos insta_icos";break;case"bing":a="tablelist_icos bing_icos";break;case"twitter":a="tablelist_icos bing_icos";break;case"google":a="tablelist_icos bing_icos";break;default:}}return a}},updated:function(){this.BindActionButtonEvent()}},Tt=wt,At=Object(w["a"])(Tt,i,s,!1,null,null,null);a["default"]=At.exports},"593f":function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,".error-class{width:100%;margin-top:.25rem;font-size:80%;color:#dc3545}.default_templates .img-ico.ticket-attachments{overflow:hidden}",""]),t.exports=a},"5f92":function(t,a,e){var i=e("1d4a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("483f53f8",i,!0,{sourceMap:!1,shadowMode:!1})},"6c06":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.header))]),e("button",{staticClass:"close",attrs:{href:"javascript:;"},on:{click:function(a){return t.$emit("close")}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("Form",{ref:"form",scopedSlots:t._u([{key:"default",fn:function(a){var i=a.valid,s=a.errors;return[e("div",{staticClass:"d-flex flex-wrap"},[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"form-group"},[e("label",[t._v(" "+t._s(t.$t("Subject"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{attrs:{name:"Subject",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.errors;return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.Subject,expression:"Subject"}],class:{"form-control":!0,"is-invalid":i[0]},attrs:{id:"Subject",name:"Subject",maxlength:"200",type:"text"},domProps:{value:t.Subject},on:{input:function(a){a.target.composing||(t.Subject=a.target.value)}}}),i[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Subject"}},[t._v(t._s(i[0]))]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"form-group"},[e("label",[t._v(" "+t._s(t.$t("FollowUp"))+" "+t._s(t.$t("ScheduleDate"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group"},[e("Field",{attrs:{name:"due date",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.errors;return[e("v-date-picker",{staticClass:"input-group",attrs:{mode:"dateTime","min-date":new Date,"minute-increment":5},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.inputValue,n=a.inputEvents,o=a.togglePopover;return[e("input",t._g({class:{"form-control":!0,"is-invalid":i[0]},domProps:{value:s}},n)),e("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:t.duedate,callback:function(a){t.duedate=a},expression:"duedate"}}),i[0]?e("span",{staticClass:"invalid-feedback d-block"},[t._v(t._s(i[0]))]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"clearfix"}),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"form-group"},[e("label",[t._v(" "+t._s(t.$t("Priority"))+":")]),e("Field",{attrs:{name:"priority",rules:{required:!1}}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.priorityValue,expression:"priorityValue"}],staticClass:"form-control",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.priorityValue=a.target.multiple?e:e[0]},t.getSelectedValue]}},[e("option",{attrs:{value:""}},[t._v(t._s(t.$t("SelectPriorityLevel"))+" ")]),t._l(t.priority,(function(a,i){return e("option",{key:i,domProps:{value:a.value}},[t._v(" "+t._s(a.name)+" ")])}))],2)])],1)]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left",class:{"d-none":t.enableReminder}},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Default"))+" "+t._s(t.$t("Reminder"))+":")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.DefaultReminder,expression:"DefaultReminder"}],staticClass:"form-control disabled",attrs:{id:"DefaultReminder",name:"DefaultReminder",value:"",maxlength:"200",type:"text"},domProps:{value:t.DefaultReminder},on:{input:function(a){a.target.composing||(t.DefaultReminder=a.target.value)}}})])]),e("div",{staticClass:"clearfix"}),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("OverrideDefault"))+" "+t._s(t.$t("Reminder"))+":")]),e("div",{staticClass:"Col-4"},[e("label",{staticClass:"switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.enableReminder,expression:"enableReminder"}],staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{type:"checkbox"},domProps:{value:t.enableReminder,checked:Array.isArray(t.enableReminder)?t._i(t.enableReminder,t.enableReminder)>-1:t.enableReminder},on:{change:function(a){var e=t.enableReminder,i=a.target,s=!!i.checked;if(Array.isArray(e)){var n=t.enableReminder,o=t._i(e,n);i.checked?o<0&&(t.enableReminder=e.concat([n])):o>-1&&(t.enableReminder=e.slice(0,o).concat(e.slice(o+1)))}else t.enableReminder=s}}}),e("span",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Yes")]),e("span",{staticClass:"slider-no"},[t._v("NO")])])])])])]),e("div",{staticClass:"clearfix"}),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"form-group"},[e("label",{class:{"d-none":!t.enableReminder}},[t._v(t._s(t.$t("Duration"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDurationValue,expression:"selectedDurationValue"}],staticClass:"form-control",class:{"d-none":!t.enableReminder},staticStyle:{"max-width":"100%"},attrs:{id:"duration"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.selectedDurationValue=a.target.multiple?e:e[0]},t.getValidate]}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.reminderDurationValues,(function(a,i){return e("option",{key:i,domProps:{value:a,innerHTML:t._s(a)}})}))],2),e("span",{staticClass:"text-danger DurationReq small",class:{"d-none":!t.enableReminder},attrs:{id:"DurationReq"}})])]),e("div",{staticClass:"clearfix"}),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"form-group"},[e("label",{class:{"d-none":!t.enableReminder}},[t._v(t._s(t.$t("SelectType"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDurationType,expression:"selectedDurationType"}],staticClass:"form-control",class:{"d-none":!t.enableReminder},staticStyle:{"max-width":"100%"},attrs:{id:"durationType"},on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.selectedDurationType=a.target.multiple?e:e[0]},t.getValidate]}},[e("option",{attrs:{value:""}},[t._v("Select")]),t._l(t.reminderDurationTypes,(function(a,i){return e("option",{key:i,domProps:{value:a,innerHTML:t._s(a)}})}))],2),e("span",{staticClass:"text-danger DurationTypeReq small",class:{"d-none":!t.enableReminder}})])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"form-group"},[e("label",[t._v(" "+t._s(t.$t("FollowUpCRM"))+" "+t._s(t.$t("Message"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{attrs:{name:"Message",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.errors;return[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Message,expression:"Message"}],class:{"form-control":!0,"is-invalid":i[0]},attrs:{id:"Message",name:"Message",maxlength:1e3,rows:"5"},domProps:{value:t.Message},on:{input:function(a){a.target.composing||(t.Message=a.target.value)}}}),i[0]?e("span",{staticClass:"invalid-feedback",attrs:{name:"Message"}},[t._v(t._s(i[0]))]):t._e()]}}],null,!0)})],1)])]),e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("button",{staticClass:"btn btn-success save-btn mr-1",attrs:{type:"button"},on:{click:function(a){return t.saveTask(i,s)}}},[e("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Save"))+" ")]),e("button",{staticClass:"btn btn-danger delete-btn",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(a){return t.$emit("close")}}},[e("em",{staticClass:"fa fa-close pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Cancel"))+" ")])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v(" "+t._s(t.$t("MandatoryString"))+" ")])])])])])])]}}])})],1)])])])],1)},s=[],n=e("c7eb"),o=e("1da1"),l=(e("ac1f"),e("5319"),e("d3b7"),e("3ca3"),e("ddb0"),e("9861"),e("841c"),e("e9c4"),e("9769")),r={props:{modulename:{type:String,required:!0},modalFollowUpItem:null,submodulecode:{type:String,required:!0},sourceid:{Type:String,required:!0}},data:function(){return{isLoading:!1,currentDate:new Date,duedate:new Date,Subject:"",priority:[],Message:"",priorityValue:"",activitySourceID:0,modal:null,isView:!1,popover:{visibility:"click"},optionsMindate:{format:"MMM dd yyyy",useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!0,minDate:new Date(Date.now())},FollowUpIdForEdit:0,reminderDurationValues:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60"],reminderDurationTypes:["Minutes","Hours","Days"],enableReminder:!1,selectedDurationType:"",selectedDurationValue:"",DefaultReminder:"",header:this.$t("Add")+" "+this.$t("FollowUp")}},created:function(){this.activitySourceID=this.sourceid,this.GetPriority(),this.GetDefaultReminder(),this.FollowUpIdForEdit=0,this.modalFollowUpItem&&this.FetchEventViewData(this.modalFollowUpItem.followup_notification_id),this.optionsMindate.minDate=new Date(Date.now())},methods:{FetchEventViewData:function(t){var a=this;a.FollowUpIdForEdit=0,a.optionsMindate.minDate=!1;var e="id="+t+"&refId="+a.sourceid+"&subModuleCode="+a.modulename+"&moduleCode="+a.submodulecode;l["a"].updateActivityData(e).then((function(e){if(a.FollowUpIdForEdit=t,a.header=a.$t("Edit")+" "+a.$t("FollowUp"),null!=e.data){var i=e.data.data;a.duedate=a.$options.filters.formatDate(i[0].followUpDate),a.Message=i[0].followup_notification_message,a.Subject=i[0].followup_notification_subject,a.priorityValue=null!=i[0].priority_lavel&&0!=i[0].priority_lavel?i[0].priority_lavel:"",a.optionsMindate.minDate=new Date(Date.now());var s=i[0].reminder_duration;0!=s&&s<60?($(".rdoticketfor").trigger("click"),a.selectedDurationType="Minutes",a.selectedDurationValue=s):0!=s&&(60==s||s<1440)?($(".rdoticketfor").trigger("click"),a.selectedDurationType="Hours",a.selectedDurationValue=parseInt(s/60)):0!=s&&s>=1440&&($(".rdoticketfor").trigger("click"),a.selectedDurationType="Days",a.selectedDurationValue=parseInt(s/1440))}}))},GetPriority:function(){var t=this,a="id=&moduleName="+this.submodulecode+"&type=PRIORITY";l["a"].getLeaOwnerBySearch(a).then((function(a){var e=a.data;if(null!=e)return t.priority=e.DATA,t.priority}))},getSelectedValue:function(t){this.priorityValue=t.target.value},formatDate:function(t){if(t)try{var a=Globalize.culture().calendar.patterns.t;a=String(a).replace("t","A").replace("t","");var e=new Date(moment(String(t)).year(),moment(String(t)).month(),moment(String(t)).date(),moment(String(t)).hours(),moment(String(t)).minutes());return moment(e,"YYYY-MM-DD HH:mm:ss").format("MM-dd-yyyy")}catch(i){}},getValidate:function(){var t=$(".rdoticketfor").is(":checked")?"yes":"no",a=$("#duration").val(),e=$("#durationType").val();"yes"!=t||"0"!=a&&""!=a?$(".DurationReq").html(""):$(".DurationReq").html("Duration Is Required."),"yes"==t&&""==e?$(".DurationTypeReq").html("Duration Type Is Required."):$(".DurationTypeReq").html("")},saveTask:function(t,a){var e=this;this.$refs.form.validate().then((function(t){var a=new URLSearchParams(window.location.search),i=a.get("reqfrom");null==i&&(i=window.location.pathname.indexOf("Listing")>-1||window.location.pathname.indexOf("Index")>-1?1:0);var s=parseInt(i)||0,n=$(".rdoticketfor").is(":checked")?"yes":"no",o=$("#duration").val(),r=$("#durationType").val(),c=0,d="";"yes"!=n||"0"!=o&&""!=o?$(".DurationReq").html(""):(d="no",$(".DurationReq").html("Duration Is Required.")),"yes"==n&&""==r?(d="no",$(".DurationTypeReq").html("Duration Type Is Required.")):$(".DurationTypeReq").html("");var u=new Date(e.duedate),m=new Date,p=u-m,h=Math.floor(p/1e3/60);if("yes"==n){if("Minutes"==r?c=o:"Hours"==r?c=60*o:"Days"==r&&(c=24*o*60),h<=c||h<=0)return e.ShowAlert(e.$t("InvalidReminderDuration"),"failure",!0,e.$t("Alert")),!1}else if(c=e.DefaultReminder.value,h<=c||h<=0)return e.ShowAlert(e.$t("InvalidReminderDate"),"failure",!0,e.$t("Alert")),!1;if(n&&0==d.length){var f={sourceId:e.activitySourceID,moduleName:e.modulename,subModuleCode:e.submodulecode,subjecttext:e.Subject,dueDate:e.duedate,priorityLavel:e.priorityValue,messagetext:e.Message,reminderduration:c,activityType:"FollowUp",activityId:e.FollowUpIdForEdit},v=JSON.stringify(f);t&&(e.isLoading=!0,l["a"].Addtask(v).then((function(t){e.isLoading=!1,"Success"==t.data[0].Status?(f.activityId>0?e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("FollowUp")]),"success",!0,e.$t("Alert")):e.ShowAlert(e.$t("AddedSuccess",[e.$t("FollowUp")]),"success",!0,e.$t("Alert")),e.duedate="",e.Subject="",e.priority="",e.Message="",e.showAddTaskModal=!1,e.$emit("close"),s>0?e.$parent.loadFollowUpData(null,e.sourceid):e.$parent.loadData("activities")):"Exist"==t.data[0].Status&&e.ShowAlert(e.$t("AlreadyExist",[e.$t("FollowUp")]),"warning",!0,e.$t("Alert"))}))),e.isLoading=!1}}))},GetDefaultReminder:function(){var t=this;return Object(o["a"])(Object(n["a"])().mark((function a(){var e;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,e.DefaultReminder="",a.next=4,l["a"].GetConfigurationValueForCompanyByKey("key=ReminderDuration").then((function(t){e.DefaultReminder=t.data}));case 4:parseInt(e.DefaultReminder)>60&&parseInt(e.DefaultReminder)<=1440?e.DefaultReminder=parseInt(e.DefaultReminder/60)+" Hours":parseInt(e.DefaultReminder)>1440?e.DefaultReminder=parseInt(e.DefaultReminder/1440)+" Days":e.DefaultReminder=e.DefaultReminder+" Minutes";case 5:case"end":return a.stop()}}),a)})))()}}},c=r,d=e("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);a["a"]=u.exports},"78c5":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("div",{class:{"right-content":t.isRightContent}},[e("div",{staticClass:"card mb-3 probx"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"col-md-12 float-left p-0"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[t._m(1),e("select",{directives:[{name:"model",rawName:"v-model",value:t.CampaignId,expression:"CampaignId"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.CampaignId=a.target.multiple?e:e[0]}}},[e("option",{attrs:{value:""}},[t._v(" "+t._s(t.$t("Select"))+" "+t._s(t.$t("Campaign"))+" ")]),t._l(t.CampaignData,(function(a){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.name))])}))],2)])]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6)]),t._m(7),e("div",{staticClass:"pl-0 border-1"},[e("div",{staticClass:"form-check form-check-inline"},[e("label",{staticClass:"switch low"},[e("input",{staticClass:"form-check-input custom-control-input dynamic",attrs:{type:"checkbox"},on:{change:t.setSlider}}),e("span",{staticClass:"slider round"})]),t._v("   "),e("label",{staticClass:"form-check-label font-weight-normal"},[t._v(t._s(t.$t("Showstatisticsinnumbers")))])]),e("v-date-picker",{staticClass:"timedate input-group col-md-3 float-right",attrs:{"is-range":""},on:{input:t.onDateChange},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.inputValue,s=a.inputEvents,n=a.togglePopover;return[e("input",t._g({staticClass:"form-control",domProps:{value:i.start+" - "+i.end}},s)),e("div",{staticClass:"input-group-append",on:{click:n}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.startEndDate,callback:function(a){t.startEndDate=a},expression:"startEndDate"}})],1),t._v("   ")]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"listing col-12 p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-12 stat_slides mb-2"},[e("div",{staticClass:"w-100 float-left p-4 d-flex border boxex"},[e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Successfully Delivery")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].DELIVERED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Opened")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].READ_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Clicked")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].CLICKED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Soft Bounced")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].SOFT_BOUNCED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Hard Bounced")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].HARD_BOUNCED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Spam")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].SPAM_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])]),e("div",{staticClass:"float-left w-80"},[e("span",{staticClass:"float-left w-100 font-weight-medium"},[t._v("Unsubscribed")]),e("span",{staticClass:"float-left w-100 value_ss"},[t._v(t._s(t.StatisticsData[0].UNSUBSCRIBED_COUNT)),t.isPercentage?e("span",[t._v("%")]):t._e()])])])])])])]),e("div",{staticClass:"col-md-12 float-left p-4 text-center"},[e("div",{attrs:{id:"chart"}},[e("VueApexCharts",{attrs:{type:"area",height:"350",options:t.chartOptions,series:t.series}})],1)]),e("div",{staticClass:"col-md-12 float-left p-0 mt-3"},[t._m(8),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 col-lg-12"},[e("div",{staticClass:"tab_container"},[e("div",{staticClass:"responsive-tabs-container accordion-xs accordion-sm"},[e("ul",{staticClass:"nav nav-tabs all-tabs responsive-tabs mt-2 responivecustomtab HideTab ui-tabs-nav ui-corner-all ui-helper-reset ui-helper-clearfix ui-widget-header",attrs:{id:"myTab",role:"tablist"}},[e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab ui-tabs-active ui-state-active",attrs:{role:"tab",tabindex:"0","aria-controls":"tabs-1","aria-labelledby":"tab-Details","aria-selected":"true","aria-expanded":"true"}},[e("a",{staticClass:"nav-link active productCreateTab1 ui-tabs-anchor",attrs:{href:"#tabs-1","data-toggle":"tab",title:"",role:"presentation",id:"tab-Details","data-toggle-tooltip":"tooltip","data-original-title":"Create Product",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("DELIVERED")}}},[t._v("Delivered ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-2","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon productDeployTab2 ui-tabs-anchor",attrs:{href:"#tabs-2",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Deploy Product",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("READ")}}},[t._v("Opened ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-3","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_1 ui-tabs-anchor",attrs:{href:"#tabs-3",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Related Information",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("CLICKED")}}},[t._v("Clicked ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-4",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("Replied")}}},[t._v("Replied ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-5",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("HARD_BOUNCE")}}},[t._v("Hard Bounced ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-6",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("SOFT_BOUNCE")}}},[t._v("Soft Bounced ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-7",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("Complained")}}},[t._v("Complained ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-8",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("Unsubscribed")}}},[t._v("Unsubscribed ")])]),e("li",{staticClass:"nav-item ui-tabs-tab ui-corner-top ui-state-default ui-tab",attrs:{role:"tab",tabindex:"-1","aria-controls":"tabs-4","aria-labelledby":"tab-timeline","aria-selected":"false","aria-expanded":"false"}},[e("a",{staticClass:"nav-link gen_icon_2 ui-tabs-anchor",attrs:{href:"#tabs-9",title:"","data-toggle":"tab",role:"presentation",id:"tab-timeline","data-toggle-tooltip":"tooltip","data-original-title":"Attachments",tabindex:"-1"},on:{click:function(a){return t.onUserGuideChange("Error")}}},[t._v("Error ")])])])])])])]),e("tg-list",{attrs:{IsShowAction:!1,ModuleName:"CRM",SubModuleCode:"",renderRowActionMethod:t.renderActions,showCheckBox:!0,SortExp:t.SortExp,IdentityColumn:"",HeaderText:t.$t(""),listType:["List"],ListDataCallBackFunction:t.FetchData,ListData:t.StatisticsHeaderData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecord,SearchFields:t.leftSearchFields,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),CurrentPageNumber:t.PageNumber},on:{PagerButtonClick:t.pagerMethod,SortdataButtonClick:t.sortdata}})],1)])])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5 mb-2"},[e("span",[t._v(" Campaign Details ")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",[e("strong",[t._v(" Campaign Name: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v("Market Campaign")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Campaign Owner: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(" Vicky Kowosky ")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Send Type: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(" Schedule ")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Schedule Date: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(" 07/14/2023")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Status: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(" Active ")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-6 col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[e("strong",[t._v(" Send Through: ")]),e("span",{staticClass:"answer rightlabeltext ml-1"},[t._v(" MailChimp ")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12 float-left p-0 mt-3"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5 mb-2"},[e("span",[t._v(" Summary ")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5 mb-2"},[e("span",[t._v(" Details ")]),e("small",{staticClass:"float-right"},[e("a",{attrs:{checkprivilege:"yes","aria-hidden":"true",href:"#"}},[e("i",{staticClass:"fa fa-download pr-1",attrs:{title:"Add"}}),t._v(" Export ")])])])])}],n=(e("a9e3"),e("99af"),e("d3b7"),e("1321")),o=e.n(n),l=e("9769"),r={components:{VueApexCharts:o.a},props:{CampaignId:{type:Number,required:!0},isRightContent:{type:Boolean,required:!0},LeftViewData:{type:String,required:!0}},data:function(){return{startEndDate:{start:new Date,end:new Date},StatisticsHeaderData:[],StatisticsData:[],series:[],chartOptions:{},CampaignData:[],isLoading:!1,listheaderbuttons:"",TotalRecord:0,SortExp:"",SortBy:"",PageNumber:1,TotalPages:0,CurrentPage:1,isPercentage:!0,PageSize:10,EmailDelivertStatus:"DELIVERED",Headers:[{COLUMN_NAME:"FULL_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Full Name",DISPLAY_ORDER:1},{COLUMN_NAME:"EMAIL_TO",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Email",DISPLAY_ORDER:2},{COLUMN_NAME:"STATUS_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3},{COLUMN_NAME:"CREATED_AT",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Last Updated",DISPLAY_ORDER:4}]}},created:function(){this.getCampaigns(),this.FetchData(),this.onDateChange()},methods:{onDateChange:function(){var t=this;t.dateform=t.startEndDate.start,t.dateto=t.startEndDate.end;var a="campaignId=".concat(t.CampaignId,"&dateform=").concat(t.$options.filters.formatDate(t.dateform),"&dateto=").concat(t.$options.filters.formatDate(t.dateto));l["a"].GetCampaignStatistics(a).then((function(a){t.series=[],t.chartOptions=[];var e=t.GetDateDifference();t.series=[{name:"SUCCESSFULLY DELIVERY",data:[]},{name:"OPENED",data:[]},{name:"CLICKED",data:[]},{name:"SOFT BOUNCED",data:[]},{name:"HARD BOUNCED",data:[]},{name:"SPAM",data:[]},{name:"UNSUBSCRIBED",data:[]}],null!=a.data&&(t.StatisticsData=a.data,t.series[0].data.push(t.StatisticsData[0].DELIVERED_COUNT),t.series[1].data.push(t.StatisticsData[0].READ_COUNT),t.series[2].data.push(t.StatisticsData[0].CLICKED_COUNT),t.series[3].data.push(t.StatisticsData[0].SOFT_BOUNCED_COUNT),t.series[4].data.push(t.StatisticsData[0].HARD_BOUNCED_COUNT),t.series[5].data.push(t.StatisticsData[0].SPAM_COUNT),t.series[6].data.push(t.StatisticsData[0].UNSUBSCRIBED_COUNT)),t.chartOptions={toolbar:{show:!1},xaxis:{categories:e,title:{text:""}},yaxis:{title:{text:""}},dataLabels:{enabled:!0},stroke:{curve:"smooth"}}}))},GetDateDifference:function(){var t=this,a=new Date(t.dateform.getTime()),e=[],i=[];while(a<=t.dateto)e.push(new Date(a)),a.setDate(a.getDate()+1);return e.forEach((function(a){i.push(t.$options.filters.formatDate(a))})),i},getCampaigns:function(){var t=this,a="id=&moduleName=CRM&type=EMAIL_CAMPAIGNS";l["a"].getDDLData(a+"&search=").then((function(a){t.CampaignData=[],""!=a.data&&(t.CampaignData=a.data.DATA)}))},FetchData:function(){var t=this;t.isLoading=!0;var a="campaignId=".concat(t.CampaignId,"&dateform=&dateto=&sortBy=").concat(t.SortBy,"&sortExp=").concat(t.SortExp,"&pageSize=").concat(t.PageSize,"&pageNumber=").concat(t.PageNumber,"&status=&emailDeliveryStatus=").concat(t.EmailDelivertStatus);l["a"].GetEmailStatisticsDetails(a).then((function(a){t.StatisticsHeaderData=[],void 0!=a.data.data&&a.data.data.length>0?(t.StatisticsHeaderData=a.data.data,t.TotalRecord=a.data.data[0].TOTAL,t.TotalPages=Math.ceil(t.TotalRecord/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1):t.noRecord=!0})),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),t.isLoading=!1},renderActions:function(){},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},sortdata:function(t){var a="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",a="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",a="sort tb_headerSortUp"):(this.SortExp="ASC",a="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",a)},onUserGuideChange:function(t){var a=this;a.EmailDelivertStatus=t,a.FetchData()},setSlider:function(t){var a=this;t.target.checked?(a.isPercentage=!1,a.StatisticsData[0].DELIVERED_COUNT=100*a.StatisticsData[0].DELIVERED_COUNT,a.StatisticsData[0].READ_COUNT=100*a.StatisticsData[0].READ_COUNT,a.StatisticsData[0].CLICKED_COUNT=100*a.StatisticsData[0].CLICKED_COUNT,a.StatisticsData[0].SOFT_BOUNCED_COUNT=100*a.StatisticsData[0].SOFT_BOUNCED_COUNT,a.StatisticsData[0].HARD_BOUNCED_COUNT=100*a.StatisticsData[0].HARD_BOUNCED_COUNT,a.StatisticsData[0].SPAM_COUNT=100*a.StatisticsData[0].SPAM_COUNT,a.StatisticsData[0].UNSUBSCRIBED_COUNT=100*a.StatisticsData[0].UNSUBSCRIBED_COUNT):(a.isPercentage=!0,a.StatisticsData[0].DELIVERED_COUNT=1*a.StatisticsData[0].DELIVERED_COUNT/100,a.StatisticsData[0].READ_COUNT=1*a.StatisticsData[0].READ_COUNT/100,a.StatisticsData[0].CLICKED_COUNT=1*a.StatisticsData[0].CLICKED_COUNT/100,a.StatisticsData[0].SOFT_BOUNCED_COUNT=1*a.StatisticsData[0].SOFT_BOUNCED_COUNT/100,a.StatisticsData[0].HARD_BOUNCED_COUNT=1*a.StatisticsData[0].HARD_BOUNCED_COUNT/100,a.StatisticsData[0].SPAM_COUNT=1*a.StatisticsData[0].SPAM_COUNT/100,a.StatisticsData[0].UNSUBSCRIBED_COUNT=1*a.StatisticsData[0].UNSUBSCRIBED_COUNT/100)}}},c=r,d=e("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);a["a"]=u.exports},"926d":function(t,a,e){var i=e("4ece");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=e("499e").default;s("9a9e60d8",i,!0,{sourceMap:!1,shadowMode:!1})},c511:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal d-block my-popups dialog"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._t("header",(function(){return[e("h5",[t._v(t._s(t.$t("Emails")))])]})),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(a){return t.$emit("close")}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])],2),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-Password",fn:function(a){var i=a.data;return[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.fieldInfo.value,expression:"data.fieldInfo.value"}],class:{"form-control w-100":!0,"is-invalid":""!=i.error.length},attrs:{type:"password",name:"Password"},domProps:{value:i.fieldInfo.value},on:{input:function(a){a.target.composing||t.$set(i.fieldInfo,"value",a.target.value)}}}),""!=i.error.length?e("span",{staticClass:"invalid-feedback",attrs:{name:"Password"}},[t._v(t._s(i.error))]):t._e()])]}}])}),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("small",{staticClass:"text-danger"},[t._v(t._s(t.$t("MandatoryString")))])])])],1)])])])},s=[],n=e("c7eb"),o=e("1da1"),l=(e("a9e3"),e("ac1f"),e("1276"),e("4de4"),e("d3b7"),e("159b"),e("e9c4"),e("9769")),r={props:{SendThrough:{type:String,required:!0},ProfileId:{type:Number,required:!1}},data:function(){return{FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("SMTPServer"),name:"SMTPServer",value:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("UserName"),name:"UserName",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SlotField",label:this.$t("Password"),name:"Password",value:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:this.$t("FromEmail"),name:"FromEmail",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("SMTPPort"),name:"SMTPPort",value:"",placeholder:"",config:{options:[],showAddIcon:!1}},{astype:"RadioField",label:this.$t("SMTPSecurity"),name:"SMTPSecurity",value:!1,placeholder:"",validationRules:{required:!1,max:200},config:{options:[{name:"true",value:!0},{name:"false",value:!1}],showAddIcon:!1}},{astype:"SelectField",label:this.$t("SMTPType"),name:"SMTPType",value:"",placeholder:"",config:{options:[],showAddIcon:!1}},{astype:"TextField",label:this.$t("FromName"),name:"FromName",value:"",placeholder:"",validationRules:{required:!1}}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Save"}]}},created:function(){var t=this;return Object(o["a"])(Object(n["a"])().mark((function a(){var e;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=t,!(e.ProfileId>0)){a.next=4;break}return a.next=4,e.GetSMTPProfile(e.ProfileId);case 4:return a.next=6,e.getModuleIdByModuleName();case 6:case"end":return a.stop()}}),a)})))()},methods:{getModuleIdByModuleName:function(){var t=this;return Object(o["a"])(Object(n["a"])().mark((function a(){var e,i;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=t,i="moduleName=Email",a.next=4,l["a"].GetModuleIdByModuleName(i).then((function(t){var a=t.data;e.BindDropdownData(a)}));case 4:case"end":return a.stop()}}),a)})))()},BindDropdownData:function(t){var a=this;return Object(o["a"])(Object(n["a"])().mark((function e(){var i,s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=a,s="moduleId=".concat(t,"&IsWizard=false"),e.next=4,l["a"].GetModuleKeys(s).then((function(t){var a=t.data.StorageKeys,e=a.filter((function(t){return"smtpport"==t.CORE_CONFIG_KEY.toLowerCase()}))[0].CORE_CONFIG_OPTIONS.split("^"),s=a.filter((function(t){return"smtptype"==t.CORE_CONFIG_KEY.toLowerCase()}))[0].CORE_CONFIG_OPTIONS.split("^");e.forEach((function(t,a){i.FormSchema[0].Data[4].config.options.push({name:t,value:t})})),s.forEach((function(t,a){i.FormSchema[0].Data[6].config.options.push({name:t,value:t})}))}));case 4:case"end":return e.stop()}}),e)})))()},GetSMTPProfile:function(t){var a=this;return Object(o["a"])(Object(n["a"])().mark((function e(){var i,s;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=a,s="profileId=".concat(t),e.next=4,l["a"].GetEmailProfile(s).then((function(t){i.FormSchema[0].Data[0].value=t.data.smtp_server,i.FormSchema[0].Data[1].value=t.data.user_name,i.FormSchema[0].Data[2].value=t.data.password,i.FormSchema[0].Data[3].value=t.data.from_email,i.FormSchema[0].Data[4].value=null==t.data.smtp_port?"":t.data.smtp_port,i.FormSchema[0].Data[5].value=t.data.smtp_security,i.FormSchema[0].Data[6].value=null==t.data.smtp_type?"":t.data.smtp_type,i.FormSchema[0].Data[7].value=t.data.from_email}));case 4:case"end":return e.stop()}}),e)})))()},onSubmit:function(t,a){var e=this,i={smtp_server:t.SMTPServer,user_name:t.UserName,password:t.Password,from_email:t.FromEmail,smtp_port:t.SMTPPort,smtp_security:t.SMTPSecurity,smtp_type:t.SMTPType,from_name:t.FromName,send_through:e.SendThrough,profile_id:e.ProfileId},s=JSON.stringify(i);l["a"].SaveEmailSetting(s).then((function(t){"INSERTED"==t.data?(e.$parent.FillProfileDropdown(e.SendThrough),e.ShowAlert(e.$t("AddedSuccess",[e.$t("EmailSetting")]),"success",!0,e.$t("Alert")),e.$emit("close")):"UPDATED"==t.data?(e.$parent.FillProfileDropdown(e.SendThrough),e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("EmailSetting")]),"success",!0,e.$t("Alert")),e.$emit("close")):e.ShowAlert(e.$t("AddedError",[e.$t("EmailSetting")]),"danger",!0,e.$t("Alert"))}))}}},c=r,d=e("2877"),u=Object(d["a"])(c,i,s,!1,null,null,null);a["a"]=u.exports},d514:function(t,a,e){"use strict";e("258f")},dbb4:function(t,a,e){var i=e("23e7"),s=e("83ab"),n=e("56ef"),o=e("fc6a"),l=e("06cf"),r=e("8418");i({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(t){var a,e,i=o(t),s=l.f,c=n(i),d={},u=0;while(c.length>u)e=s(i,a=c[u++]),void 0!==e&&r(d,a,e);return d}})},e29d:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("FollowUp")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){return t.closePopup()}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body",staticStyle:{"max-height":"600px","overflow-y":"auto"}},[e("div",{staticClass:"listing"},[t.followupList.length>0?e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"table-openactivities-content","aria-describedby":"folowuplist"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{attrs:{scope:"col"}},[e("span",[t._v(" "+t._s(t.$t("Subject"))+" ")])]),e("th",{attrs:{scope:"col"}},[e("span",[t._v(" "+t._s(t.$t("Activity"))+" "+t._s(t.$t("Type"))+" ")])]),e("th",{attrs:{scope:"col"}},[e("span",[t._v(" "+t._s(t.$t("Activity"))+" "+t._s(t.$t("ScheduleDate"))+" ")])]),e("th",{attrs:{scope:"col"}},[e("span",[t._v(" "+t._s(t.$t("Activity"))+" "+t._s(t.$t("OWNER"))+" ")])]),e("th",{attrs:{scope:"col"}},[e("span",[t._v(" "+t._s(t.$t("CreatedAt"))+" ")])]),e("th",{attrs:{scope:"col"}},[e("span",[t._v(" "+t._s(t.$t("Status"))+" ")])]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[e("span",[t._v(" "+t._s(t.$t("Action"))+" ")])])])]),e("tbody",t._l(t.followupList,(function(a){return e("tr",[e("td",[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.openToAddEditFollowUp(a)}}},[t._v(t._s(a.followup_notification_subject))])]),e("td",["FollowUp"===a.activity_type?e("div",[e("label",[t._v(" "+t._s(t.$t("FollowUp"))+" ")])]):e("div",[t._v(" "+t._s(a.activity_type)+" ")])]),e("td",[t._v(t._s(t.$options.filters.formatDate(a.followup_notification_schedule)))]),e("td",[t._v(t._s(a.activity_owner))]),e("td",[t._v(t._s(t.$options.filters.formatDate(a.created_at)))]),e("td",[e("span",{class:{"px-2 bg-success text-white d-block text-center":"Active"==a.status_name,"px-2 bg-danger text-white d-block text-center":"Inactive"==a.status_name}},[t._v(t._s(a.status_name))])]),e("td",{staticClass:"text-center single-action"},[e("a",{attrs:{href:"javascript:;",title:t.$t("Delete")},on:{click:function(e){return t.DeleteActivityData(a.followup_notification_id)}}},[e("em",{staticClass:"fa fa-trash action-icon text-danger"})])])])})),0)])]):t._e(),0==t.followupList.length?e("div",{staticClass:"text-center text-danger p-4 border no-record"},[t._v(" "+t._s(t.$t("NoRecordfound")))]):t._e()])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"col-lg-6 text-right p-0"},[e("a",{staticClass:"btn btn-success formbtn text-white",attrs:{href:"javascript:;"},on:{click:function(a){return t.openToAddEditFollowUp(null)}}},[e("em",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("Add"))+" "+t._s(t.$t("FollowUp")))])])])])])]),t.showAddEventModalForAddEdit?e("modalevent",{ref:"addEditFollowupModal",attrs:{modulename:t.modulename,submodulecode:t.submodulecode,sourceid:t.sourceId},on:{close:function(a){t.showAddEventModalForAddEdit=!1}}}):t._e()],1)])},s=[],n=(e("a9e3"),e("4de4"),e("d3b7"),e("e9c4"),e("6c06")),o=e("9769"),l={components:{modalevent:n["a"]},props:{modulename:{type:String,required:!0},submodulecode:{type:String,required:!0},userid:{type:Number,required:!0},leadInfo:{Type:Object,required:!0},srcId:{Type:String,required:!0}},data:function(){return{followupList:[],showAddEventModalForAddEdit:!1,sourceId:null,listItem:null}},created:function(){this.sourceId=this.srcId,this.loadFollowUpData(this.leadInfo,this.srcId)},methods:{formatDateTimeFunc:function(t){if(t)return moment(String(t),"YYYY-MM-DD HH:mm").format("MM/dd/yyyy")},loadFollowUpData:function(t,a){if("undefined"!=typeof a&&null!=a&&""!=a){var e=this;e.listItem=t,e.sourceId=a,e.followupList=[];var i="id="+a+"&subModuleCode="+e.submodulecode+"&moduleName="+e.modulename;o["a"].getFollowupList(i).then((function(t){""!=t.data&&null!=t.data&&t.data.data.length>0?(e.followupList=t.data.data.filter((function(t){return"FollowUp"==t.activity_type})),setTimeout((function(){e.CheckBoxBootstrap()}),100),setTimeout((function(){e.ResponsiveDataTable("table-openactivities-content")}),500)):e.followupList=[]}))}},DeleteActivityData:function(t){var a=this;t>0&&a.confirmR(this.$t("ConfirmDelete"),!0,this.$t("Confirm"),(function(){var e={ids:t,moduleName:a.modulename,subModuleCode:a.submodulecode,refCode:"DELETE_VIEW_ACTIVITY",refId:a.sourceId},i=JSON.stringify(e);o["a"].deleteActivityData(i).then((function(t){"Success"==t.data[0].Status?(a.ShowAlert(a.$t("DeletedSuccess",[a.$t("FollowUp")]),"success",!0,a.$t("Alert")),a.loadFollowUpData(null,a.sourceId)):a.ShowAlert(a.$t("DeletedError",[a.$t("FollowUp")]),"warning",!0,a.$t("Alert"))}))}))},closePopup:function(){this.$emit("close")},openToAddEditFollowUp:function(t){var a=this;if(null!=a.listItem&&"NO"!=a.listItem.is_additional_lead_owner&&"CRM_LEADS"==a.submodulecode){var e=JSON.parse(a.listItem.is_additional_lead_owner),i=e.filter((function(t){return"AddAcitvities"==t.permission_code}));i.length>0?(a.showAddEventModalForAddEdit=!0,null!=t&&setTimeout((function(){a.$refs.addEditFollowupModal.FetchEventViewData(t.followup_notification_id)}),500)):alert(a.$t("additionalOwnerAuthorityWarning"))}else a.showAddEventModalForAddEdit=!0,console.log(a.sourceId),null!=t&&setTimeout((function(){a.$refs.addEditFollowupModal.FetchEventViewData(t.followup_notification_id)}),500)}}},r=l,c=e("2877"),d=Object(c["a"])(r,i,s,!1,null,null,null);a["a"]=d.exports},e439:function(t,a,e){var i=e("23e7"),s=e("d039"),n=e("fc6a"),o=e("06cf").f,l=e("83ab"),r=s((function(){o(1)})),c=!l||r;i({target:"Object",stat:!0,forced:c,sham:!l},{getOwnPropertyDescriptor:function(t,a){return o(n(t),a)}})}}]);
//# sourceMappingURL=CRMCampaign.js.map