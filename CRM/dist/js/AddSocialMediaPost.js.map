{"version":3,"sources":["webpack:///./src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue?25d6","webpack:///./src/assets/common/CKEditorFileRendor.js","webpack:///./src/components/Common/Modal/modalScheduleAndApprovePost.vue?8711","webpack:///src/components/Common/Modal/modalScheduleAndApprovePost.vue","webpack:///./src/components/Common/Modal/modalScheduleAndApprovePost.vue?5363","webpack:///./src/components/Common/Modal/modalScheduleAndApprovePost.vue","webpack:///src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue","webpack:///./src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue?d6b4","webpack:///./src/views/CRM/Campaign/SocialMediaCampaign/AddPost.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","buttons","FormSchema","scopedSlots","_u","key","fn","data","editor","on","onReady","model","value","fieldInfo","callback","$$v","$set","expression","_v","_s","error","staticStyle","$event","saveForm","SchedulePost","_e","domProps","Data","_l","imgSrc","base64String","reqFrom","isShowScheduleApproveModal","staticRenderFns","UploadAdapter","loader","Promise","resolve","reject","reader","window","FileReader","addEventListener","result","err","file","then","readAsDataURL","$emit","$t","onSubmit","props","type","required","isLoaded","layoutType","astype","label","name","placeholder","config","format","minDate","validationRules","visibility","mode","options","class","text","onClick","created","vm","methods","Close","GetCampaignApprovers","url","DataServices","Users","campDDLData","component","components","modalScheduleAndApprovePost","AllPages","content","editorConfig","extraPlugins","File","fileData","isShowAdditionalBtns","scheduleDate","scheduleTime","approverId","approverNote","showLabel","FieldIndex","maxSize","accept","fileType","iconClass","onChange","showAddIcon","onAddButtonClick","multiple","divToRemove","mediaIcon","isDraft","CustomFieldArray","obj","ref_page_id","campaign_owner_id","attacthment","followup_content","category_id","tag_id","is_draft","schedule_date","schedule_time","approver_id","approver_note","files","accountForPost","DataService","pageId","follow_up_comments","category","tags","uploadAdapterPlugin","GetPageList","GetCampaignOwners","CampaignOwnerData","GetTags","TagData","tagDDLData","GetCategories","Categories","catDDLData","GetBase64String","attachement_mime","fileName","fileSize","contentType","hideShowBtns","SaveSocialMediaPost"],"mappings":"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AA,mCACAA,gCACAA,iCACAA,8BACAA,kBAGAE,MAXA,WAYA,WACAF,kBAEAG,qBAfA,WAeA,mKACAH,EAAA,EACAI,EAAA,oCAFA,SAGAC,kDACA,eACA,kBACA,KACA,UACAC,uBACAC,QACApB,YACA9C,mBAGA2D,8CAdA,gDCjImY,I,YCO/XQ,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QC8Ef,GACAC,YACAC,+BAEA1E,KAJA,WAKA,OACAC,2BACA0E,YACAC,sCACAC,cACAC,kBAEAC,UACAC,YACAzD,kBACA0D,wBACAxD,8BACAD,WACA0D,kBACAC,kBACAC,aACAC,gBAWA1F,YACA,CACAqD,oBACA5B,MACA,CACA6B,qBACAC,wBACAC,cACA9C,SACA+C,8BACAC,QACAM,YAEAH,iBAAA,cAEA,CACAP,qBACAC,qCACAC,2BACA9C,SACA+C,8BACAC,QACAM,YAEAH,iBAAA,gBAIA,CACAR,oBACA5B,MACA,CACA6B,mBACAC,yBACAC,eACA9C,SACA+C,eACAI,iBAAA,cAEA,CACAP,mBACAqC,aACApC,oCACAC,kBACA9C,SACA+C,eACAI,mBACA+B,aACAlC,QACAmC,UACAC,QACA,CACAC,eACAC,4BAEA,CACAD,gBACAC,4BAEA,CACAD,eACAC,4BAEA,CACAD,eACAC,6BAEA,CACAD,gBACAC,6BAEA,CACAD,eACAC,6BAEA,CACAD,eACAC,6BAEA,CACAD,eACAC,6BAEA,CACAD,eACAC,6BAEA,CACAD,eACAC,8BAIAC,8BACAC,eACAC,oBACAC,cAGA,CACA9C,uBACAC,iCACAC,uBACA9C,SACA+C,eACAI,iBAAA,cAEA,CACAP,qBACAC,0BACAC,gBACA9C,SACA+C,qBACAC,QACAM,WAEAkC,gBAGArC,iBAAA,cAEA,CACAP,qBACAC,sBACAC,YACA9C,SACA+C,qBACAC,QACAM,YAEAH,iBAAA,iBAKA9D,SACA,CACAmD,cACAe,6BACAC,qDACAxD,cACAyD,uBAEA,CACAjB,cACAe,wBACAC,8DACAC,8BAKAC,QAxLA,WAwLA,iKACAC,EAAA,EADA,SAEAA,gBAFA,uBAGAA,sBAHA,uBAIAA,YAJA,uBAKAA,kBALA,OAMAA,wCACAA,qCAPA,+CASAC,SACA9D,QADA,SACAF,GACAA,qDACAA,0BACAA,2BAEA,uDACA+F,WACA,wDACAC,YAEAjF,SAXA,SAWA6B,GACA,WACA,8BACAA,WAEA,SACA,aACAqD,MAEAlC,2CAAA,yJACA5B,EADA,oBAEAgC,EAAA,GACA+B,EAAAnC,wEACAoC,EAAA,CACAC,kCAAA,+CACAC,wCAAA,4DACAC,kCAAA,mDACA3B,8BAAA,gDACA4B,uCAAA,wDACAC,kCAAA,iDACAC,6BAAA,6CACAC,WACAC,0FACAC,0FACAC,yBACAC,6BACAC,kBAEA5C,oBAcA6C,EAAAjD,+BAAA,oDACAiD,KAlCA,oBAmCAA,4BAnCA,kCAoCAC,mDApCA,gCAuCA,gBAvCA,eA2CAlD,oBACAA,oBA5CA,UA6CAA,yBA7CA,+FAAAA,KAiDArB,uBACA,IACA,GACAwE,gBACAvC,kBACAwC,qCACAC,oBACAC,aAEA,oBACAJ,oDAIAK,oBAnFA,SAmFAtH,GACA,WACAA,gEACA,gCACA+D,cAKAwD,YA5FA,WA4FA,4JACAxD,EAAA,EACAI,EAAA,kCACA8C,iDACAlD,kBACA,uCACAA,0CACAA,gCACAA,6CACAb,YACA9C,yBAVA,8CAgBAoH,kBA5GA,WA4GA,mKACAzD,EAAA,EACAI,EAAA,oCAFA,SAGA8C,kDACA,eACA,kBACA,KACA,UACAlD,0CACA0D,uBACAnD,QACApB,YACA9C,mBAGA2D,8CAfA,8CAoBA2D,QAhIA,WAgIA,mKACA3D,EAAA,EACAI,EAAA,mCAFA,SAGA8C,kDACA,eACA,kBACA,KACA,UACAlD,0CACA4D,uBACAC,QACA1E,YACA9C,mBAGA2D,8CAfA,8CAoBA8D,cApJA,WAoJA,mKACA9D,EAAA,EACAI,EAAA,gDAFA,SAGA8C,kDACA,eACA,kBACA,KACA,UACAlD,0CACA+D,uBACAC,QACA7E,YACA9C,mBAGA2D,8CAfA,8CAoBAiE,4BACA,IACA,WACAjE,cAGA,IADA,qBACA,oBACA,WACA,iBAEAhC,qBACA,mBACA,sBAEA,iBACAgC,iBAGA,aACAA,aACA,yBACA,4BAEAA,iBACA,6EACA,SACAA,aACA,OACAkE,mBACAC,WACA5G,eACA6G,gBACAC,oBAGArE,oBAzBAhC,GA6BAA,yBAGA,YAGAsG,aArNA,WAsNA,WACAtE,gDAEAuE,oBAzNA,SAyNAnE,GAAA,2JACA,EADA,SAEA8C,+CAFA,8CAMAjG,aA/NA,SA+NAO,GACA,WACAwC,YACAA,mCAIO,cAEP/D,gEAAA,OACA,WC1gB8X,ICO1X,EAAY,eACd,EACAlB,EACA2C,GACA,EACA,KACA,KACA,MAIa,e","file":"js/AddSocialMediaPost.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"container-fluid mt-3 tab-style plaintabs\"},[_vm._m(0),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 p-0 mt-2 float-left\"},[_c('div',{staticClass:\"col-sm-12 col-md-6 p-0 float-left\"},[_c('Form',{ref:\"AddPost\"},[_c('dynamic-form',{ref:\"AddPostForm\",attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},scopedSlots:_vm._u([{key:\"tgslot-Content\",fn:function(ref){\nvar data = ref.data;\nreturn [_c('ckeditor',{attrs:{\"editor\":_vm.editor},on:{\"ready\":_vm.onReady},model:{value:(data.fieldInfo.value),callback:function ($$v) {_vm.$set(data.fieldInfo, \"value\", $$v)},expression:\"data.fieldInfo.value\"}}),_vm._v(\" \"),_c('span',{staticClass:\"invalid-feedback d-block\",attrs:{\"name\":\"Content\"}},[_vm._v(_vm._s(data.error))])]}}])}),(_vm.isShowAdditionalBtns)?_c('div',{staticClass:\"col-12 float-left mt-3\"},[_c('div',{staticClass:\"float-left border\",staticStyle:{\"max-width\":\"450px\",\"min-width\":\"450px\"}},[_c('a',{staticClass:\"float-left d-flex p-2 borderbottom w-100\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.saveForm('PostNow')}}},[_c('div',{staticClass:\"float-left d-block\"},[_c('em',{staticClass:\"fa fa-paper-plane text-info p-3 font-24\"})]),_c('div',{staticClass:\"float-left mt-2 ml-2\"},[_c('span',{staticClass:\"w-100 float-left font-weight-medium\"},[_vm._v(\"Post Now\")]),_c('span',{staticClass:\"w-100 float-left font-12 font-weight-medium\"},[_vm._v(\"Send out this post to the selected social channels/accounts.\")])])]),_c('a',{staticClass:\"float-left d-flex p-2 borderbottom w-100\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.SchedulePost('SchedulePost')}}},[_c('div',{staticClass:\"float-left d-block\"},[_c('em',{staticClass:\"fa fa-clock-o p-3 font-24\",staticStyle:{\"color\":\"#1dbdac\"}})]),_c('div',{staticClass:\"float-left mt-2 ml-2\"},[_c('span',{staticClass:\"w-100 float-left font-weight-medium\"},[_vm._v(\"Schedule Post\")]),_c('span',{staticClass:\"w-100 float-left font-12 font-weight-medium\"},[_vm._v(\"Schedule a post for a later date or time.\")])])]),_c('a',{staticClass:\"float-left d-flex p-2 borderbottom w-100\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.SchedulePost('SendForApproval')}}},[_c('div',{staticClass:\"float-left d-block\"},[_c('em',{staticClass:\"fa fa-check-circle text-success p-3 font-24\"})]),_c('div',{staticClass:\"float-left mt-2 ml-2\"},[_c('span',{staticClass:\"w-100 float-left font-weight-medium\"},[_vm._v(\"Send Post For Approval\")]),_c('span',{staticClass:\"w-100 float-left font-12 font-weight-medium\"},[_vm._v(\"Send for approval first with in your agency or organisation.\")])])]),_c('a',{staticClass:\"float-left d-flex p-2 w-100\",attrs:{\"href\":\"javascript:;\"}},[_c('div',{staticClass:\"float-left d-block\"},[_c('em',{staticClass:\"fa fa-trash text-danger p-3 font-24\"})]),_c('div',{staticClass:\"float-left mt-2 ml-2\"},[_c('span',{staticClass:\"w-100 float-left font-weight-medium\"},[_vm._v(\"Delete\")]),_c('span',{staticClass:\"w-100 float-left font-12 font-weight-medium\"},[_vm._v(\"Delete this post forever.\")])])])])]):_vm._e()],1)],1),_c('div',{staticClass:\"col-sm-12 col-md-6 p-0 float-left bg-light p-4\"},[_c('div',{staticClass:\"col-12 bg-white p-2\"},[_c('div',{staticClass:\"col-12 bg-light p-2\"},[_vm._v(\"Preview in\")]),_c('div',{staticClass:\"col-12 bg-light p-2 mt-2\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.FormSchema[1].Data[0].value)}}),_vm._l((_vm.fileData),function(imgSrc){return _c('img',{attrs:{\"src\":'data:image/gif;base64,'+ imgSrc.base64String}})})],2)])])])]),(_vm.isShowScheduleApproveModal)?_c('modalScheduleAndApprovePost',{attrs:{\"reqFrom\":_vm.reqFrom},on:{\"close\":function($event){_vm.isShowScheduleApproveModal=false}}}):_vm._e()],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-12 p-0 mt-2\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[_c('span',{staticClass:\"p-name text-white\"},[_vm._v(\"New Social Post\")]),_c('span',{staticClass:\"p-actions float-right\"},[_c('a',{staticClass:\"p-action-btn text-white\",attrs:{\"href\":\"javascript:;\",\"value\":\"cal\",\"id\":\"ShowCalender\",\"title\":\"\",\"data-toggle-tooltip\":\"tooltip\",\"data-original-title\":\"Back to List\"}},[_c('i',{staticClass:\"fa fa-angle-double-left pr-2\"}),_c('br'),_c('span',[_vm._v(\" Back to List\")])])])])])}]\n\nexport { render, staticRenderFns }","export default class UploadAdapter\r\n{\r\n    constructor (loader)\r\n    {\r\n        // The file loader instance to use during the upload.\r\n        this.loader = loader;\r\n    }\r\n\r\n    // Starts the upload process.\r\n    upload ()\r\n    {\r\n        return new Promise((resolve, reject) =>\r\n        {\r\n            const reader = new window.FileReader();\r\n\r\n            reader.addEventListener('load', () =>\r\n            {\r\n                resolve({'default': reader.result});\r\n            });\r\n\r\n            reader.addEventListener('error', err =>\r\n            {\r\n                reject(err);\r\n            });\r\n\r\n            reader.addEventListener('abort', () =>\r\n            {\r\n                reject();\r\n            });\r\n\r\n            this.loader.file.then(file =>\r\n            {\r\n                reader.readAsDataURL(file);\r\n            });\r\n        });\r\n    }\r\n\r\n    // Aborts the upload process.\r\n    abort ()\r\n    {\r\n         //\r\n    }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('div',{staticClass:\"modal my-popups  fade show\",staticStyle:{\"display\":\"block\"},attrs:{\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog mw-1100\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header mheader-user\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_c('i',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})]),_c('h4',{staticClass:\"modal-title\",attrs:{\"id\":\"myModalLabel\"}},[_vm._v(_vm._s(_vm.$t(_vm.reqFrom)))])]),_c('div',{staticClass:\"modal-body\"},[(_vm.isLoaded)?_c('dynamic-form',{attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},on:{\"OnSubmit\":_vm.onSubmit}}):_vm._e(),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"py-2\"},[_c('span',{staticClass:\"mandatory\"},[_vm._v(\" \"+_vm._s(_vm.$t('MandatoryString'))+\" \")])])])],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section>\r\n        <div class=\"modal my-popups  fade show\" role=\"dialog\" style=\"display: block;\">\r\n            <div class=\"modal-dialog mw-1100\" role=\"document\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header mheader-user\">\r\n                        <button type=\"button\" class=\"close\" @click=\"$emit('close')\"><i class=\"fa fa-times\"\r\n                                aria-hidden=\"true\"></i></button>\r\n                        <h4 id=\"myModalLabel\" class=\"modal-title\">{{ $t(reqFrom) }}</h4>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <dynamic-form v-if=\"isLoaded\" lang=\"en\" :buttons=\"buttons\" :schema=\"FormSchema\" v-on:OnSubmit=\"onSubmit\" />\r\n                        <div class=\"col-lg-6\">\r\n                            <div class=\"py-2\">\r\n                                <span class=\"mandatory\"> {{$t('MandatoryString')}} </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport DataServices from \"../../../services/DataService\";\r\nexport default {\r\n    props:{\r\n        reqFrom:  {\r\n            type: String,\r\n            required: true\r\n        },\r\n    },\r\n    data(){\r\n        return{\r\n            isLoaded:false,\r\n            FormSchema: [\r\n                {\r\n                    layoutType: \"double\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"DateField\",\r\n                            label: \"Start Date (M/D/YYYY)\",\r\n                            name: \"StartDate\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            config: {\r\n                                format: \"M/D/YYYY\",\r\n                                minDate:new Date()\r\n                            },\r\n                            validationRules: {\"required\": true},\r\n                            visibility: true,\r\n                        },\r\n                        {\r\n                            astype: \"DateField\",\r\n                            label: this.$t('StartTime'),\r\n                            name: \"StartTime\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            config: {\r\n                                mode: 'Time',\r\n                                minDate:new Date()\r\n                            },\r\n                            validationRules: {\"required\": true},\r\n                            visibility: true,\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('Approver'),\r\n                            name: \"Approver\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            config: {\r\n                                options: [],\r\n                            },\r\n                            validationRules: {\"required\": true},\r\n                            visibility: false,\r\n                        },\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('AddNote'),\r\n                            name: \"AddNote\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: { \"required\": false },\r\n                            visibility: false,\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success\",\r\n                    text: this.reqFrom=='SchedulePost' ? \"Schedule Post\" :'<i class=\"fa fa-clock-o pr-2\"></i>Schedule & Send For Approval'\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-danger\",\r\n                    text: \"<i class='fa fa-close pr-2'></i>Cancel\",\r\n                    onClick: this.Close\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    async created(){\r\n        var vm = this;\r\n        if(vm.reqFrom=='SendForApproval'){\r\n            vm.FormSchema[0].Data[2].visibility=true;\r\n            vm.FormSchema[0].Data[3].visibility=true;\r\n            await vm.GetCampaignApprovers();\r\n        }\r\n        vm.isLoaded=true;\r\n    },\r\n    methods:{\r\n        onSubmit: function (formfields, values) {\r\n            var vm = this;\r\n            vm.$parent.scheduleDate=formfields.StartDate;\r\n            vm.$parent.scheduleTime=formfields.StartTime;\r\n            vm.$parent.approverId=formfields.Approver;\r\n            vm.$parent.approverNote=formfields.AddNote;\r\n            vm.$parent.saveForm(vm.reqFrom);\r\n            vm.$emit('close');\r\n\r\n        },\r\n        Close(){\r\n            var vm =this;\r\n            vm.$emit('close');\r\n        },\r\n        async GetCampaignApprovers() {\r\n            var vm = this;\r\n            var url = \"id=&moduleName=CRM&type=CRM_USERS\";\r\n            await DataServices.getDDLData(url + \"&search=\").then(response => {\r\n                if (response.data != '') {\r\n                    var Users = response.data.DATA;\r\n                    var campDDLData = [];\r\n                    if (Users != null) {\r\n                        Users.forEach(x => {\r\n                            campDDLData.push({\r\n                                name: x.name,\r\n                                value: x.value\r\n                            })\r\n                        })\r\n                        vm.FormSchema[0].Data[2].config.options = Users;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modalScheduleAndApprovePost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modalScheduleAndApprovePost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modalScheduleAndApprovePost.vue?vue&type=template&id=4114858c&\"\nimport script from \"./modalScheduleAndApprovePost.vue?vue&type=script&lang=js&\"\nexport * from \"./modalScheduleAndApprovePost.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <section>\r\n        <div class=\"container-fluid mt-3 tab-style plaintabs\">\r\n\r\n\r\n\r\n<div class=\"col-md-12 p-0 mt-2\">\r\n    <div class=\"theme-primary partition-full\">\r\n        <span class=\"p-name text-white\">New Social Post</span>\r\n        <span class=\"p-actions float-right\">\r\n            <a href=\"javascript:;\" value=\"cal\" id=\"ShowCalender\" class=\"p-action-btn text-white\" title=\"\" data-toggle-tooltip=\"tooltip\" data-original-title=\"Back to List\"><i class=\"fa fa-angle-double-left pr-2\"></i><br /><span> Back to List</span></a>\r\n        </span>\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class=\"row\">\r\n    <div class=\"col-md-12 p-0 mt-2 float-left\">\r\n        <div class=\"col-sm-12 col-md-6 p-0 float-left\">\r\n            <Form ref=\"AddPost\">\r\n            <dynamic-form ref=\"AddPostForm\" lang=\"en\" :buttons=\"buttons\" :schema=\"FormSchema\"> <!-- v-on:OnSubmit=\"onSubmit\"-->\r\n                <template v-slot:tgslot-Content=\"{ data }\">\r\n                    <ckeditor :editor=\"editor\" @ready=\"onReady\" v-model=\"data.fieldInfo.value\"></ckeditor> <!--:config=\"editorConfig\"-->\r\n                    <span name=\"Content\" class=\"invalid-feedback d-block\">{{ data.error }}</span>\r\n                </template>\r\n            </dynamic-form>\r\n            <div v-if=\"isShowAdditionalBtns\" class=\"col-12 float-left mt-3\">\r\n                <div class=\"float-left border\" style=\"max-width:450px; min-width:450px;\">\r\n\r\n                    <a href=\"javascript:;\" v-on:click=\"saveForm('PostNow')\" class=\"float-left d-flex p-2 borderbottom w-100\">\r\n                        <div class=\"float-left d-block\">\r\n                            <em class=\"fa fa-paper-plane text-info p-3 font-24\"></em>\r\n                        </div>\r\n                        <div class=\"float-left mt-2 ml-2\">\r\n                            <span class=\"w-100 float-left font-weight-medium\">Post Now</span>\r\n                            <span class=\"w-100 float-left font-12 font-weight-medium\">Send out this post to the selected social channels/accounts.</span>\r\n                        </div>\r\n                    </a>\r\n\r\n                    <a href=\"javascript:;\" v-on:click=\"SchedulePost('SchedulePost')\" class=\"float-left d-flex p-2 borderbottom w-100\">\r\n                        <div class=\"float-left d-block\">\r\n                            <em class=\"fa fa-clock-o p-3 font-24\" style=\"color:#1dbdac\"></em>\r\n                        </div>\r\n                        <div class=\"float-left mt-2 ml-2\">\r\n                            <span class=\"w-100 float-left font-weight-medium\">Schedule Post</span>\r\n                            <span class=\"w-100 float-left font-12 font-weight-medium\">Schedule a post for a later date or time.</span>\r\n                        </div>\r\n                    </a>\r\n\r\n                    <a href=\"javascript:;\" v-on:click=\"SchedulePost('SendForApproval')\" class=\"float-left d-flex p-2 borderbottom w-100\">\r\n                        <div class=\"float-left d-block\">\r\n                            <em class=\"fa fa-check-circle text-success p-3 font-24\"></em>\r\n                        </div>\r\n                        <div class=\"float-left mt-2 ml-2\">\r\n                            <span class=\"w-100 float-left font-weight-medium\">Send Post For Approval</span>\r\n                            <span class=\"w-100 float-left font-12 font-weight-medium\">Send for approval first with in your agency or organisation.</span>\r\n                        </div>\r\n                    </a>\r\n\r\n                    <a href=\"javascript:;\" class=\"float-left d-flex p-2 w-100\">\r\n                        <div class=\"float-left d-block\">\r\n                            <em class=\"fa fa-trash text-danger p-3 font-24\"></em>\r\n                        </div>\r\n                        <div class=\"float-left mt-2 ml-2\">\r\n                            <span class=\"w-100 float-left font-weight-medium\">Delete</span>\r\n                            <span class=\"w-100 float-left font-12 font-weight-medium\">Delete this post forever.</span>\r\n                        </div>\r\n                    </a>\r\n\r\n                </div>\r\n            </div>\r\n        </Form>\r\n        </div>\r\n\r\n        <div class=\"col-sm-12 col-md-6 p-0 float-left bg-light p-4\">\r\n\r\n            <div class=\"col-12 bg-white p-2\">\r\n                <div class=\"col-12 bg-light p-2\">Preview in</div>\r\n\r\n                <div class=\"col-12 bg-light p-2 mt-2\">\r\n                    <span v-html=\"FormSchema[1].Data[0].value\"></span>\r\n                    <img v-for=\"imgSrc in fileData\" v-bind:src=\"'data:image/gif;base64,'+ imgSrc.base64String\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<modalScheduleAndApprovePost v-if=\"isShowScheduleApproveModal\" :reqFrom=\"reqFrom\" @close=\"isShowScheduleApproveModal=false\"></modalScheduleAndApprovePost>\r\n</div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../../../services/DataService';\r\nimport UploadAdapter from  '../../../../assets/common/CKEditorFileRendor';\r\nimport modalScheduleAndApprovePost from '../../../../components/Common/Modal/modalScheduleAndApprovePost.vue';\r\nexport default{\r\n    components:{\r\n        modalScheduleAndApprovePost\r\n    },\r\n    data(){\r\n        return{\r\n            editor: this.CLASSIC_EDITOR,\r\n            AllPages:[],\r\n            content: \"<p>Some initial content</p>\",\r\n            editorConfig: {\r\n                extraPlugins: [uploader],\r\n            },\r\n            File:null,\r\n            fileData:[],\r\n            base64String:null,\r\n            isShowAdditionalBtns:false,\r\n            isShowScheduleApproveModal:false,\r\n            reqFrom:'',\r\n            scheduleDate:null,\r\n            scheduleTime:null,\r\n            approverId:0,\r\n            approverNote:'',\r\n            // postModel :{\r\n            //     pageId:0,\r\n            //     campaign_owner:0,\r\n            //     attacthment:null,\r\n            //     content:'',\r\n            //     follow_up_comments:'',\r\n            //     category:null,\r\n            //     tags:null,\r\n            //     is_dratf:0\r\n            // },\r\n            FormSchema:[\r\n                {\r\n                    layoutType: \"double\",\r\n                    Data:[\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('PostTo'),\r\n                            name: \"PostTo\",\r\n                            value: \"\",\r\n                            placeholder: this.$t('Select'),\r\n                            config: {\r\n                                options:[]\r\n                            },\r\n                            validationRules: { \"required\": true }\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('AssignCampaignOwner'),\r\n                            name: 'AssignCampaignOwner',\r\n                            value: \"\",\r\n                            placeholder: this.$t('Select'),\r\n                            config: {\r\n                                options:[]\r\n                            },\r\n                            validationRules: { \"required\": false }\r\n                        },\r\n                    ]\r\n                },\r\n                {\r\n                    layoutType: \"single\",\r\n                    Data:[\r\n                        {\r\n                            astype: \"SlotField\",\r\n                            label: this.$t('Content'),\r\n                            name: \"Content\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: { \"required\": true }\r\n                        },\r\n                        {\r\n                            astype: \"FileField\",\r\n                            showLabel: true,\r\n                            label: this.$t('Upload Imgae/Video'),\r\n                            name: \"Attachment\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: \"\",\r\n                            FieldIndex: 0,\r\n                            config: {\r\n                                maxSize: 1,\r\n                                accept: [\r\n                                    {\r\n                                        fileType: 'doc', // Document type\r\n                                        iconClass: 'fa-file-word-o' // Icon class for documents\r\n                                    },\r\n                                    {\r\n                                        fileType: 'docx', // Document type\r\n                                        iconClass: 'fa-file-word-o' // Icon class for documents\r\n                                    },\r\n                                    {\r\n                                        fileType: 'txt', // Text file type\r\n                                        iconClass: 'fa-file-text-o' // Icon class for text files\r\n                                    },\r\n                                    {\r\n                                        fileType: 'jpg', // Image types\r\n                                        iconClass: 'fa-file-image-o' // Icon class for images\r\n                                    },\r\n                                    {\r\n                                        fileType: 'jpeg', // Image types\r\n                                        iconClass: 'fa-file-image-o' // Icon class for images\r\n                                    },\r\n                                    {\r\n                                        fileType: 'png', // Image types\r\n                                        iconClass: 'fa-file-image-o' // Icon class for images\r\n                                    },\r\n                                    {\r\n                                        fileType: 'gif', // Image types\r\n                                        iconClass: 'fa-file-image-o' // Icon class for images\r\n                                    },\r\n                                    {\r\n                                        fileType: 'bmp', // Image types\r\n                                        iconClass: 'fa-file-image-o' // Icon class for images\r\n                                    },\r\n                                    {\r\n                                        fileType: 'mp4', // Video types\r\n                                        iconClass: 'fa-file-video-o' // Icon class for videos\r\n                                    },\r\n                                    {\r\n                                        fileType: 'mov', // Video types\r\n                                        iconClass: 'fa-file-video-o' // Icon class for videos\r\n                                    },\r\n                                    // Add more image, document, text, and video types as needed\r\n                                ],\r\n                                onChange: this.GetBase64String,\r\n                                showAddIcon: false,\r\n                                onAddButtonClick: \"\",\r\n                                multiple: false\r\n                            },\r\n                        },\r\n                        {\r\n                            astype: \"TextAreaField\",\r\n                            label: this.$t('FollowUpComment'),\r\n                            name: \"FollowUpComment\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            validationRules: { \"required\": false }\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('Category'),\r\n                            name: \"Category\",\r\n                            value: \"\",\r\n                            placeholder: \"Select\",\r\n                            config: {\r\n                                options: [],\r\n                                //onChange: this.onChangeProfile,\r\n                                showAddIcon: true,\r\n                                //onAddButtonClick: this.AddSMTPCredentials,\r\n                            },\r\n                            validationRules: { \"required\": false },\r\n                        },\r\n                        {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('Tags'),\r\n                            name: \"Tags\",\r\n                            value: \"\",\r\n                            placeholder: \"Select\",\r\n                            config: {\r\n                                options: [],\r\n                            },\r\n                            validationRules: { \"required\": false },\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success save\",\r\n                    text: \"<i class='fa fa-save pr-2'></i>Save for Later\",\r\n                    value:\"Draft\",\r\n                    onClick:this.saveForm\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-primary\",\r\n                    text: \"Post<i class='fa fa-angle-double-right pl-2 pr-2'></i>\",\r\n                    onClick: this.hideShowBtns\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    async created(){\r\n        var vm =this;\r\n        await vm.GetPageList();\r\n        await vm.GetCampaignOwners();\r\n        await vm.GetTags();\r\n        await vm.GetCategories();\r\n        vm.FormSchema[1].Data[0].value=vm.content;\r\n        vm.$refs.AddPostForm.UpdateKeyValue();\r\n    },\r\n    methods:{\r\n        onReady(editor) {\r\n            editor.ui.getEditableElement().parentElement.insertBefore(\r\n                editor.ui.view.toolbar.element,\r\n                editor.ui.getEditableElement()\r\n            );\r\n            var divToRemove = document.querySelector('.ck-file-dialog-button');\r\n            divToRemove.remove(); //for image remove\r\n            let mediaIcon=document.getElementsByClassName('ck-dropdown')[2]\r\n            mediaIcon.remove();   // for video icon remove\r\n        },\r\n       saveForm(type){\r\n            var vm = this;\r\n            if(typeof(type)=='object'){\r\n                type=type.value;\r\n            }\r\n            let isDraft =false;\r\n            if(type=='Draft'){\r\n                isDraft=true;\r\n            }\r\n            vm.$refs.AddPost.validate().then(async result => {\r\n                if(result){\r\n                    var url ='';\r\n                    var CustomFieldArray = vm.$refs.AddPostForm.ConvertDynamicFormObjToCustomFieldObj(vm.FormSchema);\r\n                    var obj = {\r\n                        ref_page_id:CustomFieldArray.filter(x=>x.field_name=='PostTo')[0].field_value,\r\n                        campaign_owner_id:CustomFieldArray.filter(x=>x.field_name=='AssignCampaignOwner')[0].field_value,\r\n                        attacthment:CustomFieldArray.filter(x=>x.field_name=='Attachment')[0].field_value,\r\n                        content:CustomFieldArray.filter(x=>x.field_name=='Content')[0].field_value,\r\n                        followup_content:CustomFieldArray.filter(x=>x.field_name=='FollowUpComment')[0].field_value,\r\n                        category_id:CustomFieldArray.filter(x=>x.field_name=='Category')[0].field_value,\r\n                        tag_id:CustomFieldArray.filter(x=>x.field_name=='Tags')[0].field_value,\r\n                        is_draft : isDraft,\r\n                        schedule_date:vm.scheduleDate ? vm.$options.filters.formatDate(vm.scheduleDate) : vm.scheduleDate,\r\n                        schedule_time:vm.scheduleTime ? vm.$options.filters.formatTime(vm.scheduleTime) : vm.scheduleTime,\r\n                        approver_id: vm.approverId,\r\n                        approver_note: vm.approverNote,\r\n                        files: vm.fileData\r\n                    }\r\n                    url =JSON.stringify(obj);\r\n                     \r\n                    // vm.postModel.pageId=CustomFieldArray.filter(x=>x.field_name=='PostTo')[0].field_value;\r\n                    // vm.postModel.campaign_owner=CustomFieldArray.filter(x=>x.field_name=='AssignCampaignOwner')[0].field_value;\r\n                    // vm.postModel.attacthment=vm.fileData;\r\n                    // vm.postModel.content=CustomFieldArray.filter(x=>x.field_name=='Content')[0].field_value;\r\n                    // vm.postModel.follow_up_comments=CustomFieldArray.filter(x=>x.field_name=='FollowUpComment')[0].field_value;\r\n                    // vm.postModel.category=CustomFieldArray.filter(x=>x.field_name=='Category')[0].field_value,\r\n                    // vm.postModel.tags=CustomFieldArray.filter(x=>x.field_name=='Tags')[0].field_value;\r\n                    // vm.postModel.is_draft=isDraft;\r\n                    \r\n                    // const formdata = new FormData();\r\n                    // formdata.append(\"postString\", JSON.stringify(vm.postModel));\r\n                    // formdata.append(\"file\", vm.fileData); \r\n                    let accountForPost = vm.AllPages.filter(x=>x.PAGE_ID==obj.ref_page_id)[0].ACCOUNT_NAME;\r\n                    if(accountForPost && !isDraft){\r\n                        if(accountForPost.toLowerCase()=='facebook'){\r\n                           await DataService.UploadFacebookPost(url).then(function(response){\r\n                             \r\n                            })\r\n                        }else if(accountForPost.toLowerCase()=='instagram'){\r\n\r\n                        }\r\n                    }\r\n                    vm.scheduleDate=null;\r\n                    vm.scheduleTime=null;\r\n                    await vm.SaveSocialMediaPost(url);\r\n                }\r\n            })\r\n        },\r\n        onSubmit: function (formFeilds, values) {\r\n            var vm = this;\r\n            var obj = {\r\n                pageId:formFeilds.PostTo,\r\n                content:formFeilds.Content,\r\n                follow_up_comments:formFeilds.FollowUpComment,\r\n                category:formFeilds.Category,\r\n                tags:formFeilds.Tags\r\n            }\r\n            var url =JSON.stringify(obj);\r\n            DataService.UploadFacebookPost(url).then(function(response){\r\n               \r\n            })\r\n        },\r\n        uploadAdapterPlugin(editor) {\r\n            var vm=this;\r\n            editor.plugins.get('FileRepository').createUploadAdapter = (loader) => {\r\n            return loader.file.then((file) => {\r\n                vm.File =file;\r\n            })\r\n\r\n        };\r\n        },\r\n        async GetPageList(){\r\n            var vm=this;\r\n            var url = 'TYPE=CRM_SOCIAL&MODULE_NAME=CRM';\r\n            DataService.GetTriggerFieldValue(url).then(function (response) {\r\n                vm.AllPages = response.data;\r\n                if(vm.AllPages !=null && vm.AllPages !=undefined){\r\n                    vm.FormSchema[0].Data[0].config.options=[];\r\n                    vm.AllPages.forEach(item=>{\r\n                        vm.FormSchema[0].Data[0].config.options.push({\r\n                            name: item.NAME,\r\n                            value: item.PAGE_ID\r\n                        })\r\n                    })\r\n                }\r\n            })\r\n        },\r\n        async GetCampaignOwners() {\r\n            var vm = this;\r\n            var url = \"id=&moduleName=CRM&type=CRM_USERS\";\r\n            await DataService.getDDLData(url + \"&search=\").then(response => {\r\n                if (response.data != '') {\r\n                    var CampaignOwnerData = response.data.DATA;\r\n                    var campDDLData = [];\r\n                    if (CampaignOwnerData != null) {\r\n                        vm.FormSchema[0].Data[1].config.options=[];\r\n                        CampaignOwnerData.forEach(x => {\r\n                            campDDLData.push({\r\n                                name: x.name,\r\n                                value: x.value\r\n                            })\r\n                        })\r\n                        vm.FormSchema[0].Data[1].config.options = campDDLData;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        async GetTags() {\r\n            var vm = this;\r\n            var url = \"id=&moduleName=CRM&type=CRM_TAGS\";\r\n            await DataService.getDDLData(url + \"&search=\").then(response => {\r\n                if (response.data != '') {\r\n                    var TagData = response.data.DATA;\r\n                    var tagDDLData = [];\r\n                    if (TagData != null) {\r\n                        vm.FormSchema[1].Data[4].config.options=[];\r\n                        TagData.forEach(x => {\r\n                            tagDDLData.push({\r\n                                name: x.name,\r\n                                value: x.value\r\n                            })\r\n                        })\r\n                        vm.FormSchema[1].Data[4].config.options = tagDDLData;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        async GetCategories() {\r\n            var vm = this;\r\n            var url = \"id=&moduleName=CRM&type=CRM_CAMPAIGN_CATEGORY\";\r\n            await DataService.getDDLData(url + \"&search=\").then(response => {\r\n                if (response.data != '') {\r\n                    var Categories = response.data.DATA;\r\n                    var catDDLData = [];\r\n                    if (Categories != null) {\r\n                        vm.FormSchema[1].Data[3].config.options=[];\r\n                        Categories.forEach(x => {\r\n                            catDDLData.push({\r\n                                name: x.name,\r\n                                value: x.value\r\n                            })\r\n                        })\r\n                        vm.FormSchema[1].Data[3].config.options = catDDLData;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n        GetBase64String: function (evt) {\r\n            try {\r\n                var vm = this;\r\n                vm.fileData = [];\r\n\r\n                var files = evt.target.files; // FileList object\r\n                for (var i = 0; i < files.length; i++) {\r\n                    var f = files[i];\r\n                    var reader = new FileReader();\r\n                    // Closure to capture the file information.\r\n                    reader.onload = (function (theFile) {\r\n                        return function (e) {\r\n                            var binaryData = e.target.result;\r\n                            //Converting Binary Data to base 64\r\n                            var base64StringEncoded = window.btoa(binaryData);\r\n                            vm.base64String=base64StringEncoded;\r\n                            //showing file converted to base64\r\n\r\n                            var fileName = f.name;\r\n                            vm.fileName = fileName;\r\n                            var n = fileName.lastIndexOf(\".\");\r\n                            var extensionName = fileName.substring(n + 1, fileName.length);\r\n\r\n                            vm.fileExt += \".\" + extensionName;\r\n                            var attachemnetMime = '{\"ContentType\":\"' + f.type + '\",\"Size\":\"' + f.size + '\",\"Extension\":\"' + extensionName + '\"}';\r\n                            var fileSize = f.size;\r\n                            vm.fileSize = fileSize;\r\n                            var fileObj = {\r\n                                attachement_mime: attachemnetMime,\r\n                                fileName: fileName,\r\n                                base64String: base64StringEncoded,\r\n                                fileSize: f.size,\r\n                                contentType: f.type\r\n                            };\r\n\r\n                            vm.fileData.push(fileObj);\r\n                        };\r\n                    })(f);\r\n                    // Read in the image file as a data URL.\r\n                    reader.readAsBinaryString(f);\r\n                }\r\n            }\r\n            catch (ex) {\r\n            }\r\n        },\r\n        hideShowBtns(){\r\n            var vm=this;\r\n            vm.isShowAdditionalBtns= vm.isShowAdditionalBtns ? false : true;\r\n        },\r\n        async SaveSocialMediaPost(url){\r\n            var vm =this;\r\n           await DataService.SaveSocialPost(url).then(function(response){\r\n\r\n            })\r\n        },\r\n        SchedulePost(reqFrom){\r\n            var vm =this;\r\n            vm.reqFrom=reqFrom;\r\n            vm.isShowScheduleApproveModal = true;\r\n        }\r\n    }\r\n}\r\nexport const uploader = function (editor)\r\n{\r\n    editor.plugins.get('FileRepository').createUploadAdapter = (loader) =>\r\n        new UploadAdapter(loader);\r\n};\r\n\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddPost.vue?vue&type=template&id=1e233589&\"\nimport script from \"./AddPost.vue?vue&type=script&lang=js&\"\nexport * from \"./AddPost.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}