(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06963861"],{"0c7f":function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[e._v(" "+e._s(e.ModalLabelForlsListing)+" ")]),t("div",["Groups"==e.refCode?t("a",{staticClass:"p-action-btn text-white",attrs:{id:"aAddFolder",href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add"},on:{click:e.OpenAddGroupPopup}},[t("em",{staticClass:"fa fa-plus text-white"}),e._v(" "),t("br"),e._v("Add Group ")]):e._e(),t("a",{staticClass:"p-action-btn text-white disabled",attrs:{href:"javascript:;",id:"aDeleteAll",title:"Delete"},on:{click:e.CommonDelete}},[t("em",{staticClass:"fa fa-trash"}),e._v(" "),t("br"),e._v("Delete ")])]),t("button",{staticClass:"close",on:{click:e.ClosePopupGroups}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"listing py-3 px-3"},[t("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[t("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(t){return e.onChange()}}})]),e._m(0),e._m(1),"Users"!=e.refCode?t("th",[t("span",[e._v("Shared Member")])]):e._e(),e._m(2)])]),t("tbody",[e._l(e.GroupListingData,(function(a){return t("tr",{key:a},[t("td",{staticClass:"text-center"},[t("input",{staticClass:"chkItems",attrs:{Id:a.Id,type:"checkbox"},domProps:{value:a.Id},on:{change:function(t){return e.onChange()}}})]),t("td",[t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.Name)+" ")])]),t("td",[t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.Permission)+" ")])]),"Users"!=e.refCode?t("td",[null!=a.SharedMembers?t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.SharedMembers)+" "),a.SharedMembers.length>2?t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.loadMore(a.Id)}}},[e._v("more..")]):e._e()]):e._e()]):e._e(),t("td",{staticClass:"single-action text-center"},["Users"!=e.refCode?t("a",{staticClass:"actions-onclick float-none",attrs:{typetitle:"Edit",typefor:"Edit",value:a.Id,title:"Edit"},on:{click:function(t){return e.EditGroupData(a.Id)}}},[t("em",{staticClass:"fa fa-pencil text-success action-icon"})]):e._e(),t("a",{staticClass:"actions-onclick float-none",attrs:{typetitle:"Delete",typefor:"Delete",value:a.Id,title:"Delete"},on:{click:function(t){return e.CommonDelete(a.Id)}}},[t("em",{staticClass:"fa fa-trash text-success action-icon"})])])])})),t("tr",[0==e.NoRecordLength?t("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[e._v("No Record Found")]):e._e()])],2)])])])])])])],1),e.ShowModalSharePopup?t("ModalShareDocument",{attrs:{docCode:e.docCode,folderId:e.folderId,GroupData:e.GroupData,StorageUniqueCode:e.StorageUniqueCode,idFile:e.FileId,generateJSONData:e.generateJSONData},on:{BindGroupsData:e.BindGroupsData,ClosePopup:e.ClosePopup}}):e._e(),e.showSharedUserList?t("SharedUserList",{attrs:{folderId:e.folderId,RecordId:e.RecordId,FileId:e.FileId,refCode:e.refCode}}):e._e()],1)},s=[function(){var e=this,t=e._self._c;return t("th",[t("span",[e._v("Name")])])},function(){var e=this,t=e._self._c;return t("th",[t("span",[e._v("Permissions")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[t("span",[e._v("Action")])])}],i=a("b48e"),r=a("9769"),l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-0"},[t("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[e._v(" Shared Members List ")]),t("div",[t("a",{staticClass:"p-action-btn text-white disabled",attrs:{href:"javascript:;",id:"iconDeleteAll",title:"Delete"},on:{click:e.UsersDelete}},[t("em",{staticClass:"fa fa-trash"}),e._v(" "),t("br"),e._v("Delete ")])]),t("button",{staticClass:"close",on:{click:e.ClosePopup}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"listing py-3 px-3"},[t("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblUserList"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[t("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(t){return e.onChange()}}})]),e._m(0),e._m(1)])]),t("tbody",[e._l(e.SharedData,(function(a){return t("tr",{key:a},[t("td",{staticClass:"text-center"},[t("input",{staticClass:"chkItems",attrs:{GroupId:a.UserId,type:"checkbox"},domProps:{value:a.UserId},on:{change:function(t){return e.onChange()}}})]),e.IsShowColumn?t("td",[t("span",{staticClass:"text-overflow-dynamic-container"},[e._v(" "+e._s(a.UserName)+" ")])]):e._e(),t("td",{staticClass:"single-action text-center"},[t("a",{staticClass:"actions-onclick float-none",attrs:{typetitle:"Delete",typefor:"Delete",value:a.UserId,title:"Delete"},on:{click:function(t){return e.UsersDelete(a.UserId)}}},[t("em",{staticClass:"fa fa-trash text-success action-icon"})])])])})),t("tr",[0==e.SharedData.length?t("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[e._v("No Record Found")]):e._e()])],2)])])])])])])],1)},n=[function(){var e=this,t=e._self._c;return t("th",[t("span",[e._v("Shared Member List")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[t("span",[e._v("Action")])])}],d={props:{RecordId:{type:String,required:!0},FileId:{type:String,required:!0},refCode:{type:String,required:!0}},components:{},data(){return{isLoading:!1,IsShowColumn:!0,SharedData:[],ListData:[]}},created:function(){this.BindSharedList()},methods:{ClosePopup:function(){this.$parent.ClosePopup(),this.$parent.FetchData()},BindSharedList:function(){var e=this;e.isLoading=!0;var t=`sourceId=${e.FileId}&parentId=${e.RecordId}&refCode=${e.refCode}`;r["a"].GetUserSharedListing(t).then((function(t){null!=t.data&&(e.ListData=JSON.parse(t.data),e.SharedData=e.ListData.DocParentUserListing),e.ListData=JSON.parse(t.data),e.SharedData=e.ListData.DocParentUserListing,e.isLoading=!1})),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500),e.isLoading=!1},onChange:function(){var e=$(".chkItems:checked").not("[id^='chkAll']").length;e>0?$("#iconDeleteAll").removeClass("disabled"):$("#iconDeleteAll").addClass("disabled")},UsersDelete:function(e){var t=this,a="";$("#tblUserList .chkItems:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()}));var o="";a.length>0||null!=e?t.confirmR(t.$t("ConfirmDeleteRecord"),!0,t.$t("Delete")+"  "+t.$t("Members"),(function(){t.isLoading=!0,e>0?o=e:o+=a+",";var s=`parentIds=${t.RecordId}&sharedUserIds=${o}&sourceId=${t.FileId}&refCode=Shared_Doc_Storage`;r["a"].DeleteParentsUsersSharedFilesFoldersBySource(s).then((function(e){"OK"==e.statusText?1==e.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),t.BindSharedList(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Users")]),"success",!0,t.$t("Alert"))):-1==e.data&&t.ShowAlert(t.$t("DeletedError",[t.$t("Users")]),"Failure",!0,t.$t("Alert")):t.ShowAlert(t.$t("DeletedError",[t.$t("Users")]),"Failure",!0,t.$t("Alert"))})),t.isLoading=!1})):t.ShowAlert(t.$t("Selectanyrecordtodelete")),t.isLoading=!1}}},c=d,p=a("2877"),h=Object(p["a"])(c,l,n,!1,null,null,null),u=h.exports,f={props:{ModalLabelForlsListing:{type:String,required:!0},refCode:{type:String,require:!0},FileId:{type:String,require:!0},docCode:{type:String,require:!0},StorageUniqueCode:{type:String,required:!0},folderId:{type:String,required:!0},generateJSONData:{type:Array,required:!0}},components:{ModalShareDocument:i["a"],SharedUserList:u},data(){return{isLoading:!1,loggeduserid:null,companyId:null,ShowGruopListing:!1,ShowModalAddGroup:!1,GroupListing:[],GroupListingData:[],GroupData:[],showSharedUserList:!1,ShowModalSharePopup:!1,GroupInfoData:[],NoRecordLength:null,UserListingShow:!1}},created:function(){this.loggeduserid=this.GetUserInfo.ID,this.companyId=this.GetUserInfo.CompanyId;var e=this;e.FetchData()},methods:{loadMore:function(e){var t=this;this.RecordId=e;t.refCode,t.FileId;this.showSharedUserList=!0},CommonDelete:function(e){var t=this,a="",o=this.folderId;$("#tblFileList .chkItems:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()}));var s="";a.length>0||null!=e?(t.isLoading=!0,t.confirmR(t.$t("ConfirmDeleteRecord"),!0,t.$t("Delete")+"  "+t.$t("Groups"),(function(){e>0?s=e:s+=a+",";var i="";i="Users"==t.refCode?`parentIds=&sharedUserIds=${s}&sourceId=${t.FileId}&refCode=Shared_Doc_Storage&parentFolderId=${o}`:`parentIds=${s}&sharedUserIds=&sourceId=${t.FileId}&refCode=Shared_Doc_Storage&parentFolderId=${o}`,r["a"].DeleteParentsUsersSharedFilesFoldersBySource(i).then((function(e){"OK"==e.statusText?1==e.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("SharedParent")]),"success",!0,t.$t("Alert")),t.FetchData()):-1==e.data&&(t.ShowAlert(t.$t("DeletedError",[t.$t("SharedParent")]),"Failure",!0,t.$t("Alert")),t.isLoading=!1):t.ShowAlert(t.$t("DeletedError",[t.$t("SharedParent")]),"Failure",!0,t.$t("Alert"))}))})),t.isLoading=!1):(t.ShowAlert(t.$t("Selectanyrecordtodelete")),t.isLoading=!1)},ClosePopupGroups:function(){this.$parent.CloseGroupListingPopup()},ClosePopup:function(){this.showSharedUserList=!1,this.ShowModalSharePopup=!1},EditGroupData:function(e){var t=this;t.AddEditText="Edit";var a=`parentid=${e}&CompanyId=${t.companyId}&refCode=${this.refCode}&sourceId=${this.FileId}`;r["a"].GetSharedDocStorageParentUserInfo(a).then((function(e){t.GroupInfoData=JSON.parse(e.data),t.GroupData=t.GroupInfoData.DocStorageSharedUserListing,t.ShowModalSharePopup=!0}))},onChange:function(){var e=$(".chkItems:checked").not("[id^='chkAll']").length;e>0?$("#aDeleteAll").removeClass("disabled"):$("#aDeleteAll").addClass("disabled")},FetchData:function(){var e=this;e.isLoading=!0,e.GroupListingData=[];var t=`CompanyId=${this.companyId}&UserId=${this.loggeduserid}&refCode=${this.refCode}&sourceId=${this.FileId}`;r["a"].GetUserGroupListing(t).then((function(t){e.GroupListingData=t.data.DocStorageSharedUserListing,null==e.GroupListingData&&(e.NoRecordLength=0),e.isLoading=!1})),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)},OpenAddGroupPopup:function(){this.ShowModalSharePopup=!0},ClosePopupShared:function(){var e=this;e.ShowModalSharePopup=!1}}},g=f,m=Object(p["a"])(g,o,s,!1,null,null,null);t["a"]=m.exports},"4f4b":function(e,t,a){"use strict";var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"activity-tab"},[t("div",{staticClass:"w-100",attrs:{id:"accordion"}},[e._l(e.fileTimelineData,(function(a,o){return t("div",{staticClass:"card"},[t("div",{staticClass:"card-header",on:{click:function(t){return e.ShowAccordion(o)}}},[t("a",{class:{"card-link":e.ShowHide=="collapseOne"+o,"card-link collapsed":e.ShowHide!="collapseOne"+o},attrs:{"data-bs-toggle":"collapse",href:"#collapseOne"+o}},[t("div",{staticClass:"conversation-date heading-border"},[t("span",[t("em",{staticClass:"fa fa-angle-down rotate-icon pr-1",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(a.MothKey))])])])]),e.ShowHide=="collapseOne"+o?t("transition",{attrs:{name:"modal"}},[t("div",{attrs:{id:"collapseOne"+o}},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"row",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[e._l(a.FileSummary,(function(a){return[t("div",{staticClass:"col-md-12 mbspc"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-xl-5 col-lg-5 col-md-12 col-sm-12 message-ellapse",attrs:{title:a.ActionKey}},[t("span",{staticClass:"iconplus"},[t("em",{staticClass:"fa fa-check-circle"})]),t("span",{staticClass:"circle-oicon"},[t("em",{staticClass:"fa fa-users"})]),e._v(" "+e._s(a.ActionKey)+" ")]),t("div",{staticClass:"col-xl-4 col-lg-4 col-md-12 col-sm-12"},[t("div",{staticClass:"cont_start"},[t("span",{staticClass:"blue-time"},[e._v(e._s(a.ActionBy))])])]),t("div",{staticClass:"col-xl-3 col-lg-3 col-md-12 col-sm-12 text-right"},[t("p",[e._v(e._s(a.CreatedTime))])])])])]}))],2)])])]):e._e()],1)})),0==e.fileTimelineData.length?t("div",{staticClass:"text-center text-danger p-2"},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()],2)])},s=[],i={props:{fileTimelineData:{type:Array,required:!0}},data:function(){return{TimeLineData:[],NoRecordForTab:!0,fgh:"",ShowHide:null}},created:function(){var e=this;e.gettime()},watch:{fileTimelineData:{handler(e){this.TimeLineData=e,this.NoRecordForTab=!(null!=this.TimeLineData&&this.TimeLineData.length>0)},deep:!0}},methods:{gettime:function(){this.fileTimelineData.forEach((e,t)=>{this.fgh=e.ActionDate})},ShowAccordion:function(e){var t=this;t.ShowHide!="collapseOne"+e||null==t.ShowHide?t.ShowHide="collapseOne"+e:t.ShowHide=""}}},r=i,l=a("2877"),n=Object(l["a"])(r,o,s,!1,null,null,null);t["a"]=n.exports},"656d":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e._self._c;return t("div",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{attrs:{id:"divMainFormData"}},[t("LeftMenu",{attrs:{userid:e.loggeduserid,SharedFolder:e.SharedFolderParent,sharedChildFolder:e.sharedChildFolder,RecentPinnedFolderArray:e.RecentFolderArray,organizationSpace:e.organizationSpace,pinnedFolderArray:e.pinnedFolderArray,UserList:e.SharedUserList,FolderArray:e.FindalFolderArray},on:{FilesListing:e.FilesListing}})],1),t("section",{staticClass:"main-content",attrs:{id:"main-content"}},[t("section",{staticClass:"main-content"},[t("div",{staticClass:"right-content hr_jobpost"},[t("div",{staticClass:"col-md-12 p-0 mb-2"},[t("div",{staticClass:"theme-primary partition p-actions-expand"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.FolderName))]),t("span",{staticClass:"p-actions float-right"},[t("RouterLink",{staticClass:"p-action-btn text-white float-right",attrs:{to:"/File/Dashboard",title:"",id:"backtolist","data-original-title":e.$t("BacktoList")}},[t("em",{staticClass:"fa fa-angle-double-left pr-2"}),t("br"),e._v(e._s(e.$t("BacktoList"))+" ")]),t("a",{staticClass:"p-action-btn text-white float-right",class:"r"==e.permission?"disabled":"",on:{click:function(t){return e.DownloadDocFolder(e.FolderName)}}},[t("i",{staticClass:"fa fa-download"}),t("br"),e._v(e._s(e.$t("Download")))]),t("a",{staticClass:"p-action-btn text-white float-right",class:"r"==e.permission?"disabled":"",on:{click:e.CommonDelete}},[t("i",{staticClass:"fa fa-trash"}),t("br"),e._v(e._s(e.$t("Delete")))]),t("a",{staticClass:"p-action-btn text-white float-right",class:"r"==e.permission?"disabled":"",on:{click:e.SharePopup}},[t("em",{staticClass:"fa fa-share-alt"}),t("br"),e._v(e._s(e.$t("Share")))]),t("a",{staticClass:"p-action-btn text-white float-right",class:"r"==e.permission||1==e.isGenerateLink?"disabled":"",on:{click:e.GeneratePublickLink}},[t("i",{staticClass:"fa fa-link",class:"r"==e.permission?"disabled":""}),t("br"),e._v(e._s(e.$t("Generatepubliclink")))]),t("a",{staticClass:"p-action-btn text-white float-right",class:"r"==e.permission?"disabled":"",on:{click:function(t){return e.CopyFileFolder(e.FolderData.FileId)}}},[t("em",{staticClass:"fa fa-files-o",attrs:{"aria-hidden":"true"}}),t("br"),e._v(e._s(e.$t("Copy")))]),t("a",{staticClass:"p-action-btn text-white float-right",class:"r"==e.permission?"disabled":"",attrs:{id:e.FileId},on:{click:e.MoveFolderFiles}},[t("em",{staticClass:"fa fa-arrows"}),t("br"),e._v(e._s(e.$t("Move")))])],1),e._m(0)])]),t("div",{staticClass:"tab-pane mb-0"},[t("div",{staticClass:"tab-content fsmtabcontrolMobileView",attrs:{id:"myTabContent"}},[e._m(1),t("div",{staticClass:"tab-pane p-0 pb-2 border-0 active",attrs:{role:"tabpanel",id:"tab-detail-content","aria-labelledby":"tab-detail-content"}},[t("div",{staticClass:"listing"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"card mb-3 probx"},[t("div",{staticClass:"card-header"},[t("h2",[e._v(e._s(e.$t("Details")))]),e._m(2)]),e._l(e.FolderData,(function(a){return t("div",{staticClass:"card-body"},[t("div",{staticClass:"panel1 row"},[t("div",{staticClass:"col-12 p-0"},[e._m(3,!0),t("div",{staticClass:"row col-sm-12 col-md-6 col-lg-10 col-xl-10"},[t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("FolderName"))+": ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(a.storage_folder_name))])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("LastModifiedBy"))+": ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(a.modified_by))])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("FolderSize"))+": ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(e.convertmbtoKb(a.storage_folder_size)))])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("CreatedOn"))+": ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(e.$options.filters.formatDate(a.created_at)))])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group",attrs:{"data-v-f8df6780":""}},[t("label",{attrs:{"data-v-f8df6780":""}},[t("b",{attrs:{"data-v-f8df6780":""}},[e._v(e._s(e.$t("SharedWith"))+": ")]),t("a",{staticClass:"mr-3 ml-2",attrs:{href:"#","data-toggle-tooltip":"tooltip","data-original-title":"Associate Contact"},on:{click:function(t){return e.showSharedDetilsModel(a.storage_folder_id,a.StorageUniqueCode)}}},[e._m(4,!0)]),t("a",{staticClass:"mr-3",attrs:{href:"#",title:"Users","data-toggle-tooltip":"tooltip","data-placement":"bottom"},on:{click:function(t){return e.ShowUsersListing(a.storage_folder_id,a.StorageUniqueCode)}}},[e._m(5,!0)]),t("a",{staticClass:"mr-3",attrs:{href:"#",title:"Group","data-toggle-tooltip":"tooltip","data-placement":"bottom"},on:{click:function(t){return e.OpenGroupListing(a.storage_folder_id,a.StorageUniqueCode)}}},[e._m(6,!0)]),t("a",{staticClass:"mr-3",attrs:{href:"#",title:"Department","data-toggle-tooltip":"tooltip","data-placement":"bottom"},on:{click:function(t){return e.ShowDepartmentListing(a.storage_folder_id,a.StorageUniqueCode)}}},[e._m(7,!0)])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("CreatedBy"))+": ")]),t("span",{staticClass:"answer rightlabeltext"},[e._v(e._s(a.created_by))])])])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-4"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v("Copy Link: ")]),t("span",{staticClass:"answer rightlabeltext"},[1==a.IsGenerateLink?t("a",{staticStyle:{color:"#55a9e1"},attrs:{href:"#"},on:{click:function(t){return e.CopyLink(a.GeneratedLink)}}},[e._v(e._s(e.$t("ClicktoCopy"))),t("em",{staticClass:"fa fa-clone",staticStyle:{color:"#0095ff"}})]):e._e()]),t("span",{staticClass:"answer rightlabeltext disabled"},[0==a.IsGenerateLink||null==a.IsGenerateLink?t("a",{staticClass:"text-danger",staticStyle:{color:"#55a9e1"},attrs:{href:"#"}},[e._v(e._s(e.$t("NotAvailabe"))+" ")]):e._e()])]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.tool,expression:"tool"}],staticClass:"tooltiptext"},[e._v(e._s(e.text))])])])])])])])}))],2)])])])])])])])])]),1==e.sharemodal?t("ModalSharePopup",{attrs:{idFile:e.idFile,folderId:e.folderId,docCode:e.docCode,StorageUniqueCode:e.StorageUniqueCode,generateJSONData:e.generateJSONData,Name:e.Name},on:{closePopupGroupListing:e.closePopupGroupListing}}):e._e(),1==e.showmovefolderpopup?t("ModalMoveFolderFiles",{attrs:{FolderArray:e.FindalFolderArray,checkActionType:e.checkActionType},on:{MoveFoldersFiles:e.MoveFoldersFiles,CloneFoldersFiles:e.CloneFoldersFiles,closemovefilefolderpopup:e.closemovefilefolderpopup,CopyFileFolder:e.CopyFileFolder,FolderIdmove:e.FolderIdmove}}):e._e(),e.ShowModalAddGroup?t("ModalAddGroup",{on:{ModalAddGroups:e.ModalAddGroups,CloseAddGroupPopup:e.CloseAddGroupPopup}}):e._e(),e.ShowGruopListing?t("ModelGroupListing",{attrs:{docCode:e.docCode,folderId:e.folderId,StorageUniqueCode:e.StorageUniqueCode,ModalLabelForlsListing:e.ModalLabelForlsListing,FileId:e.FileId,refCode:e.refCode},on:{ModalGroupListing:e.ModalGroupListing,FetchEditGroups:e.FetchEditGroups,CloseAddGroupPopup:e.CloseAddGroupPopup,CloseGroupListingPopup:e.CloseGroupListingPopup}}):e._e(),e.copyFileInfo?t("CopyConfirmation",{attrs:{copyFileInfo:e.copyFileInfo},on:{SaveCopyFile:e.SaveCopyFile}}):e._e()],1)},s=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"collapse-head-btns"},[t("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"expand-list"},[t("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[t("em",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"cont_right"},[t("div",{staticClass:"bar"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-sm-12 col-md-6 col-lg-2 col-xl-2 default-tag-vissible"},[t("div",{staticClass:"box border positionrelative float-left w-100"},[t("div",{staticClass:"img-ico text-center p-2"},[t("em",{staticClass:"fa fa-folder pr-2 font-128 text-primary"})])])])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"icon-1 single-action"},[t("em",{staticClass:"fa fa-folder-open text-info",attrs:{"data-original-title":"xdfgs"}})])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"icon-1 single-action"},[t("em",{staticClass:"fa fa-user text-info"})])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"icon-1 single-action"},[t("em",{staticClass:"fa fa-users text-info"})])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"icon-1 single-action"},[t("em",{staticClass:"fa fa-vcard-o text-info"})])}],i=(a("5494"),a("b7ef"),a("14d9"),a("110b")),r=a("9769"),l=a("4f4b"),n=a("c00f"),d=a("b48e"),c=a("53c8"),p=a("0c7f"),h=a("825ae"),u=a("53ec");const f=Object({NODE_ENV:"production",VUE_APP_Announcement:"https://app.talygen.com/announcementmessage/Index?search=&sortBy=&sortExp=&pageSize=&pageNum=javascript:;&isPartial=1",VUE_APP_Clients:"https://app.talygen.com/Configuration/Index?code=config-Client",VUE_APP_COMMON_API:"https://apponeapi.talygen.com/api",VUE_APP_CompanyNotifications:"https://app.talygen.com/notification/companyindex?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_COMPANY_DIRECTORY:"https://app.talygen.com/User/DirectoryListing?reqhFrom=0",VUE_APP_ContextMenu:"https://app.talygen.com/CompanyAdmin/ViewContextMenu?reqhFrom=0",VUE_APP_CURRENT_SITE_ROOT_URL:"https://appone.talygen.com",VUE_APP_DEFAULT_APP_URL:"http://app.talygen.com",VUE_APP_Department:"https://app.talygen.com/department/Index?search=&sortBy=&sortExp=&pageSize=&pageNum=javascript:;&isPartial=1",VUE_APP_Designation:"https://app.talygen.com/designation/Index?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_DOCSTORAGE_API:"https://appfilemedia.talygen.com/api",VUE_APP_FULL_MENU_APP_REDIRECTION:"false",VUE_APP_General:"https://app.talygen.com/Configuration/index?reqhFrom=0&tab=general",VUE_APP_Greeting:"https://app.talygen.com/greeting/Index?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_LoginAuthorization:"https://app.talygen.com/loginauthorization/Index?search=&sortBy=&sortExp=&pageSize=&pageNum=javascript:;&isPartial=1",VUE_APP_ManageClientStorage:"https://app.talygen.com/UserStorage/ManageClient?reqhFrom=13",VUE_APP_ManageSubscription:"https://app.talygen.com/HR/CompanyHolidayList?reqhFrom=0",VUE_APP_ManageTags:"https://app.talygen.com/Tag/Index?reqhFrom=10",VUE_APP_ManageUserStorage:"https://app.talygen.com/UserStorage/Manage?reqhFrom=13",VUE_APP_OrganizationChart:"https://app.talygen.com/OrganizationChart/OrgChart?reqhFrom=10",VUE_APP_Passportinformation:"https://app.talygen.com/Immigration/Index?reqhFrom=10",VUE_APP_PasswordPolicy:"https://app.talygen.com/company/add?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_ProvisionalRights:"https://app.talygen.com/ProvisionalRight/Index?reqhFrom=10",VUE_APP_Roles:"https://app.talygen.com/Roles/Index?reqhFrom=0",VUE_APP_Shift:"https://app.talygen.com/shift/Index?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_Status:"https://app.talygen.com/status/Index?search=&sortBy=&sortExp=&pageSize=20&pageNum=javascript:;&isPartial=1",VUE_APP_Storage:"https://app.talygen.com/Configuration/Index?code=config-Storage",VUE_APP_Users:"https://app.talygen.com/User/Index?reqhFrom=0",BASE_URL:"/"}).VITE_DOCSTORAGE_API;var g={components:{LeftMenu:i["a"],doctimeline:l["a"],VueEasyLightbox:h["a"],ModalMoveFolderFiles:n["a"],ModalSharePopup:d["a"],docstorage:f,ModalAddGroup:c["a"],ModelGroupListing:p["a"],CopyConfirmation:u["a"]},data(){return{isLoading:!1,loggeduserid:null,SharedFolderParent:[],FindalFolderArray:[],folderTreeList:[],sharedFolder:[],abc:[],FolderData:[],SharedType:"",images:"",CreatedOn:"",ishow:!1,isShared:"",FolderName:"",visibleRef:!1,ShowGruopListing:!1,showmovefolderpopup:!1,folderFileId:null,ModalLabelForlsListing:"",refCode:"",FileId:"",docCode:null,fileTimelineData:[],sharemodal:!1,ShowModalAddGroup:!1,url:"",fileType:"",showFilesOldVersion:!1,filesOldVersionListing:[],files:"",folderId:"",StorageUniqueCode:"",recentFolderList:[],pinnedFolderList:[],RecentFolderArray:[],pinnedFolderArray:[],organizationSpace:[],tool:!1,text:"Copied!",permission:null,checkActionType:"",isGenerateLink:null,GroupListingData:[],generateJSONData:[],isGenerateLink:null,sharedparentfolder:[],sharedChildFolder:[],folderUniqueCode:null,copyFileInfo:null}},created:function(){var e=window.location.pathname;this.loggeduserid=this.GetUserInfo.ID,this.FileId=e.split("/")[2],this.permission=this.$route.params.Permission,this.GetFullTree(),e.split("/")[2]&&this.GetStorageFolderDetail(e.split("/")[2]),this.folderId=e.split("/")[2],this.GetSharedFolder()},methods:{convertmbtoKb:function(e){var t=0;return t=0==e?"0 Bytes":e<1?e.toFixed(2)+" KB":e.toFixed(2)+" MB",t},showSharedDetilsModel(e,t){var a=this;a.isLoading=!0,a.ModalLabelForlsListing=a.$t("ProjectListing"),a.refCode="Project",a.FileId=e,a.StorageUniqueCode=t,a.ShowGruopListing=!0,a.isShow=!1,a.isLoading=!1},ShowUsersListing:function(e,t){var a=this;a.ModalLabelForlsListing=a.$t("UserListing"),a.refCode="Users",a.FileId=e,a.StorageUniqueCode=t,a.ShowGruopListing=!0},ShowDepartmentListing:function(e,t){var a=this;a.ModalLabelForlsListing=a.$t("DepartmentListing"),a.refCode="Department",this.FileId=e,a.StorageUniqueCode=t,a.ShowGruopListing=!0},OpenGroupListing:function(e,t){var a=this;a.ModalLabelForlsListing=a.$t("GroupListing"),a.refCode="UserGroups",a.FileId=e,a.StorageUniqueCode=t,a.ShowGruopListing=!0},CloseGroupListingPopup:function(){this.ShowGruopListing=!1},SharePopup:function(){var e=this;e.sharemodal=!0,e.idFile=e.FolderData[0].storage_folder_id,e.docCode=0,e.StorageUniqueCode=e.FolderData[0].storage_unique_code},DownloadDocFolder:function(e){var t=this,a=t.folderId;r["a"].DownloadDocFolder(a).then((function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download",e.toString()+".zip"),document.body.appendChild(o),o.click()}))},DeleteTempDownloadDocFolder:function(e){r["a"].DeleteTempDownloadDocFolder(e).then((function(e){}))},closemovefilefolderpopup:function(){var e=this;e.showmovefolderpopup=!1},closePopupGroupListing:function(){this.sharemodal=!1},closepopup:function(){this.sharemodal=!1},ModalAddGroup:function(){this.ShowModalAddGroup=!0},CloseAddGroupPopup:function(){this.ShowModalAddGroup=!1},FolderIdmove:function(e,t){var a=this;a.folderId=e},CopyFileFolder:function(e,t){var a=this;a.confirmR(a.$t("Are you sure you want to Copy these file(s)."),!0,a.$t("Copy")+"  "+a.$t("Folder"),(function(){a.checkActionType="Copy",a.showmovefolderpopup=!0,a.folderFileId=e,a.doccode=0}))},MoveFoldersFiles:function(){var e=this;let t={SourceId:e.FileId,RefCode:0};var a=JSON.stringify(t),o=`jsonData=${a}&destFolderid=${e.folderId}`;r["a"].MoveFileFolder(o).then(t=>{1==t.data?(e.ShowAlert(e.$t("MoveFolderFileSucces"),"success",!0,e.$t("Alert")),e.StorageDocumentListing(),e.closepopupFolder()):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))})},CloneFoldersFiles:function(){var e=this,t=`fileIds=${e.FileId}&destFolderId=${e.folderId}&opr=Copy`;r["a"].StartCopyMoveOpr(t).then(t=>{console.log(t),e.copyFileInfo=t.data.fileList})},SaveCopyFile(e){var t=this,a=JSON.stringify(e);r["a"].CloneFilesInFolder(a).then((function(e){console.log(e),t.copyFileInfo=null,setTimeout(()=>{t.copyFileInfo=e.data},100)}))},MoveFolderFiles:function(){this.showmovefolderpopup=!0,this.checkActionType="Move"},GetStorageFolderDetail(e){var t={folderId:e};r["a"].GetStorageFolderDetail(t).then(e=>{var t=JSON.parse(e.data);this.isGenerateLink=JSON.parse(e.data).FolderJsonData[0].IsGenerateLink,this.folderUniqueCode=JSON.parse(e.data).FolderJsonData[0].storage_unique_code,this.FolderData=t.FolderJsonData,this.CreatedOn=this.FolderData[0].created_at,this.FolderName=this.FolderData[0].storage_folder_name})},showTool(){this.tool=!0,setTimeout(()=>this.tool=!1,1e3)},CopyLink(e){var t=this,a=window.location.pathname.split("/")[2],o=btoa(a),s="FolderId="+o+"&UniqueCode="+t.folderUniqueCode+"&FolderName="+this.FolderName,i=window.location.origin+"/DownloadPublicFolder?"+s;t.UniqueUrl=f+e,navigator.clipboard.writeText(i),t.showTool()},GeneratePublickLink:function(){var e=this;e.isLoading=!0;let t={SourceId:e.folderId,RefCode:0};e.generateJSONData.push(t);var a="docJsonData="+JSON.stringify(e.generateJSONData);r["a"].GenerateDocPublicLink(a).then(t=>{if(1==t.data.code)return e.StorageUniqueCode=t.data.docUniqueCode,e.ShowAlert("Generate link has been successfully generated"),e.GetStorageFolderDetail(e.folderId),e.isLoading=!1,e.StorageUniqueCode})},GetRecentlyAddPinnedFolder:function(){var e=this;r["a"].GetRecentlyAndPinnedFolderTreeData().then(t=>{e.recentFolderList=JSON.parse(t.data).RecentFolderList,e.pinnedFolderList=JSON.parse(t.data).PinnedFolderList,e.recentFolderList.forEach((t,a)=>{if(t.OWNER_USER_ID==e.loggeduserid){var o=e.RecentFolderArray.filter((function(e){return e.FOLDER_ID==t.FOLDER_ID}));if(0==o.length&&null==t.FOLDER_PARENT_ID){let a=t.FOLDER_ID,o=e.getsharedChildFolder(a,t,e.folderTreeList);e.RecentFolderArray.push(o)}}}),e.pinnedFolderList.forEach((t,a)=>{if(t.OWNER_USER_ID==e.loggeduserid){var o=e.pinnedFolderArray.filter((function(e){return e.FOLDER_ID==t.FOLDER_ID}));if(0==o.length&&null==t.FOLDER_PARENT_ID){let a=t.FOLDER_ID,o=e.getsharedChildFolder(a,t,e.folderTreeList);e.pinnedFolderArray.push(o)}}})})},GetOrganizationSpace:function(){var e=this;r["a"].GetOrganizationFolderTreeData().then(t=>{t.data.folderTreeList.forEach((t,a)=>{var o=e.organizationSpace.filter((function(e){return e.FOLDER_ID==t.FOLDER_ID}));if(0==o.length&&null==t.FOLDER_PARENT_ID){let a=t.FOLDER_ID,o=e.getsharedChildFolder(a,t,e.folderTreeList);e.organizationSpace.push(o)}})})},getsharedChildFolder:function(e,t,a){let o=this,s=t;var i=a.filter((function(t){return t.FOLDER_PARENT_ID==e}));let r=[];return i.forEach((e,t)=>{let s=e.FOLDER_ID;var i=r.filter((function(t){return t.FOLDER_ID==e.FOLDER_PARENT_ID}));if(0==i.length){var l=a.filter((function(e){return e.FOLDER_PARENT_ID==s}));if(null!=l&&l.length>0){let t=o.getsharedChildFolder(s,e,a);r.push(t)}else r.push(e)}}),s.chidFolder=r,s},FilesListing(e){var t=this;t.folderId=e,r["a"].FileList(e).then(e=>{t.FilesListingData=e.data.FileList,t.folderSummary=e.data.folderSummary,t.SharedWith=e.data.folderSummary,setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),setTimeout((function(){t.CheckBoxBootstrap()}),100)})},GetSharedFolder:function(){var e=this;r["a"].GetSharedFolderTree().then(t=>{e.sharedparentfolder=t.data.SharedFolderData,e.sharedparentfolder.forEach((t,a)=>{if(t.SHARED_USER_ID==e.loggeduserid){var o=e.sharedChildFolder.filter((function(e){return e.FOLDER_ID==t.FOLDER_ID}));if(0==o.length&&null==t.FOLDER_PARENT_ID){let a=t.FOLDER_ID,o=e.getsharedChildFolder(a,t,e.folderTreeList);e.sharedChildFolder.push(o)}}})})},getChildFolder:function(e,t,a){let o=this,s=t;var i=a.filter((function(t){return t.FOLDER_PARENT_ID==e}));let r=[];return i.forEach((e,t)=>{let s=e.FOLDER_ID;var i=r.filter((function(t){return t.FOLDER_ID==e.FOLDER_ID}));if(0==i.length){var l=a.filter((function(e){return e.FOLDER_PARENT_ID==s}));if(null!=l&&l.length>0){let t=o.getChildFolder(s,e,a);r.push(t)}else r.push(e)}}),s.chidFolder=r,s},GetFullTree(){var e=this;r["a"].FolderFullTreeView().then(t=>{t.data.folderTreeList.forEach((a,o)=>{if(a.OWNER_USER_ID==this.loggeduserid&&0==a.IsGlobal){var s=e.FindalFolderArray.filter((function(e){return e.FOLDER_ID==a.FOLDER_ID}));if(0==s.length&&null==a.FOLDER_PARENT_ID){let o=a.FOLDER_ID,s=e.getChildFolder(o,a,t.data.folderTreeList);e.FindalFolderArray.push(s),e.GetRecentlyAddPinnedFolder(),e.GetOrganizationSpace()}}}),e.folderTreeList=t.data.folderTreeList,e.SharedUserList=t.data.userList,e.sharedFolder=t.data.sharedTreeList,e.folderTreeList.forEach((t,a)=>{e.sharedFolder.forEach((a,o)=>{a.ParentId!=t.FOLDER_ID&&t.SHARED_USER_ID==this.loggeduserid&&(e.abc.push(t),e.SharedFolderParent=[...new Set(e.abc)])})})})},closepopupFolder:function(){this.showmovefolderpopup=!1},CommonDelete:function(e,t){var a=this;a.confirmR(a.$t("ConfirmDeleteRecord"),!0,a.$t("Delete")+"  "+a.$t("Groups"),(function(){let e={};e["ids"]=a.folderId,e["refCode"]="Doc_Folder",e["companyId"]=a.loggedcompanyid,e["userId"]=a.loggeduserid,e["moduleName"]="DocStorage",r["a"].CommonDelete(e).then((function(e){a.isLoading=!0;"Success"==e.data[0].Status?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),a.$emit("StorageDocumentListing"),a.ShowAlert([a.$t("Folder")],"success",!0,a.$t("Alert")),a.$router.push({name:"DashBoard"})):a.ShowAlert(a.$t("DeletedError",[a.$t("Folder")]),"success",!0,a.$t("Alert"))}))}))},FetchData:function(){var e=this;e.GroupListingData=[];var t=`CompanyId=${this.companyId}&UserId=${this.loggeduserid}&refCode='Users'&sourceId=${e.FileId}`;r["a"].GetUserGroupListing(t).then((function(t){e.GroupListingData=t.data.DocStorageSharedUserListing,null==e.GroupListingData&&(e.NoRecordLength=0)})),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}}},m=g,C=a("2877"),_=Object(C["a"])(m,o,s,!1,null,null,null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-06963861.js.map