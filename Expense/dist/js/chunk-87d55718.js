(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87d55718"],{"06d8":function(t,e,a){"use strict";var s=a("1014"),i=a.n(s);i.a},1014:function(t,e,a){var s=a("c455");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("007bc5dd",s,!0,{sourceMap:!1,shadowMode:!1})},"1c49":function(t,e,a){"use strict";var s=a("25a1"),i=a.n(s);i.a},"254a":function(t,e,a){var s=a("f139");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("76240574",s,!0,{sourceMap:!1,shadowMode:!1})},"25a1":function(t,e,a){var s=a("a03f");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("f91ec884",s,!0,{sourceMap:!1,shadowMode:!1})},"2f1d":function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".raph-widget-content .custom-chart-div{justify-content:flex-end}#chartInTransitAssetList,.chartInTransitAssetListLegend{float:left}.legend span{margin-left:7px;margin-right:7px;padding:5px;margin-top:5px}.chartInTransitAssetListLegend .legned div{width:100%}.chartInTransitAssetListLegend .legend{max-height:328px;overflow-y:auto}.legend span{display:inline-block;margin-left:7px!important;margin-right:0!important;padding:5px!important;margin-top:7px!important;float:left!important;width:10px!important}.legend span.namespan{width:66%!important;float:right!important;text-align:left;margin:0!important;padding:0!important;margin-right:15px!important}",""]),t.exports=e},"536a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("section",{staticClass:"page-action"},[a("div",{staticClass:"row"},[a("input",{attrs:{type:"hidden",id:"hdnModuleName"},domProps:{value:t.titleName}}),a("div",{staticClass:"col-md-12 padding-t_8"},[a("div",{staticClass:"theme-primary partition partition-full p-actions-expand before-d-none overflow-visible"},[a("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("ExpenseDashboard")))]),a("span",{staticClass:"p-actions  float-right"},[a("a",{staticClass:"p-action-btn text-white link",attrs:{href:"javascript:;"},on:{click:function(e){return t.MyViews()}}},[a("em",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),a("br"),t._v(t._s(t.$t("MyView")))]),a("a",{staticClass:"p-action-btn text-white",attrs:{href:"javascript:;",id:"teamview"},on:{click:function(e){return t.TeamView()}}},[a("em",{staticClass:"fa fa-users",attrs:{"aria-hidden":"true"}}),a("br"),t._v(t._s(t.$t("TeamView")))]),a("a",{staticClass:"p-action-btn text-white d-none",attrs:{id:"ancChangeView","data-isshow":"0"}},[a("em",{staticClass:"fa fa-pencil",attrs:{"aria-hidden":"true"}}),a("br"),t._v(t._s(t.$t("ChangeView")))]),a("div",{staticClass:"dropdown p-action-btn text-white",attrs:{id:"ddlChangeView"}},[a("a",{staticClass:"text-white dropdown-toggle d-inline-block",attrs:{id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("em",{staticClass:"fa fa-eye",attrs:{"aria-hidden":"true"}}),a("br"),a("span",{staticClass:"spnChangeView"},[t._v(t._s(t.$t("SelectView")))])]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[a("a",{staticClass:"dropdown-item",attrs:{"data-value":"B",href:"javascript:;"},on:{click:function(e){return t.ddlChangeView("B")}}},[t._v(t._s(t.$t("ALL")))]),a("a",{staticClass:"dropdown-item",attrs:{"data-value":"R",href:"javascript:;"},on:{click:function(e){return t.ddlChangeView("R")}}},[t._v(t._s(t.$t("Reports")))]),a("a",{staticClass:"dropdown-item",attrs:{"data-value":"T",href:"javascript:;"},on:{click:function(e){return t.ddlChangeView("T")}}},[t._v(t._s(t.$t("ToDoList")))])])])]),t._m(0)])])])]),a("section",{staticClass:"main-content nd-combo-view"},[a("div",{staticClass:"padding-t_10",attrs:{id:"parentPageDiv"}},[a("div",{staticClass:"col-md-12 p-0"},[a("CountList",{ref:"countList",attrs:{moduleName:t.moduleName}}),a("div",{staticClass:"col-lg-12 p-0",attrs:{id:"divToDoListSort"}},[a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-md-5",attrs:{id:"divToDoList"}},[t._m(1),a("div",{attrs:{id:"toDoListing"}},[t.encCompanyId?a("ToDoList",{ref:"todolist",attrs:{moduleName:t.moduleName,encCompanyId:t.encCompanyId,encUserId:t.encUserId,encTrackId:t.encTrackId},on:{"fetch-count-list":t.FetchCountListData}}):t._e()],1)]),a("div",{staticClass:"col-md-7 mt-4 mt-lg-0",attrs:{id:"divReportsdata"}},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("ExpenseReports")))])])]),a("div",{staticClass:"nd-repoort-filter"},[a("span",{staticClass:"p-actions float-right"},[a("DateRange",{attrs:{pgaction:"global"},on:{"set-date":t.SetDateRange}})],1)]),a("div",{staticClass:"dashbord-graph-widget row bg-lgray border m-0 py-3 with-combo scrollbarmini",attrs:{id:"Reports"}},[t.widgets.length>0?a("WidgetReport",{ref:"widget",attrs:{widgets:t.widgets,moduleName:t.moduleName,viewType:t.viewType,fromDate:t.fromDate,toDate:t.toDate},on:{"reload-report":t.GetReports}}):t._e()],1)]),a("div",{staticClass:"col-md-12 mt-3",attrs:{id:"divAddMoreReports"}},[a("div",{staticClass:"text-right mt-1"},[a("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;"},on:{click:t.OnAddMore}},[a("i",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("AddMore")))])])])])])],1)])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"collapse-head-btns"},[a("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-angle-up text-white"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"heading-border",staticStyle:{"z-index":"9"}},[a("h5",{staticClass:"h5"},[a("span",[t._v("Expense To DoList")])])])}],n=a("9769"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100"},[a("div",{staticClass:"w-100 float-left",attrs:{id:"divshowTicketList"}},[a("div",{attrs:{id:"divReports"}},[1==t.showReports?a("reports",{attrs:{moduleName:t.moduleName},on:{CloseReport:t.OnCloseReport}}):t._e()],1)]),a("div",{staticClass:"tab-pane fade show active border-0 p-0",attrs:{id:"dashboard",role:"tabpanel","aria-labelledby":"dashboard-tab"}},[a("div",{staticClass:"dashbord-graph-widget row ml-0 mr-0 padding-t_10 usercustomwidth",attrs:{id:"divInboxSibling"}},t._l(t.widgets,(function(e){return e.isselected?a("div",{key:e,class:{"graph-widget align-self-stretch ticketingDashboardHead reportcontainer mb-2":!0,"col-md-6":"R"==t.viewType},attrs:{"data-id":e.reporT_ID,daction:e.action,dctrl:e.controller}},[a("div",{staticClass:"dashboard-boxes graph-widget-box bg-white"},[a("div",{staticClass:"graph-widget-heading float-left w-100"},[a("span",{staticClass:"text-truncate float-left w-75"},[t._v(t._s(t.$t(e.reporT_HEADING)))]),a("div",{staticClass:"mw-50 float-right"},[a("a",{staticClass:"hlkDeleteReport float-right",attrs:{reportid:e.reporT_ID,href:"javascript:;",title:"Remove"},on:{click:function(a){return t.onRemoveReport(a,e.reporT_ID)}}},[t._m(0,!0)]),a("a",{staticClass:"zoomin rptexpand ancdashboard float-right",attrs:{href:"javascript:;",id:e.reporT_ID,title:"Zoom Out"},on:{click:function(a){return t.zoominOut(e.reporT_ID)}}},[t._m(1,!0)])])]),a("div",{class:{"raph-widget-content bg-white float-left w-100":!0,"d-flex  align-content-center justify-content-center":"pie"==e.charT_TYPE||"donut"==e.charT_TYPE||"bar"==e.charT_TYPE},attrs:{action:e.action,controller:e.controller}},["widget"==e.widgeT_TYPE&&"pie"==e.charT_TYPE?a("PieChart",{attrs:{moduleName:t.moduleName,widgetInfo:e,fromDate:t.fromDate,toDate:t.toDate}}):a("Expense",{attrs:{moduleName:t.moduleName,widgetInfo:e,fromDate:t.fromDate,toDate:t.toDate}})],1)])]):t._e()})),0)])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon_close"},[a("i",{staticClass:"fa fa-times"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon_expand"},[a("i",{staticClass:"fa fa-expand"})])}],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{attrs:{id:"ExpenseDetail"}},[a("div",{staticClass:"cont_99P marginbottom5 form-group pt-3 px-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.detailsbyday,expression:"detailsbyday"}],staticClass:"form-control width_48 col-md-6 px-1 float-left mb-2",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.detailsbyday=e.target.multiple?a:a[0]},function(e){return t.GetTotalExpense(t.detailsbyday,t.detailsbyStatusExpense)}]}},[a("option",{attrs:{value:"today"}},[t._v(t._s(t.$t("Today")))]),a("option",{attrs:{value:"yesterday"}},[t._v(t._s(t.$t("Yesterday")))]),a("option",{attrs:{value:"thisweek"}},[t._v(t._s(t.$t("ThisWeek")))]),a("option",{attrs:{value:"last7days"}},[t._v(t._s(t.$t("Last7days")))]),a("option",{attrs:{value:"thismonth"}},[t._v(t._s(t.$t("ThisMonth")))]),a("option",{attrs:{value:"last30days"}},[t._v(t._s(t.$t("Last30days")))]),a("option",{attrs:{value:"lastmonth"}},[t._v(t._s(t.$t("LastMonth")))])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.detailsbyStatusExpense,expression:"detailsbyStatusExpense"}],staticClass:"width_48 form-control pullright arabicpulleft col-md-6 px-1 float-left mb-2",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.detailsbyStatusExpense=e.target.multiple?a:a[0]},function(e){return t.GetTotalExpense(t.detailsbyday,t.detailsbyStatusExpense)}]}},[a("option",{attrs:{value:"Approved"}},[t._v(t._s(t.$t("Approved")))]),a("option",{attrs:{value:"Pending"}},[t._v(t._s(t.$t("Pending")))])])]),a("div",{staticClass:"dashboard cont_99P px-1",attrs:{id:"Projects"}},[a("ul",{staticClass:"newsep"},[(t.approvalTypeForTime,a("li",{staticClass:"list-group-item d-flex justify-content-between"},[a("span",{staticClass:"timelabel"},[t._v("Amount")]),a("span",{staticClass:"timelabelright arabicpulleft",attrs:{id:"lblExpenseAmount"}},[t._v(t._s(t.TOTALEXPENSE)+".00")])]))])])])],1)},d=[],c={props:{widgetInfo:null,moduleName:null,fromDate:null,toDate:null},data(){return{isLoading:!1,approvalTypeForTime:"",TOTALEXPENSE:"",detailsbyday:"last7days",detailsbyStatusExpense:"Approved"}},created:function(){this.ExpenseDetail(),this.GetTotalExpense(this.detailsbyday,this.detailsbyStatusExpense)},methods:{ExpenseDetail:function(){var t="requestType=&statusType=";n["a"].ExpenseDetail(t).then(t=>{t.data.length>0&&(this.TOTALEXPENSE=t.data[0].TOTALEXPENSE,this.GetConfigurationValueKey("PMCanSeeProjectFinance"))})},GetConfigurationValueKey:function(t){var e="ConfigurationValueByKey="+t;n["a"].GetConfigurationValue(e).then(t=>{null!=t.data&&(this.approvalTypeForTime=t.data.CONFIG_DATA_VALUE)})},GetTotalExpense:function(t,e){this.isLoading=!0;var a=`requestType=${t}&statusType=${e}`;n["a"].ExpenseDetailByDate(a).then(t=>{t.data.length>0&&(this.TOTALEXPENSE=t.data[0].TOTALEXPENSE),this.isLoading=!1})}}},u=c,p=a("2877"),m=Object(p["a"])(u,l,d,!1,null,null,null),h=m.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height piechrt text-center",attrs:{id:"pieDiv_"+t.moduleName+"_"+t.widgetInfo.action}},[a("div",{class:{"d-inline-block mt-2 reportBlock  align-center c3 w-60":t.PieWidgetData.length>0,"d-inline-block mt-2 align-center c3 w-60":0==t.PieWidgetData.length},style:{"width:60%; float:left; text-align:center;":t.PieWidgetData.length>0,"width:100%;text-align:center;":0==t.PieWidgetData.length},attrs:{controller:t.moduleName,id:"div_WidgetChart_"+t.widgetInfo.action}},[a("span",{staticClass:"text-danger no-record"},[t._v(t._s(t.$t("NoRecordfound")))])]),a("div",{staticClass:"chartInTransitAssetListLegend justify-content-left align-self-center w-40 c3",attrs:{id:"chartInTransitAssetListLegend_"+t.widgetInfo.action}})])},f=[],v={props:{widgetInfo:null,moduleName:null,fromDate:null,toDate:null},data(){return{PieWidgetData:[],HeaderData:null,showAddDashboardReport:!1}},created:async function(){await this.FetchData()},methods:{FetchData:async function(){var t=this,e=null!=t.fromDate?t.fromDate:t.$options.filters.formatDate(new Date),a=null!=t.toDate?t.toDate:t.$options.filters.formatDate(new Date),s=`reportType=${t.widgetInfo.action}&fromDate=${e}&toDate=${a}`;await n["a"].GetDashboardData(s).then((function(e){null!=e.data&&""!=e.data&&(t.PieWidgetData=e.data,"Success"==e.data.status&&("table"==t.widgetInfo.charT_TYPE&&e.data.result.length>0&&(t.HeaderData=e.data.result.headers),e.data.result.length>0&&(t.PieWidgetData=e.data.result,t.bindWidget(t,200,200))))}))},ResizeReportWidget:function(t,e){var a="#div_BarChart_"+e,s=$(a).data("c3-chart");s.revert(),"1"==t?s.resize({height:200,width:400}):$(window).width()<=1280&&$(window).height()<=1024?s.resize({height:200,width:300}):s.resize({height:300,width:800})},bindWidget:function(t,e,a){if("pie"==t.widgetInfo.charT_TYPE){var s=[],i="#chartInTransitAssetListLegend_"+t.widgetInfo.action;$(i).empty(),$.each(t.PieWidgetData,(function(t,e){s.push([e.name,e.value])}));let n="#div_WidgetChart_"+t.widgetInfo.action,o=c3.generate({bindto:n,size:{width:e,height:a},data:{columns:s,type:"pie",onmouseover:function(t,e){$("div "+i+" .legend").find("div").addClass("c3-legend-item-hidden"),$("div "+i+"  .legend").find("div[data-id='"+t.id+"']").removeClass("c3-legend-item-hidden")},onmouseout:function(t,e){$("div "+i+"  .legend").find("div").removeClass("c3-legend-item-hidden")},empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},legend:{show:!1},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]}});d3.select(i).insert("div",".chart").attr("class","legend text-left").selectAll("div").data(s).enter().append("div").attr("data-id",(function(t){return t})).html((function(t){return'<span class="text-truncate w-80 namespan">'+t+"</span>"})).each((function(t){d3.select(this).append("span").style("background-color",o.color(t[0]))})).on("mouseover",(function(t){o.focus(t)})).on("mouseout",(function(t){o.revert()})).on("click",(function(t){$(this).toggleClass("c3-legend-item-hidden"),o.toggle(t)}))}}}},T=v,S=(a("ae67"),Object(p["a"])(T,g,f,!1,null,null,null)),_=S.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal d-block my-popups dialog"},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[t._t("header",[a("h5",{staticClass:"modal-title"},[t._v("Reports")])]),a("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:t.OnCloseReport}},[a("em",{staticClass:"fa fa-times"})])],2),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mt-2 mb-3 p-0"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("DashboardReportsPopupHeading")))])])])]),a("div",{staticClass:"listing mt-2"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"reportsTable"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[a("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"}})]),a("th",[t._v(t._s(t.$t("Report")))]),a("th",[t._v(t._s(t.$t("Description")))])])]),a("tbody",[0==t.widgets.length?a("tr",[a("td",{staticClass:"text-center text-middle text-danger no-record",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]):t._e(),t._l(t.widgets,(function(e){return a("tr",{key:e,attrs:{id:"divReports"}},[a("td",{staticClass:"text-center"},[1==e.isselected?a("input",{staticClass:"chkItems",attrs:{checked:"checked","data-change-id":"no",type:"checkbox",id:e.reporT_ID,"data-moduleName":e.controller}}):a("input",{staticClass:"chkItems",attrs:{type:"checkbox","data-change-id":"no",id:e.reporT_ID}})]),a("td",[t._v(t._s(t.GetReportName(e)))]),a("td",[t._v(t._s(e.reporT_DESCRIPTION))])])}))],2)])])])]),a("div",{staticClass:"modal-footer",staticStyle:{"flex-wrap":"inherit"},attrs:{"aria-required":"false"}},[a("button",{staticClass:"popupgreenbtn btn btn-success",attrs:{type:"button",title:"Save","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.SaveReportPreferences}},[t._v("Save")]),a("button",{staticClass:"popupredbtn btn btn-danger",attrs:{type:"button",title:"Close","data-toggle-tooltip":"tooltip","data-original-title":"Close"},on:{click:t.OnCloseReport}},[t._v("Close")])])])])])])},D=[],w={props:{moduleName:null},data(){return{isLoading:!1,widgets:[]}},created(){this.OnLoadReports()},mounted(){var t=this;setTimeout((function(){t.CheckBoxBootstrap(),t.ResponsiveDataTable("reportsTable")}),500)},methods:{OnCloseReport(){this.$emit("CloseReport")},OnLoadReports(){var t=this;t.isLoading=!0,n["a"].GetReports("moduleName="+t.moduleName).then((function(e){t.isLoading=!1,t.widgets=e.data.list}))},GetReportName(t){var e=this.$t(t.reporT_HEADING);return e||(e=t.reporT_HEADING),e},SaveReportPreferences(t,e){var a=this,s=$("#divReports input.chkItems:checked");if(s.length<2)a.ShowAlert(a.$t("CustomReportErrorMessage",[a.$t("Report")]),"failure",!0,a.$t("Alert"));else if(s.length>8)a.ShowAlert(a.$t("DashboardReportsMaxLimit",[a.$t("Report")]),"failure",!0,a.$t("Alert"));else{t="";for(var i=0;i<s.length;i++)t+=$(s[i]).attr("id")+",";t=t.slice(0,-1),a.isLoading=!0;var o=`reportIds=${t}&moduleName=${a.moduleName}`;n["a"].widgetSave(o).then((function(t){a.isLoading=!1,1==t.data?a.OnCloseReport():2==data?a.ShowAlert(a.$t("DashboardReportsMaxLimit"),"failure",!0,a.$t("Alert")):a.ShowAlert(a.$t("InsertUpdateError"),"failure",!0,a.$t("Alert"))}))}}}},b=w,A=Object(p["a"])(b,C,D,!1,null,null,null),I=A.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"float-right displayinlineblock"},[a("div",{staticClass:"date_range",attrs:{id:"mainDiv"}},[a("a",{staticClass:"btn inline-block btnPin mr-2 py-1 pinmyview",attrs:{id:"aDateLable_"+t.pgaction,href:"javascript:;"},on:{click:function(e){return t.PinView()}}},[a("i",{staticClass:"fa fa-thumb-tack mt-1 ",attrs:{id:"idPinView","aria-hidden":"true"}})]),a("a",{staticClass:"btn btn-info formbtn inline-block showDatePanel mr-2 py-1",attrs:{id:"aDateLable_"+t.pgaction,href:"javascript:;"},on:{click:t.OpenDatePopUp}},[a("i",{staticClass:"fa fa-bars mt-1 pr-2"}),a("em",{staticClass:"text-white "},[t._v(t._s(t.DateRangeText))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showpopup,expression:"showpopup"}],staticClass:"DatePopUp divtimer_design p-1",attrs:{id:"DivTimer_"+t.pgaction,"data-pageaction":t.pgaction}},[a("table",{staticClass:"table-responsive AssetDatePopUp d-block "},[a("tbody",{staticClass:"daterangebody",staticStyle:{display:"table !important",width:"100%"}},[a("tr",{ref:"daterange",staticClass:"daterangetr"},[a("td",{staticClass:"sep daterangetd"},[a("ul",{staticClass:"date_select"},[a("li",{attrs:{id:"1"}},[a("a",{staticClass:"Today",attrs:{title:t.$t("Today"),id:"aToday",typ:"Today"},on:{click:function(e){return t.ClickTimer("Today",this,t.pgaction,"Today")}}},[t._v(t._s(t.$t("Today")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin1","aria-hidden":"true"}})]),a("li",{attrs:{id:"2"}},[a("a",{staticClass:"Yesterday",attrs:{title:t.$t("Yesterday"),id:"aYesterday",typ:"Yesterday"},on:{click:function(e){return t.ClickTimer("Yesterday",this,t.pgaction,"Yesterday")}}},[t._v(t._s(t.$t("Yesterday")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 inpinner pinhide",attrs:{id:"pin2","aria-hidden":"true"}})]),a("li",{attrs:{id:"3"}},[a("a",{staticClass:"Week",attrs:{title:t.$t("ThisWeek"),id:"aWeek",typ:"Week"},on:{click:function(e){return t.ClickTimer("Week",this,t.pgaction,"This Week")}}},[t._v(t._s(t.$t("ThisWeek")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin3","aria-hidden":"true"}})]),a("li",{attrs:{id:"4"}},[a("a",{staticClass:"AllTime",attrs:{title:t.$t("AllTime"),id:"aAll",typ:"AllTime"},on:{click:function(e){return t.ClickTimer("AllTime",this,t.pgaction,"This Year")}}},[t._v(t._s(t.$t("ThisYear")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin4","aria-hidden":"true"}})])])]),a("td",{staticClass:"daterangetd",attrs:{valign:"top"}},[a("ul",{staticClass:"date_select"},[a("li",{attrs:{id:"5"}},[a("a",{staticClass:"LastWeek",attrs:{id:"aLastWeek",typ:"LastWeek",title:t.$t("LastWeek")},on:{click:function(e){return t.ClickTimer("LastWeek",this,t.pgaction,"Last Week")}}},[t._v(t._s(t.$t("LastWeek")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin5","aria-hidden":"true"}})]),a("li",{attrs:{id:"6"}},[a("a",{staticClass:"Month",attrs:{id:"aMonth",typ:"Month",title:t.$t("ThisMonth")},on:{click:function(e){return t.ClickTimer("Month",this,t.pgaction,"This Month")}}},[t._v(t._s(t.$t("ThisMonth")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin6","aria-hidden":"true"}})]),a("li",{attrs:{id:"7"}},[a("a",{staticClass:"LastMonth",attrs:{id:"aLastMonth",typ:"LastMonth",title:t.$t("LastMonth")},on:{click:function(e){return t.ClickTimer("LastMonth",this,t.pgaction,"Last Month")}}},[t._v(t._s(t.$t("LastMonth")))]),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin7","aria-hidden":"true"}})])])])]),a("tr",{staticClass:"float-left p-0 m-0 mt-1 col-12 daterangetr"},[a("td",{staticClass:"col-4 m-1 daterangetd  float-left table_datepickerfix"},[a("label",[t._v("From ...")]),a("br"),a("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents;return[a("input",t._g({staticClass:"textfield2 ie_crossicon_none FromDate form-control p-1",attrs:{id:"txtFromDate_"+t.pgaction,name:"startDate"},domProps:{value:s}},i))]}}]),model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),a("td",{staticClass:"col-4 m-1 daterangetd  float-left table_datepickerfix"},[a("label",[t._v("...To")]),a("br"),a("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents;return[a("input",t._g({staticClass:"textfield2 ie_crossicon_none ToDate form-control p-1",attrs:{id:"txtToDate_"+t.pgaction,name:"endDate"},domProps:{value:s}},i))]}}]),model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),a("td",{staticClass:"col-2 m-1 ml-2 daterangetd float-left table_datepickerfix"},[a("input",{staticClass:"btn btn-success float-left p-1 p-1 pl-4 pr-4",attrs:{type:"button",id:"btnsearch_"+t.pgaction,"data-result":"btnsearch",value:"Go"},on:{click:function(e){return t.searchGoclick(this,t.pgaction)}}})])])])])]),a("input",{attrs:{type:"hidden",id:"hdnDateSpan",value:"Month",title:"hidden ctr for keeping current Search type Like week, month and day."}}),a("input",{attrs:{type:"hidden",id:"ReportViewer",name:"returnType"}}),a("input",{attrs:{type:"hidden",id:"pgaction",name:"pgaction"},domProps:{value:t.pgaction}}),a("input",{attrs:{type:"hidden",id:"hdnViewId",name:"viewid"}}),a("input",{attrs:{type:"hidden",id:"hdnPinnedViewId",name:"viewid"}})])])},P=[],E={props:{pgaction:null},data(){return{DateRangeText:"Today",isLoading:!1,fromDate:null,toDate:null,showpopup:!1,eval:"",evaltype:"",showPin:!1,PieWidgetDataSingletData:[]}},created(){},methods:{OpenDatePopUp(){$("[id^='DivTimer_']").each((function(){"block"==$(this).css("display")&&$(this).css("display","none")})),void 0!=this.$parent.$refs.widget&&(this.fromDate=this.$parent.$refs.widget.fromDate,this.toDate=this.$parent.$refs.widget.toDate),this.showpopup=!this.showpopup},searchGoclick(t,e){var a=this;$("#hdnViewId").val(""),$(".btnPin").hide(),"global"==e?a.$emit("set-date",$("#txtFromDate_"+e).val(),$("#txtToDate_"+e).val()):a.$parent.$parent.SetDateRange($("#txtFromDate_"+e).val(),$("#txtToDate_"+e).val()),this.showpopup=!this.showpopup},SearchRecord(t,e){var a=e,s=$("#txtFromDate_"+a).val(),i=$("#txtToDate_"+a).val(),n=($("#aDateLable_"+a).html(),$(t).closest(".ticketingDashboardHead").attr("dctrl")),o=$(t).closest(".ticketingDashboardHead").attr("daction"),r=$(t).closest(".ticketingDashboardHead").find(".reportBlock");$.ajax({url:"/"+n+"/"+o,data:{fromDate:s,toDate:i},type:"get",async:!0,cache:!1,success:function(t){r.empty(),r.append(t)},error:function(){}})},ClickTimer(t,e,a,s){var i=this;i.DateRangeText=s,$("#hdnViewId").val($(e).parent().attr("id")),$("#hdnViewId").val()==$("#hdnPinnedViewId").val()?($("#idPinView").closest(".btnPin").addClass("pinmyview"),$("#idPinView").closest(".btnPin").removeClass("unpinmyview")):($("#idPinView").closest(".btnPin").addClass("unpinmyview"),$("#idPinView").closest(".btnPin").removeClass("pinmyview")),$(".btnPin").show(),"global"==$(e).closest("div.DatePopUp").attr("data-pageaction")?($(e).closest(".date_range").find("#aDateLable_global").find("em.text-white").html("").html($(e).text()),i.isLoading=!0,i.FadeInOut1(e),$("#dashbord-graph-widget").find(".ticketingDashboardHead").each((function(){$(this).find(".DatePopUp").find("a[class="+t+"]").trigger("click"),$(this).find(".DatePopUp").hide()})),"Today"==t?i.GetStartEndDates(t,e,a):"Yesterday"==t?i.GetStartEndDates("yesterday",e,a):"Week"==t?i.GetStartEndDates("thisweek",e,a):"LastWeek"==t?i.GetStartEndDates("lastweek",e,a):"Month"==t?i.GetStartEndDates("thismonth",e,a):"LastMonth"==t?i.GetStartEndDates("lastmonth",e,a):"AllTime"==t&&i.GetStartEndDates("thisyear",e,a),i.isLoading=!1):("Today"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates(t,e,a)):"Yesterday"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates("yesterday",e,a)):"Week"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),i.GetStartEndDates("thisweek",e,a)):"LastWeek"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),i.GetStartEndDates("lastweek",e,a)):"Month"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),i.GetStartEndDates("thismonth",e,a)):"LastMonth"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),i.GetStartEndDates("lastmonth",e,a)):"AllTime"==t&&($(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates("thisyear",e,a)),i.FadeInOut1(e)),$(e).closest(".date_range").find("#imgNext").show(),$(e).closest(".date_range").find("#imgPrev").show(),this.showpopup=!this.showpopup},FadeInOut(){$("#DivTimer").toggle()},FadeInOut1(t){var e=$(t).closest(".date_range").find("#pgaction").val();$(t).closest(".date_range").find("#DivTimer_"+e).toggle()},GetStartEndDates(t,e,a){var s=this;s.isLoading=!0;var i=`DateSpan=${t.toLowerCase()}&report=${$("#hdnGroupBy").val()}`;n["a"].GetStartEndDate_New(i).then((function(t){s.isLoading=!1;var e=t.data;s.fromDate=e.dateStart,s.toDate=e.dateEnd;var i=e.dateStart,n=e.dateEnd;$("#txtFromDate_"+a).val(e.dateStart),$("#txtToDate_"+a).val(e.dateEnd),$("#aDateLable_"+a).find("em").text(e.displayText),s.$emit("set-date",e.dateStart,e.dateEnd),"global"!=a&&setTimeout(()=>{s.FetchDataSingle(a,i,n)},500)}))},FetchDataSingle:async function(t,e,a){var s=this,i=`moduleName=${s.moduleName}&reportType=${t}&fromDate=${e}&toDate=${a}&usersDash=`;await n["a"].GetDashboardData(i).then((function(e){null!=e.data&&""!=e.data&&(s.PieWidgetDataSingletData=e.data,"Success"==e.data.status&&e.data.result.length>0&&(s.PieWidgetDataSingletData=e.data.result,s.$parent.$children.forEach((function(e,a){void 0!=s.$parent.$children[a].widgetInfo&&s.$parent.$children[a].widgetInfo.action==t&&(s.$parent.$children[a].PieWidgetData=s.PieWidgetDataSingletData,s.$parent.$children[a].bindWidget(s.$parent.$children[a],200,200))}))))}))},setSingleReport(t){var e=this;"global"!=t&&e.$parent.$children.forEach((function(a,s){if(void 0!=e.$parent.$children[s].widgetInfo&&e.$parent.$children[s].widgetInfo.action==t){e.$parent.$children[s].FetchDataSingle(t,e.fromDate,e.toDate);let a=[];a=e.$parent.$children[s].PieWidgetDataSingletData,e.$parent.$children[s].PieWidgetData=a,e.$parent.$children[s].bindWidget(e.$parent.$children[s],200,200)}}))},getPinnedView:function(){$(".pinhide").hide();var t=this,e="Project_Dashboard";n["a"].GetPinnedView("type="+e).then((function(e){"Success"==e.data.status&&null!=e.data.result.data&&e.data.result.data.length>0&&(e.data.result.data[0].TYPE_ID>0?($("#hdnPinnedViewId").val(e.data.result.data[0].TYPE_ID),t.eval=$("#"+$("#hdnPinnedViewId").val()).find("a").attr("id"),t.evaltype=$("#"+$("#hdnPinnedViewId").val()).find("a").attr("typ"),$(".DateLable").find("em.text-white").html($("#"+t.eval).text())):$("#hdnPinnedViewId").val("3")),t.ClickTimer("Week",this,"global")}))}}},k=E,R=(a("06d8"),Object(p["a"])(k,y,P,!1,null,"218c3821",null)),N=R.exports,x={components:{PieChart:_,Reports:I,DateRange:N,Expense:h},props:{widgets:null,viewType:null,moduleName:null,fromDate:null,toDate:null},data(){return{isLoading:!1,showReports:!1}},methods:{OnCloseReport(){this.showReports=!1,this.$emit("reload-report")},zoominOut(t){var e=this,a="#"+t;$(a).hasClass("zoomin")?($(a).removeClass("zoomin"),$(a).addClass("zoomout"),$(a).find("i").removeClass("fa fa-expand"),$(a).find("i").addClass("fa fa-compress"),$("[data-id="+t+"]").removeClass("col-md-6"),$("[data-id="+t+"]").addClass("col-md-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-3"),$(a).prop("title",this.$t("ZoomIn")),e.$children.forEach((function(a,s){void 0!=e.$children[s].widgetInfo&&e.$children[s].widgetInfo.reporT_ID==t&&e.$children[s].bindWidget(e.$children[s],400,400)}))):($(a).removeClass("zoomout"),$(a).addClass("zoomin"),$(a).find("i").removeClass("fa fa-compress"),$(a).find("i").addClass("fa fa-expand"),$("[data-id="+t+"]").removeClass("col-md-4 col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-3"),$("[data-id="+t+"]").addClass("col-md-6"),$(a).prop("title",this.$t("ZoomOut")),e.$children.forEach((function(a,s){void 0!=e.$children[s].widgetInfo&&e.$children[s].widgetInfo.reporT_ID==t&&e.$children[s].bindWidget(e.$children[s],200,200)})))},zoomInZoomOut(t,e){var a=$(t).parents(".graph-widget-heading").prop("title"),s=$(t).parents(".graph-widget-heading").find("input").val(),i=!0,n=$(t).parents("div.ticketingDashboardHead");1==e?($(t).removeAttr("data-original-title"),$(t).attr("title","Zoom_Out"),$(n).removeClass("col-sm-12 col-md-12 col-lg-12 col-xl-12  mb-3"),$(n).addClass("col-sm-12 col-md-12 col-lg-6 col-xl-4  mb-3"),$(t).attr("zoom",0),$(n).siblings("div.ticketingDashboardHead").show(),$(t).addClass("zoomin"),$(t).removeClass("zoomout"),$(t).find("i").removeClass("fa fa-compress").addClass("fa fa-expand"),i=!1):($(t).removeAttr("data-original-title"),$(t).attr("title","Zoom_In"),$(t).removeClass("zoomin"),$(t).addClass("zoomout"),$(n).removeClass("col-sm-12 col-md-12 col-lg-6 col-xl-4  mb-3"),$(n).addClass("col-sm-12 col-md-12 col-lg-12 col-xl-12  mb-3"),$(n).children("div.contentcontainer").css("height","auto"),$(t).attr("zoom",1),$(t).find("i").removeClass("fa fa-expand").addClass("fa fa-compress")),$(t).parents(".graph-widget-heading").find(".spnTitle").html(s),i&&$(t).parents(".graph-widget-heading").find(".spnTitle").html(a)},onRemoveReport(t,e){var a=this;t.stopImmediatePropagation();var s=$("div.reportcontainer");if(s.length<=2)a.ShowAlert(a.$t("AtleastTwoReport"),"warning",!0,a.$t("Alert"));else{var i=a.$t("RemoveReportWarning"),n=a.$t("Report"),o=$(this).parents("div.reportcontainer");a.confirmR(i,!0,n,(function(){a.removeReport(a,e,o)}))}},removeReport(t,e,a){t.isLoading=!0;var s=`ids=${e}&tableName=TALYGEN_report_detail&primaryKey=privilege_id`;n["a"].Delete(s).then((function(e){if(e.data){var a=$(this).parents("div.reportcontainer");$(a).remove(),$(a).show(),t.$emit("reload-report")}else t.ShowAlert(t.$t(InsertUpdateError),"failure",!0,t.$t("Alert")),t.isLoading=!1}))},SaveReportPreferences(t,e){var a=this;showLoader(),$.ajax({url:'@Url.Action("ReportsSave", "CompanyAdmin")',data:{reportIds:t,moduleName:e},cache:!1,success:function(t,e,s){if("200"==s.status)if(1==t){getRootURL();$("#divReports").dialog("close"),"dashboard"==$("#hdnpagename").val()?loadReports():window.location.reload()}else 2==t?ShowAlert(a.$t("DashboardReportsMaxLimit"),"failure",!0,a.$t("Alert")):ShowAlert(a.$t("InsertUpdateError"),"failure",!0,a.$t("Alert"))},error:function(t,e,a){hideLoader()}})}}},L=x,M=Object(p["a"])(L,o,r,!1,null,null,null),U=M.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"divdashboardwidgetdata"}},[t.showTeam?a("div",{staticClass:"heading-border mt-2 mb-2 ",attrs:{id:"teamv"}},[t._m(0),a("div",{staticClass:"input-group float-right p-0 teamv taskclass"},[a("div",{staticClass:"form-control p-0",staticStyle:{"z-index":"999"}},[a("treeselect",{attrs:{multiple:!0,"show-count":!0,options:t.options,placeholder:"Select your team(s)"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("div",{staticClass:"input-group-append",staticStyle:{"min-width":"75px"}},[a("span",{staticClass:"input-group-text p-0 border-0 w-100"},[a("a",{staticClass:"btn-success float-left mr-1",attrs:{href:"javascript:;",title:"@Resources.Search"},on:{click:function(e){return t.searchFunction()}}},[a("i",{staticClass:"fa fa-search"})]),a("a",{staticClass:"btn btn-danger clearsearchtext float-right m-0 w-auto",attrs:{href:"javascript:;",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Clear"},on:{click:function(e){return t.resetFunction()}}},[a("i",{staticClass:"fa fa-refresh"})])])])])]):t._e(),a("ul",{staticClass:"dashbord-widget"},t._l(t.WidgetData,(function(e,s){return a("li",{key:s,class:t.ReturnClass(s)},[a("a",{attrs:{href:""==e.ActionLink?"javascript:;":e.ActionLink}},[a("h3",[t._v(t._s(e.WidgetCount)+t._s(t.$t(e.Legend))),a("br"),a("span",[t._v(t._s(t.$t(e.WidgetName)))])]),a("i",{class:"fa "+e.WidgetIcon,attrs:{"aria-hidden":"true"}})])])})),0)])},G=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h5",{staticClass:"h5"},[a("span",[t._v("Team View")])])}],j=a("ca17"),F=a.n(j),V=(a("542c"),{components:{treeselect:F.a},props:{moduleName:null,checkVueodolist:null},data:function(){return{isLoading:!0,ApiURLCount:"subModuleCode=Project_Detail&moduleName=",WidgetData:[],value:null,options:[],users:null,showTeam:!1}},created:function(){this.ApiURLCount=this.ApiURLCount+this.moduleName,this.FetchData("kanban",null)},methods:{FetchData:function(t,e){var a=this;a.isLoading=!0;var s=this.ApiURLCount+"&pageSize=100&pageNumber=1&sortBy=&sortExp=&searchCondition=&projectId=&type="+t+"&userIds="+e;n["a"].DashBoardMinWidgetData(s).then((function(t){a.isLoading=!1;var e=t.data.result;null!=t.data&&null!=e?(a.WidgetData=e.data,a.options=e.team):(a.WidgetData=[],a.options=[],a.value=null)}))},searchFunction:function(){var t=this;t.users=t.value.join(", "),this.FetchData("kanban",t.users)},resetFunction:function(){var t=this;t.value=null,t.users=null,this.FetchData("kanban","")},ReturnClass:function(t){var e="";switch(t){case 0:e="one_wid";break;case 1:e="two_wid";break;case 2:e="three_wid";break;case 3:e="four_wid";break;case 4:e="five_wid";break;default:e="one_wid"}return e}}}),K=V,B=Object(p["a"])(K,O,G,!1,null,null,null),H=B.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 border p-0",staticStyle:{"overflow-x":"auto"}},[a("div",{staticClass:"row bg-lgray  m-0 py-3 px-0 container-fluid",style:{width:"S"==t.ViewType?"100%":"@width"},attrs:{id:"KanbanDiv"}},["Project"==t.moduleName?a("div",{staticClass:"col-12 pl-0 mt-2 px-small-0",staticStyle:{"margin-bottom":"20px !important","margin-top":"5px!important"}},[a("div",{staticClass:"input-group eamv taskclass col-sm-12 col-md-12 col-lg-8 float-left pr-1 pl-0 px-small-0"},[a("div",{staticClass:"form-control p-0 mb-1",staticStyle:{"z-index":"999"}},[a("vue-multiselect",{attrs:{options:t.ProjectList,multiple:!0,"close-on-select":!1,"track-by":"ProjectId",label:"ProjectName",placeholder:"Select project(s)",limit:1,"append-to-body":"appendToBody"},model:{value:t.SelectedProjects,callback:function(e){t.SelectedProjects=e},expression:"SelectedProjects"}})],1)]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-3 float-left pl-0 px-small-0"},[a("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline d-flex"},[a("a",{staticClass:"btn btn-success mr-1",attrs:{href:"javascript:;",id:"aSearch",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Search"},on:{click:function(e){return t.filterByProject()}}},[a("i",{staticClass:"fa fa-search"})]),a("a",{staticClass:"btn btn-danger clearsearchtext",attrs:{href:"javascript:;",id:"refreshToDoList",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Search"},on:{click:function(e){return t.resetProjectFilter()}}},[a("i",{staticClass:"fa fa-refresh"})])])])]):t._e(),a("div",{staticClass:"clear"}),a("div",{staticClass:"col-12 p-0 only2-display d-flex"},t._l(t.DataArray,(function(e,s){return a("div",{key:s,staticClass:"col-md-12 col-lg-6",class:{extended:"L"===t.ViewType}},[a("ul",{staticClass:"combo-canvan-view"},[a("li",{class:e.className},[a("h3",{staticClass:"mb-2 text-capitalize"},[t._v(" "+t._s(t.GetLocalizedValue(e.name))+" ("+t._s(e.count)+")"),a("span",{staticClass:"shorting cursor-pointer",on:{click:function(a){return t.sortedArray(e,s)}}},[a("i",{class:"fa "+e.SortIcon,attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"clearfix"}),0!=e.data.length?a("div",{ref:"scrollbar",refInFor:!0,staticClass:"cards-content",class:{scrollbarminiunassigned:"unassigned"==e.className,scrollbarmini:"unassigned"!=e.className},attrs:{"data-statusid":e.StatusId}},[a("div",{staticClass:"clearfix"}),a("draggable",{staticClass:"list-group",attrs:{list:e.data,options:{group:{name:"grpdashboard",put:!0},sort:!1},status:e.name},on:{start:t.onStart,end:t.onEnd,change:function(a){return t.ChangeStatusDrag(a,e.StatusId)}}},t._l(e.data,(function(e,s){return a("div",{key:s,staticClass:"w-100 p-0"},[a("div",{staticClass:"card card-exp"},[a("div",{staticClass:"card-header"},[a("h4",[a("span",{staticClass:"text-capitalize text-primary",attrs:{title:e.TASK_NAME}},[t._v(t._s(e.TASK_NAME))]),a("a",{staticClass:"nostylelink mr-3 float-right",attrs:{"data-toggle-tooltip":"tooltip",title:"@Resources.View",href:"javascript:;",value:e.PROJECT_ID},on:{click:function(a){return t.ProjectQuickView(e.PROJECT_ID,e.TASK_ID,e)}}},[a("i",{staticClass:"float-right fa fa-eye",attrs:{"aria-hidden":"true"}})])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"spac-eq text-capitalize text-dark"},[a("b",[a("i",{staticClass:"fa fa-folder-o"}),t._v(" "),a("span",[t._v(t._s("CRM_LEADS"==e.PROJECT_NAME?"CRM Lead":"CRM_DEALS"==e.PROJECT_NAME?"CRM Deal":"CRM_SALES_ORDERS"==e.PROJECT_NAME?"CRM SALES ORDER":"CRM_QUOTES"==e.PROJECT_NAME?"CRM QUOTES":e.PROJECT_NAME))])])]),null!=e.TASK_DESCRIPTION&&""!=e.TASK_DESCRIPTION?a("div",{staticClass:"spac-eq"},[a("i",{staticClass:"fa fa-file-text float-left pr-1 mt-1"}),t._v(" "),a("span",{domProps:{innerHTML:t._s(t.TruncateStr(e.TASK_DESCRIPTION,200))}})]):a("div",{staticClass:"spac-eq"},[a("i",{staticClass:"fa fa-file-text "}),t._v(" -")]),a("div",{staticClass:"spac-eq"},[a("i",{staticClass:"fa fa-calendar "}),t._v(" "+t._s(t._f("formatDate")(e.START_DATE))+" "),a("strong",[t._v("To")]),t._v(" "+t._s(t._f("formatDate")(e.END_DATE))+" "),"Project"==t.moduleName||"Ticketing"==t.moduleName||"Event"==t.moduleName?a("a",{class:{"text-dark float-right":!0,disabled:"Completed"==e.STATUS},attrs:{href:"javascript:;"},on:{click:function(a){return t.openNoteListPopUp(e,s)}}},[a("i",{staticClass:"fa fa-file-text-o actionicon_20",staticStyle:{"margin-right":"5px"},attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"noti-circle noti-orange"},[t._v(t._s(e.NOTES_COUNT))])]):t._e()]),a("div",{staticClass:"spac-eq"},[a("span",[a("i",{staticClass:"fa fa-clock-o"}),t._v(" "),e.TRACKED_HOURS>0?a("span",{staticClass:"blue-time pl-1"},[t._v(t._s(t.convertSecondsToHHMMSSNew(e.TRACKED_HOURS))+" "+t._s(t.$t("of")))]):t._e(),a("span",{staticClass:"blue-time pl-1"},[t._v(t._s(e.ALLOCATE_HOURS)+" "+t._s(t.$t("HrsSmall")))])]),"Project"==t.moduleName||"Event"==t.moduleName?a("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.ProjectQuickView(e.PROJECT_ID,e.TASK_ID,e,"attachment")}}},[a("i",{staticClass:"fa fa-paperclip actionicon_20",staticStyle:{"margin-right":"5px"},attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"noti-circle noti-blue"},[t._v(t._s(e.FILE_COUNT))])]):t._e()]),a("div",{staticClass:"spac-eq text-capitalize"},[a("b",[a("i",{staticClass:"fa fa-user"}),t._v(" "),a("span",[t._v(t._s(e.NAME))])]),"Project"!=t.moduleName&&"Event"!=t.moduleName||"Unassigned"==e.STATUS?"Project"==t.moduleName||"Event"==t.moduleName?a("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.TeamTimeAllocation(e)}}},[a("i",{staticClass:"fa fa-user-plus actionicon_20",attrs:{"aria-hidden":"true"}})]):t._e():a("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.OpenCommentModel(e)}}},[a("i",{staticClass:"fa fa-commenting-o actionicon_20",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"noti-circle noti-green"},[t._v(t._s(e.COMMENT_COUNT))])]),"Ticketing"==t.moduleName&&"Unassigned"==e.STATUS?a("a",{staticClass:"text-dark float-right",attrs:{href:"javascript:;"},on:{click:function(a){return t.TicketAsssignTrasfer(e.PROJECT_ID,e.TASK_ID,e)}}},[a("i",{staticClass:"fa fa-user-plus actionicon_20",attrs:{"aria-hidden":"true"}})]):t._e()]),"Ticketing"!=t.moduleName?a("div",{staticClass:"spac-eq text-capitalize"},[a("b",[a("i",{staticClass:"fa fa-user-circle"}),t._v(" "),a("a",{staticClass:"text-capitalize text-primary",attrs:{href:"javascript:;"},on:{click:function(a){return t.ProjectQuickView(e.PROJECT_ID,e.TASK_ID,e,"resources")}}},[t._v("View Assigned Resources")])])]):t._e(),"HR"!=t.moduleName&&null!=t.TagData.filter((function(t){return t.TASK_ID==e.TASK_ID}))&&t.TagData.filter((function(t){return t.TASK_ID==e.TASK_ID})).length>0?a("div",{staticClass:"spac-eq"},[a("i",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._v(" "),t._l(t.TagData.filter((function(t){return t.TASK_ID==e.TASK_ID})),(function(e,s){return a("span",{key:s,staticClass:"tags-dashbm"},[t._v(" "+t._s(e.TAG_NAME)+" ")])}))],2):a("div",{staticClass:"spac-eq"},[a("i",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._v(" - ")]),""!=e.PRIORITY_NAME&&"null"!=e.PRIORITY_NAME&&null!=e.PRIORITY_NAME?a("div",{staticClass:"spac-eq"},[a("span",{staticClass:"badge",style:t.getPriorityStyles(e.PRIORITY_NAME.toLowerCase(),e.COLOR_CODE)},[t._v(t._s(e.PRIORITY_NAME))])]):t._e(),a("div",{staticClass:"spac-eq border-top text-center"},[a("div",{staticClass:"time"},[a("div",{class:"c100 small p"+parseInt(t.showTrackPercent(e),10)},[a("span",[t._v(t._s(t.showTrackPercent(e))+"%")]),a("div",{staticClass:"slice"},[a("div",{class:{bar:t.showTrackPercent(e)>0}}),a("div",{staticClass:"fill"})])]),a("span",{staticClass:"t-title"},[t._v(t._s(t.$t("Time Left")))])]),a("div",{class:"completed"==String(e.STATUS).toLowerCase()?"Task disabled_icon":"Task"},["MANUALLY_BASED"==e.PROJECTTASKPROGRESS?a("div",{class:"cursor-pointer c100 small green p"+parseInt(e.PROGRESS,10),on:{click:function(a){return t.ProgressDivOpen(e)}}},[a("span",[t._v(t._s(e.PROGRESS)+"%")]),a("div",{staticClass:"slice"},[a("div",{class:{bar:e.PROGRESS>0}}),a("div",{staticClass:"fill"})])]):t._e(),"MANUALLY_BASED"!=e.PROJECTTASKPROGRESS?a("div",{class:"c100 small green p"+parseInt(e.PROGRESS,10)},[a("span",[t._v(t._s(e.PROGRESS)+"%")]),a("div",{staticClass:"slice"},[a("div",{class:{bar:e.PROGRESS>0}}),a("div",{staticClass:"fill"})])]):t._e(),a("span",{staticClass:"t-title"},[t._v(" "+t._s(t.$t("Task"))+" "+t._s(t.$t("Progress")))])])]),a("div",{staticClass:"spac-eq border-top text-center"},[e.AutomaticBtn?a("div",{staticClass:"timerbx green",attrs:{id:"TotalTime","data-model":"item.TotalTime"}}):t._e(),"ACT"==e.RUNNING_STATUS?a("button",{staticClass:"btn Timertodo btn-info",class:{"inactive-disabled":e.TIME_TRACKED_BY==t.ID},attrs:{type:"button"},on:{click:function(a){return t.PauseResumeTime("pause",t.TRACK_ID,t.COMPANY_ID,t.CREATED_BY,e.TASK_ID,e.PROJECT_ID,e.IS_BILLABLE,e)}}},[a("span",{staticClass:"tag-name"},[t._v(" "+t._s(t.$t("Pause")))])]):t._e(),"PAUS"==e.RUNNING_STATUS?a("button",{staticClass:"btn Timer btn-success",class:{"inactive-disabled":t.ID},attrs:{type:"button"},on:{click:function(a){return t.PauseResumeTime("resume",t.TRACK_ID,t.COMPANY_ID,t.CREATED_BY,e.TASK_ID,e.PROJECT_ID,e.IS_BILLABLE,e)}}},[a("span",{staticClass:"tag-name"},[t._v(" "+t._s(t.$t("Resume")))])]):t._e(),"PAUS"==e.RUNNING_STATUS||"ACT"==e.RUNNING_STATUS?a("button",{staticClass:"btn Timer btn-danger StopTime",class:{"inactive-disabled":e.TIME_TRACKED_BY==t.ID},attrs:{type:"button"},on:{click:function(a){return t.StopTime(e.IS_BILLABLE,e.RUNNING_STATUS_ID,e.TASK_ID,e,t.COMPANY_ID,t.CREATED_BY,t.TRACK_ID)}}},[a("span",{staticClass:"tag-name"},[t._v(t._s(t.$t("Stop")))])]):t._e(),"PAUS"!=e.RUNNING_STATUS&&"ACT"!=e.RUNNING_STATUS?a("button",{staticClass:"d-none",class:"completed"==String(e.STATUS).toLowerCase()||"closed"==String(e.STATUS_NAME).toLowerCase()?"btn Timer manually-time inactive-disabled":"btn Timer manually-time",attrs:{type:"button","data-toggle":"modal",href:"javascript:;"},on:{click:function(a){return t.MannualDiv(e)}}},[a("span",{staticClass:"tag-name"},[a("i",{staticClass:"fa fa-clock-o mr-1"}),t._v(t._s(t.$t("Add"))+t._s(t.$t("Mannualy")))])]):t._e(),"PAUS"!=e.RUNNING_STATUS&&"ACT"!=e.RUNNING_STATUS?a("button",{staticClass:"d-none",class:"completed"==String(e.STATUS).toLowerCase()||"closed"==String(e.STATUS_NAME).toLowerCase()?"btn Timer auto-time inactive-disabled":"btn Timer auto-time",attrs:{type:"button","data-toggle":"modal",href:"javascript:;"},on:{click:function(a){return t.StartTime(e.IS_BILLABLE,e.RUNNING_STATUS_ID,e.TASK_ID,e)}}},[a("span",{staticClass:"tag-name"},[a("i",{staticClass:"fa fa-history mr-1"}),t._v(t._s(t.$t("Automatic"))+"c")])]):t._e()]),a("div",{staticClass:"verticle-action mt-1"},[a("i",{staticClass:"fa fa-ellipsis-v action_icon_cv",staticStyle:{width:"10px"},attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"action-list-box small"},[a("span",{staticClass:"list-actions fsm-list",attrs:{id:"action-list"}},[a("div",{staticClass:"float-left"},[a("div",{staticClass:"float-left"},["Project"==t.moduleName&&"completed"!=String(e.STATUS).toLowerCase()?a("a",{staticClass:"update actions-onclick",class:e.IS_APPROVE_REJECT>0?"edit-list disabled_icon":"edit-list",attrs:{title:"@Resources.Request @Resources.Time","data-placement":"left",href:"javascript:;"},on:{click:function(a){return t.RequestTimeBtn(e)}}},[a("i",{staticClass:"fa fa-reply text-dark"}),a("span",{staticClass:"text"},[t._v(" "+t._s(t.$t("Request"))+t._s(t.$t("Time")))])]):t._e(),a("a",{staticClass:"update actions-onclick",attrs:{title:t.$t("QuickView"),"data-placement":"left",href:"javascript:;",attr:e.PROJECT_ID},on:{click:function(a){return t.ProjectQuickView(e.PROJECT_ID,e.TASK_ID,e)}}},[a("i",{staticClass:"fa fa-eye text-info action-icon"}),a("span",{staticClass:"text"},[t._v(t._s(t.$t("QuickView")))])])])]),a("i",{staticClass:"fa fa-times close close-action_cv cursor-pointer",attrs:{"aria-hidden":"true"}})])])])])])])})),0)],1):t._e(),0==e.data.length?a("div",{ref:"scrollbar",refInFor:!0,staticClass:"cards-content",class:{scrollbarminiunassigned:"unassigned"==e.className,scrollbarmini:"unassigned"!=e.className},attrs:{"data-statusid":e.StatusId}},[a("div",{staticClass:"clearfix"}),a("draggable",{staticClass:"list-group",attrs:{list:[],options:{group:{name:"grpdashboard",put:!0},sort:!1},status:e.name},on:{start:t.onStart,end:t.onEnd,change:function(a){return t.ChangeStatusDrag(a,e.StatusId)}}},[a("div",{staticClass:"w-100 float-left text-center border p-2"},[a("span",{staticClass:"text-center text-danger no-record"},[t._v(t._s(t.$t("NoRecordfound")))])])])],1):t._e()])])])})),0)]),a("div",{attrs:{id:"divuploadnewfile"}}),a("input",{attrs:{type:"hidden",id:"hdnUploadNewFilePopUp",value:"M",url:""}})])},Y=[],z=(a("5319"),{props:{moduleName:null,encCompanyId:null,encUserId:null,encTrackId:null},data(){return{ID:null,user_type:null,typeProject:"kanban",HeaderDataPending:null,ToDoListData:[],TagData:null,ApiURLKanban:"subModuleCode=Project_Detail&moduleName=",InProgressProject:0,PendingProject:0,activeData:[],pendingData:[],ShowManageProjectQuickView:!1,showAddManuallyModal:!1,showUpdateProgressModal:!1,showRequestTimeModal:!1,showCommentModal:!1,sortDirectionIndex:0,sortDirection:"ASC",HeaderDataInprogress:null,typeStatus:null,DataArray:[],ViewType:"S",SelectedItem:null,TRACKED_HOURS:0,secondsPerMinute:60,minutesPerHour:60,QuickViewType:"",modalProjectId:null,modalTaskId:null,showNoteModal:!1,modalNoteTaskItem:null,showAddNoteModal:!1,modalNoteItem:null,header:"",TaskId1:null,typeNoteTask:"noteTask",ProjectId:null,AddNoteUserGuide:"User_Guide_Note",ModuleName:this.moduleName,DraggedFromElementStatus:"",DraggedToElementStatus:"",DraggedElementTaskId:null,DraggedElementStatus:null,showAllocationModal:!1,modalAddEditTaskId:null,TaskTeam:null,itemHours:null,sDate:null,eDate:null,rowIndexNested:null,Team:[],TaskHours:null,CompanyId:null,UserId:null,ProjectList:[],SelectedProjects:"",SelectedProjectIds:"",IsViewResourcesClicked:!1,PageNumber:1,DisableTimer:"no",pendingId:null,inprogressId:null,completedId:null}},created:function(){this.ApiURLKanban=this.ApiURLKanban+this.moduleName,this.user_type=this.GetUserInfo.UserType,this.CompanyId=this.GetUserInfo.CompanyId,this.UserId=this.GetUserInfo.ID,this.FetchDataKanban("kanban",null)},methods:{GetStatusIdByCode:function(t){var e=this;n["a"].GetStatusIdByCode("statusCode="+t).then((function(a){"REFPEN"==t?e.pendingId=a.data:"PNPGRS"==t?e.inprogressId=a.data:"STATUS_DONE"==t&&(e.completedId=a.data)}))},OnScrollItem:function(t){this.PageNumber<=Math.ceil(t.count/10)&&(this.PageNumber=this.PageNumber+1,this.FetchDataKanban("kanban",null))},GetPrivilege:function(t){},getPriorityStyles:function(t,e){return""!=e&&null!=e&&"undefined"!=typeof e||(e="#25a5fc"),{background:e}},ShowDataArray:function(){var t=this,e=[];"CA"==this.user_type&&e.push({name:"unassigned",count:0,data:[],show:0,className:"unassigned",SortIcon:"fa-sort-alpha-desc",StatusId:0}),e.push({name:"overdue",count:0,data:[],show:0,className:"canceled",SortIcon:"fa-sort-alpha-desc",StatusId:0}),e.push({name:"pending",count:0,data:[],show:1,className:"pending",SortIcon:"fa-sort-alpha-desc",StatusId:t.pendingId}),e.push({name:"inprogress",count:0,data:[],show:1,className:"overdue",SortIcon:"fa-sort-alpha-desc",StatusId:t.inprogressId}),e.push({name:"completed",count:0,data:[],show:0,className:"upcoming",SortIcon:"fa-sort-alpha-desc",StatusId:t.completedId}),e.push({name:"upcoming",count:0,data:[],show:0,className:"inactive",SortIcon:"fa-sort-alpha-desc",StatusId:0}),this.DataArray=e},ChangeView:function(t){var e=this;"T"==t?(e.ViewType="L",e.DataArray.forEach((function(t){t.show=1}))):(e.ViewType="S",$.each(e.DataArray,(function(t,e){"pending"==e.name||"inprogress"==e.name?e.show=1:e.show=0})))},openNoteListPopUp:function(t,e){var a=window.location.pathname,s=a.split("/");if("Ticketing"==s[1]&&"Dashboard"==s[2]){if(this.GetPrivilege("controller=Ticketing&action=NoteList")){var i=this;i.showNoteModal=!0,i.modalNoteTaskItem=t,this.ProjectId=t.PROJECT_ID}}else{i=this;i.showNoteModal=!0,i.modalNoteTaskItem=t,this.ProjectId=t.PROJECT_ID}},TeamTimeAllocation:function(t){var e=this;e.showAllocationModal=!0,e.AllocationModal=t,e.modalAddEditTaskId=t.TASK_ID,e.ProjectId=t.PROJECT_ID,e.TaskTeam=e.Team,e.itemHours=t.ALLOCATE_HOURS,e.TaskHours=t.ESTIMATED_HOURS,e.sDate=moment(t.START_DATE).format("MM/DD/YYYY"),e.eDate=moment(t.END_DATE).format("MM/DD/YYYY"),e.rowIndexNested=t.ItemIndex},openProjectNoteModel:function(t,e){var a=this;""!=t&&null!=t?this.GetPrivilege("controller=Project&action=EditNote")&&(this.TaskId1=e,this.showAddNoteModal=1!=this.showAddNoteModal,this.modalNoteItem=t,this.header=a.$t("EditNotes")):this.GetPrivilege("controller=Project&action=AddNoteInProject")&&(this.TaskId1=e,this.showAddNoteModal=1!=this.showAddNoteModal,this.header=a.$t("AddNotes"))},showTrackPercent:function(t){var e=0;return e=t.TRACKED_HOURS/(3600*t.ALLOCATE_HOURS),e*=100,e=parseFloat(e,10).toFixed(1),e=e<=0||isNaN(e)||"infinity"==e.toLowerCase()?100:100-e,Math.sign(e)<0&&(e=0),e=Math.round(parseFloat(e,10)),e},RequestTimeBtn:function(t){this.showRequestTimeModal=!0,t.StopTimerBtn=!1,t.UpdateProgress=!1,t.AddManualy=!1,this.SelectedItem=t,this.TRACKED_HOURS=this.convertSecondsToHHMMSSNew(t.TRACKED_HOURS)},OpenCommentModel:function(t){var e=this;e.showCommentModal=!0,e.SelectedItem=t},formatDate:function(t){if(t)try{var e="hh:mm A";e=String(e).replace("t","A").replace("t","");var a=new Date(moment(String(t)).year(),moment(String(t)).month(),moment(String(t)).date(),moment(String(t)).hours(),moment(String(t)).minutes());return moment(a,"YYYY-MM-DD HH:mm:ss").format(String("M/dd/yyyy").toUpperCase()+" "+String(e))}catch(s){e="hh:mm A";return e=String(e).replace("t","a").replace("t",""),moment(String(t)).format(String("M/dd/yyyy").toUpperCase()+" "+String(e))}},convertDecimalValueInFormat:function(t){try{return t=parseFloat(t,10),t=t.toFixed(2),t=parseFloat(t,10),t=t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),t}catch(e){return t}},ProgressDivOpen:function(t){this.showUpdateProgressModal=!0,t.StopTimerBtn=!0,t.UpdateProgress=!0,this.SelectedItem=t},StartTime:function(t,e,a,s){if(this.GetPrivilege("controller=Timer&action=Index")){var i=this;i.isLoading=!0;var o=!1,r=!1,l=!1;i.chkStatusForPause=o;var d=i.CurrentDate("date",i.Timer);n["a"].GetApprovalStatusForWeekly("date="+d).then((function(n){var d=JSON.parse(n.data.bodyText);if(0==d.val&&$("#hdnStatusCode").val(1),"0"==$("#hdnStatusCode").val()&&(i.ShowAlert(i.$t("EtreesApprovedpending"),"warning",!0,i.$t("Alert")),$("#hdnStatusCode").val(0),l=!0),!l){if("PAUS"!=s.RUNNING_STATUS&&"ACT"!=s.RUNNING_STATUS||(r=!0),!r){var c=$.grep(i.ToDoListData,(function(t,e){return"PAUS"==t.RUNNING_STATUS||"ACT"==t.RUNNING_STATUS}));null!=c&&c.length>0&&(r=!0)}r?i.confirmR(i.$t("TicketingStartTimerMessage"),!0,"Alert",(function(){o=!0,i.chkStatusForPause=o,$.each(i.ToDoListData,(function(t,e){e.TASK_ID==e.RUNNING_STATUS_ID&&1==i.chkStatusForPause&&"PAUS"==e.RUNNING_STATUS&&i.StopTime(e.IS_BILLABLE,e.RUNNING_STATUS_ID,e.TASK_ID,e,i.companyId,e.USER_ID,e.TRACK_ID)})),setTimeout((function(){i.AjaxStartTimer(t,e,a,s)}),200)})):i.AjaxStartTimer(t,e,a,s)}i.isLoading=!1}))}},StopTime:function(t,e,a,s,i,o,r){var l=this;l.isLoading=!0,n["a"].StartStopTimer({isBillable:t,trackId:e,taskId:a,type:"stopTimer"}).then((function(e){e>0?"PAUS"==s.RUNNING_STATUS?(n["a"].GetIncompleteEntry().then((function(e){var n=JSON.parse(e.bodyText);null==n.result?l.SaveTimeEntry("stop","0",r,i,o,a,s.projectId,t,n,s):l.RefreshTimer()})),l.FetchDataKanban("kanban",null)):($("#navbarResponsive").find("a#btnTimer").removeClass("forceshow"),l.FetchDataKanban("kanban",null),l.RefreshTimer()):(l.isLoading=!1,l.ShowAlert(l.$t("DisablePauseTimerMessage"),"failure",!0,l.$t("Alert")))}))},PauseResumeTime:function(t,e,a,s,i,o,r,l){var d=this;d.isLoading=!0;var c=d.CurrentDate("date",d.Timer);n["a"].GetApprovalStatusForWeekly("date="+c).then((function(c){var u=JSON.parse(c.data.bodyText);if(0==u.val&&$("#hdnStatusCode").val(1),"0"==$("#hdnStatusCode").val())return d.ShowAlert(u.msg,"warning",!0,d.$t("EtreesApprovedpending")),!1;if("no"==d.DisableTimer||"null"==d.DisableTimer){d.isLoading=!0,n["a"].GetIncompleteEntry().then((function(n){var c=JSON.parse(n.data.bodyText);null==c.result?(d.chkStatusForPause=!1,d.SaveTimeEntry(t,"0",e,a,s,i,o,r,c,l)):d.ShowAlert(d.$t("Something_Wrong"),"failure",!0,d.$t("Alert")),"1",d.isLoading=!1}))}else d.isLoading=!1,d.ShowAlert(d.$t("DisablePauseTimerMessage"),"failure",!0,d.$t("Alert"))}))},SaveTimeEntry:function(t,e,a,s,i,o,r,l,d,c){var u=this,p="12",m=a,h="",g="Web",f=s,v=i,T=r,S=o,_=0;_=0==l?0:1;var C="";C=d.ParentStartDate;var D=moment(C),w=moment(P),b=moment(w,"DD/MM/YYYY hh:mm:ss").diff(moment(D,"DD/MM/YYYY hh:mm:ss")),A=moment.duration(b),I=moment.utc(A.asMilliseconds()).format("HH:mm:ss"),y=u.convertHHmmssToSeconds(I);if(y-=parseInt(d.ResumeHours,10),"stop"==t&&"PAUS"==c.RUNNING_STATUS&&(t="stopresume"),"resume"==t){C=u.FromJsDateTime(u.CurrentDate("time",u.Timer));y=u.convertSecondsToHHMMSSNew(d.ResumeHours);y-=parseInt(d.ResumeHours,10)}var P="";P=u.FromJsDateTime(u.CurrentDate("time",u.Timer)),n["a"].SaveTimeEntry({trackId:m,trackDescription:h,startTime:C,stopTime:P,isBillable:_,companyId:f,createdBy:v,trackAgent:g,projectId:T,taskId:S,timerStatus:t,totalhours:y,timeformat:p,TagIds:"",isForcedUpdate:e}).then((function(t){if("overlap"==t.data.Status){var e=$("#alert");return e.html('<div class="grapghloader">&nbsp; </div>'),e.dialog("open"),e.html(obj1.viewString),d.UserMsg="",!1}u.FetchDataKanban("kanban",null),u.RefreshTimer()}))},FromJsDateTime:function(t){return Globalize.format(t,"M/dd/yyyy hh:mm A")},convertHHmmssToSeconds:function(t){var e=t.split(":"),a=60*parseInt(e[0],10)*60,s=60*parseInt(e[1],10),i=parseInt(e[2],10),n=a+s+i;return n},RefreshTimer:function(){setTimeout((function(){$.ajax({url:"/Timer/TimerNew",type:"GET",success:function(t){$("#divtimernewdata").html(t),hideLoader()},error:function(t,e,a){hideLoader()},complete:function(t,e,a){hideLoader()},beforeSend:function(t,e,a){}})}),1e3)},AjaxStartTimer:function(t,e,a,s){var i=this;i.isLoading=!0,n["a"].StartStopTimer({isBillable:t,trackId:e,taskId:a,type:"startTimer"}).then((function(t){t>0?(i.FetchDataKanban("kanban",null),i.RefreshTimer(),i.isLoading=!1,"PAUS"!=s.RUNNING_STATUS&&"ACT"!=s.RUNNING_STATUS||(s.MannualyBtn=!1,s.AutomaticBtn=!1)):(i.ShowAlert(i.$t("DisablePauseTimerMessage"),"failure",!0,i.$t("Alert")),i.isLoading=!1)}))},convertSecondsToHHMMSSNew:function(t){if(t>0){var e=this.convertHours(t),a=this.getRemainingMinutes(t);a=60==a?"00":a;var s=this.getRemainingSeconds(t);return e<10&&(e="0"+e),a<10&&(a="0"+a),s<10&&(s="0"+s),e+":"+a+":"+s}return t},convertHours:function(t){var e=this.convertMinutes(t),a=Math.floor(e/this.minutesPerHour);return a},convertMinutes:function(t){return Math.floor(t/this.secondsPerMinute)},getRemainingMinutes:function(t){var e=this.convertMinutes(t);return e%this.minutesPerHour},getRemainingSeconds:function(t){return t%this.secondsPerMinute},CurrentDate:function(t,e){var a=new Date($("#VirtualTime").val());if("date"==t){var s=a.getMonth()+1,i=(a.getFullYear(),a.getDate(),"");return s<10&&(s="0"+s),i=Globalize.format(a,"d",Globalize.culture().name),i}return"time"==t?Globalize.format(a,"M/dd/yyyy "+Globalize.culture().calendar.patterns.T):a},MannualDiv:function(t){var e=this;if(this.GetPrivilege("controller=Timer&action=Index")){e.SelectedItem=t;var a=!1,s=e.encCompanyId,i=e.encUserId,o=e.encTrackId,r=e.CurrentDate("date",e.Timer),l="/Timer/GetApprovalStatusForWeekly?date="+r;n["a"].GetApprovalStatusForWeekly(l).then((function(n){var r=JSON.parse(n.data.bodyText);if(0==r.val&&$("#hdnStatusCode").val(1),"0"==$("#hdnStatusCode").val())return e.ShowAlert(e.$t("EtreesApprovedpending"),"failure",!0,e.$t("Alert")),$("#hdnStatusCode").val(0),!1;if(!a){var l=$.grep(e.ToDoListData,(function(t,e){return"PAUS"==t.RUNNING_STATUS||"ACT"==t.RUNNING_STATUS}));null!=l&&l.length>0&&(a=!0)}a?e.confirmR(e.$t("ManualEntryTimerRunning"),!0,"Alert",(function(){e.StopTime(l[0].IS_BILLABLE,l[0].RUNNING_STATUS_ID,l[0].TASK_ID,t,s,i,o),e.showAddManuallyModal=!0,e.AddManuallyModalItem=t,t.AddManualy=!0,t.RequestTimeBtn=!1,t.StopTimerBtn=!1,t.MannualyBtn=!0,t.AutomaticBtn=!0,e.PROJECT_ID=t.PROJECT_ID,e.TASK_ID=t.TASK_ID})):(e.showAddManuallyModal=!0,e.AddManuallyModalItem=t,t.AddManualy=!0,t.RequestTimeBtn=!1,t.StopTimerBtn=!1,t.MannualyBtn=!0,t.AutomaticBtn=!0,e.PROJECT_ID=t.PROJECT_ID,e.TASK_ID=t.TASK_ID)}))}},TicketAsssignTrasfer:function(t,e,a,s){if("Ticketing"==this.moduleName&&this.GetPrivilege("controller=Ticketing&action=LoadTransferTab")){if("Closed"==a.STATUS_NAME)return this.ShowAlert(this.$t("SorryThetickethavebeenclosed"),"warning",!0,this.$t("Alert")),!1;$("#divAssignTransfer").data("dailogdata",{ticketId:a.STR_LINKED_SOURCE_ID}).dialog("open")}},ProjectQuickView:function(t,e,a,s){var i=this;"Ticketing"==i.moduleName?this.GetPrivilege("controller=Ticketing&action=Manage")&&(i.isLoading=!0,n["a"].TicketingManage({ticketId:a.STR_LINKED_SOURCE_ID,type:"dashboard"}).then((function(t){i.isLoading=!1,setTimeout((function(){$("#divTicketData").dialog("open")}),500),$("#divTicketData").html(t)}))):(this.ShowManageProjectQuickView=!0,this.modalProjectId=t,this.modalTaskId=e,this.QuickViewType=s,this.SelectedItem=a,"resources"==s?(i.IsViewResourcesClicked=!0,i.QuickViewType=""):i.IsViewResourcesClicked=!1)},sortedArray:function(t,e){var a=this;function s(t,e){return"ASC"==a.sortDirection?t.TASK_NAME.toLowerCase()>e.TASK_NAME.toLowerCase()?-1:t.TASK_NAME.toLowerCase()<e.TASK_NAME.toLowerCase()?1:0:t.TASK_NAME.toLowerCase()<e.TASK_NAME.toLowerCase()?-1:t.TASK_NAME.toLowerCase()>e.TASK_NAME.toLowerCase()?1:0}return"ASC"==a.sortDirection?(a.sortDirection="DESC",t.SortIcon="fa-sort-alpha-asc"):(a.sortDirection="ASC",t.SortIcon="fa-sort-alpha-desc"),a.sortDirectionIndex=e,t.data.sort(s)},checkMove:function(t){return this.DraggedFromElementStatus=t.draggedContext.element.STATUS,"completed"!=String(t.draggedContext.element.STATUS).toLowerCase()&&"upcoming"!=String(t.draggedContext.element.STATUS).toLowerCase()},onStart:function(t){try{this.DraggedFromElementStatus=t.item._underlying_vm_.STATUS}catch(e){console.log("Exception on onStart Method"),console.log(e)}if($(t.srcElement).attr("status")==$(t.target).attr("status"))return!1},onEnd:function(t){this.DraggedToElementStatus=t.to.getAttribute("status"),"undefined"!=typeof this.DraggedElementStatus&&""!=this.DraggedElementStatus&&null!=this.DraggedElementStatus&&"0"!=this.DraggedElementStatus||(this.DraggedElementStatus=$(t.to).closest(".cards-content").attr("data-statusid")),this.UpdateStatusDragDrop()},ChangeStatusDrag:function(t,e){var a=this;"undefined"!=typeof t.added&&(console.log("NewEvetn",t),a.DraggedElementTaskId=t.added.element.TASK_ID,a.DraggedElementStatus=e)},UpdateStatusDragDrop:function(){var t=this,e=!1,a=String(t.DraggedFromElementStatus).toLocaleLowerCase(),s=String(t.DraggedToElementStatus).toLocaleLowerCase();if(""==a||null==t.DraggedElementTaskId)return!1;if(("overdue"!=a||"inprogress"!=s&&"completed"!=s)&&("pending"!=a||"inprogress"!=s&&"completed"!=s)?"inprogress"==a&&"completed"==s&&(e=!0):e=!0,e){var i={ID:t.DraggedElementTaskId,StatusId:t.DraggedElementStatus,IsFor:"TODOKANBANLISTING"},o=JSON.stringify(i);n["a"].CommonUpdateStatus(o).then((function(e){t.isLoading=!0,null!=e.data&&"Success"===JSON.parse(e.data.bodyText).status?(t.HeaderDataPending=[],t.HeaderDataInprogress=[],t.PageNumber=1,$("#hdfStartIndex").val(1),$("#hdfEndIndex").val(100),t.ShowAlert(t.$t("RecordsUpdatedSuccessfully"),"success",!0,t.$t("Alert")),t.$emit("fetch-count-list","kanban"),t.FetchDataKanban("kanban",checkVueList.users),loadReports()):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert")),t.DraggedElementTaskId=null}))}else t.DraggedElementTaskId=null,t.FetchDataKanban("kanban",null),t.ShowAlert("Dragging between these two status is not allowed.","warning",!0,t.$t("Alert"));t.isLoading=!1,setTimeout((function(){t.SetScrolbar("dark-thick",null,"scrollbarmini")}),500)},onStatusList:function(){var t=this,e=`langCode=en&companyId=${t.CompanyId}&statusType=Project&hasglobal=true`;t.isLoading=!0,n["a"].statusdropdown(e).then((function(e){if("Success"==e.data.status){var a=e.data.result;t.StatusList=a.data,t.activeData=$.grep(t.StatusList,(function(t,e){return"PNPGRS"==t.STATUS_CODE})),t.pendingData=$.grep(t.StatusList,(function(t,e){return"REFPEN"==t.STATUS_CODE}))}}))},FetchDataKanban:function(t,e){var a=this;a.isLoading=!0;location.href;"undefined"==typeof e&&(e=null);var s=0;a.PageNumber>1&&(s=1);var i=a.ApiURLKanban+"&pageSize=10&pageNumber="+this.PageNumber+"&sortBy=&sortExp=&searchCondition=&projectId="+a.SelectedProjectIds+"&type="+t+"&userIds="+e+"&isPartial="+s;n["a"].ToDoListDashboard(i).then((function(t){a.isLoading=!1,a.HeaderDataPending=[],a.HeaderDataInprogress=[];var i=t.data.result.DATA;if(0==s&&a.ShowDataArray(),"L"==a.ViewType?$.each(a.DataArray,(function(t,a){"unassigned"==a.name&&null!=e?a.show=0:a.show=1})):$.each(a.DataArray,(function(t,e){"pending"==e.name||"inprogress"==e.name?e.show=1:e.show=0})),null!=i&&i.length>0)if("undefined"!=typeof i){if(0==s)a.ToDoListData=i,$.each(a.DataArray,(function(t,e){var s=e.name,n=$.grep(i,(function(t,e){return t.STATUS.toLowerCase()==s})),o=$.grep(a.DataArray,(function(t,e){return t.name==s}));o[0].count=n.length,"unassigned"==s&&null!=n&&"undefined"!=typeof n[0]&&(o[0].count=n[0].count_data),o[0].data=n,"undefined"!=typeof n[0]&&(o[0].StatusId=n[0].STATUS_ID)}));else{var n="unassigned",o=i,r=$.grep(a.DataArray,(function(t,e){return t.name==n}));o.length>0&&(r[0].data=r[0].data.concat(o),r[0].count=o[0].count_data),"undefined"!=typeof o[0]&&(r[0].StatusId=o[0].STATUS_ID)}a.TagData=t.data.result.TAGDATA,a.PendingProject=t.data.result.DATA[0].PENDINGRECORDS,a.InProgressProject=t.data.result.DATA[0].PROGRESSRECORDS}else a.HeaderDataPending=[],a.HeaderDataInprogress=[],a.InProgressProject=0,a.PendingProject=0;else a.HeaderDataPending=[],a.HeaderDataInprogress=[],a.InProgressProject=0,a.PendingProject=0;a.SelectedProjectIds="",setTimeout((function(){$(".scrollbarminiunassigned").scroll((function(t){t.stopImmediatePropagation(),console.log(parseInt($(".scrollbarminiunassigned").scrollTop(),10)>parseInt($(".scrollbarminiunassigned .list-group").height()-$(window).height(),10)-100),parseInt($(".scrollbarminiunassigned").scrollTop(),10)>parseInt($(".scrollbarminiunassigned .list-group").height()-$(window).height(),10)-100&&(a.PageNumber=a.PageNumber+1,a.FetchDataKanban("kanban",null))}))}),1e3)}))},filterByProject:function(){var t=this;t.SelectedProjectIds="",t.SelectedProjects.length>0&&(t.SelectedProjectIds=t.SelectedProjects.map(t=>t.ProjectId).join(",")),t.FetchDataKanban("kanban",checkVueList.users)},resetProjectFilter:function(){var t=this;t.SelectedProjects=[],t.SelectedProjectIds="",t.FetchDataKanban("kanban",checkVueList.users)},refreshProjectDropDown:function(){var t=this;checkVueList.users?n["a"].ProjectListDashboard("?userIds="+checkVueList.users).then((function(e){"Success"==e.data.status&&(t.ProjectList=e.data.result.DATA)})):t.ProjectList=JSON.parse("@Html.Raw(projectList)")}}}),J=z,q=(a("68b8"),Object(p["a"])(J,W,Y,!1,null,null,null)),Q=q.exports,X={components:{DateRange:N,WidgetReport:U,CountList:H,ToDoList:Q},data(){return{titleName:"",moduleName:"Expenses",widgets:[],viewType:"R",fromDate:null,toDate:null,MenuButton:!1,toDos:[],encCompanyId:null,encUserId:null,encTrackId:null,fromDt:null,toDt:null,IsReport:!1}},created:function(){this.ClickTimer("Month",null,"global"),this.GetReports()},methods:{OnAddMore(){this.$refs.widget.$data.showReports=!0},CloseReport(){this.IsReport=!1},FetchCountListData(t){this.$refs.countList.$data.FetchData(t,this.$refs.countList.$data.users)},GetStartEndDates(t,e,a){var s=this;s.isLoading=!0;var i=`DateSpan=${t.toLowerCase()}&report=${$("#hdnGroupBy").val()}`;n["a"].GetStartEndDate_New(i).then((function(t){s.isLoading=!1;var e=t.data;s.fromDate=e.dateStart,s.toDate=e.dateEnd;var i=e.dateStart,n=e.dateEnd;$("#txtFromDate_"+a).val(e.dateStart),$("#txtToDate_"+a).val(e.dateEnd),$("#aDateLable_"+a).find("em").text(e.displayText),s.$emit("set-date",e.dateStart,e.dateEnd),"global"!=a&&setTimeout(()=>{s.FetchDataSingle(a,i,n)},500)}))},ClickTimer(t,e,a){var s=this;$("#hdnViewId").val($(e).parent().attr("id")),$("#hdnViewId").val()==$("#hdnPinnedViewId").val()?($("#idPinView").closest(".btnPin").addClass("pinmyview"),$("#idPinView").closest(".btnPin").removeClass("unpinmyview")):($("#idPinView").closest(".btnPin").addClass("unpinmyview"),$("#idPinView").closest(".btnPin").removeClass("pinmyview")),$(".btnPin").show(),"global"==$(e).closest("div.DatePopUp").attr("data-pageaction")?($(e).closest(".date_range").find("#aDateLable_global").find("em.text-white").html("").html($(e).text()),s.isLoading=!0,$("#dashbord-graph-widget").find(".ticketingDashboardHead").each((function(){$(this).find(".DatePopUp").find("a[class="+t+"]").trigger("click"),$(this).find(".DatePopUp").hide()})),"Today"==t?s.GetStartEndDates(t,e,a):"Yesterday"==t?s.GetStartEndDates("yesterday",e,a):"Week"==t?s.GetStartEndDates("thisweek",e,a):"LastWeek"==t?s.GetStartEndDates("lastweek",e,a):"Month"==t?s.GetStartEndDates("thismonth",e,a):"LastMonth"==t?s.GetStartEndDates("lastmonth",e,a):"AllTime"==t&&s.GetStartEndDates("thisyear",e,a),s.isLoading=!1):"Today"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates(t,e,a)):"Yesterday"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates("yesterday",e,a)):"Week"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),s.GetStartEndDates("thisweek",e,a)):"LastWeek"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),s.GetStartEndDates("lastweek",e,a)):"Month"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),s.GetStartEndDates("thismonth",e,a)):"LastMonth"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),s.GetStartEndDates("lastmonth",e,a)):"AllTime"==t&&($(e).closest(".date_range").find("#hdnDateSpan").val("day"),s.GetStartEndDates("thisyear",e,a)),$(e).closest(".date_range").find("#imgNext").show(),$(e).closest(".date_range").find("#imgPrev").show()},GetToDoList(){var t=this;n["a"].gettoDoList("ModuleName="+t.moduleName).then((function(e){t.encCompanyId=e.data.COMPANY_ID,t.encUserId=e.data.CREATED_BY,t.encTrackId=e.data.TRACK_ID}))},GetReports(){var t=this;t.isLoading=!0,n["a"].GetReports("moduleName="+t.moduleName).then((function(e){t.isLoading=!1,t.widgets=e.data.list,t.GetToDoList()}))},SetDateRange(t,e){this.fromDate=t,this.toDate=e,this.GetReports()},MyViews(){this.$refs.countList.$data.showTeam=!1,this.$refs.countList.FetchData("kanban",null),this.$refs.todolist.FetchDataKanban("kanban",null),this.$refs.countList.users=null,this.GetReports()},TeamView(){this.$refs.countList.$data.showTeam=!0,this.$refs.countList.FetchData("kanban",null)},GetToDoList(){var t=this;t.isLoading=!0,n["a"].gettoDoList("ModuleName="+t.moduleName).then((function(e){t.isLoading=!1,console.log(e),t.encCompanyId=e.data.COMPANY_ID,t.encUserId=e.data.CREATED_BY,t.encTrackId=e.data.TRACK_ID}))},ddlChangeView(t){"R"==t?($("#divReportsdata, #divAddMoreReports").show(),$("#divReportsdata").addClass("col-md-12").removeClass("col-md-7").show(),$("#divReportsdata").find(".graph-widget").addClass("col-md-4").removeClass("col-md-6"),$("#divToDoList").hide()):"T"==t?($("#divToDoList").addClass("col-md-12").removeClass("col-md-5").show(),$("#divReportsdata").find(".graph-widget").addClass("col-md-6").removeClass("col-md-4").removeClass("col-lg-4").removeClass("col-xl-4"),$("#divReportsdata, #divAddMoreReports").hide()):($("#divToDoList").addClass("col-md-5").removeClass("col-md-12").show(),$("#divReportsdata").addClass("col-md-7").removeClass("col-md-12").show(),$("#divReportsdata").find(".graph-widget").addClass("col-md-6").removeClass("col-md-4").removeClass("col-lg-4").removeClass("col-xl-4"),$("#divReportsdata, #divAddMoreReports").show()),$("#ddlChangeView .spnChangeView").html($(this).html()),$(".taskclass").removeClass("col-md-8 col-lg-8").addClass("col-md-4 col-lg-4")}}},Z=X,tt=(a("1c49"),Object(p["a"])(Z,s,i,!1,null,null,null));e["default"]=tt.exports},"68b8":function(t,e,a){"use strict";var s=a("254a"),i=a.n(s);i.a},a03f:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,"#chartInTransitAssetList,.chartInTransitAssetListLegend{float:left}.legend span{margin-left:7px;margin-right:7px;padding:5px;margin-top:5px}.chartInTransitAssetListLegend .legned div{width:100%}.chartInTransitAssetListLegend .legend{max-height:328px;overflow-y:auto}.legend span{display:inline-block;margin-left:7px!important;margin-right:0!important;padding:5px!important;margin-top:7px!important;float:left!important;width:10px!important}.legend span.namespan{width:66%!important;float:right!important;text-align:left;margin:0!important;padding:0!important;margin-right:15px!important}",""]),t.exports=e},ae67:function(t,e,a){"use strict";var s=a("f01d"),i=a.n(s);i.a},c455:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".DatePopUp[data-v-218c3821]{width:320px}.divtimer_design table.AssetDatePopUp[data-v-218c3821]{margin-bottom:0;border:none;overflow:visible}.divtimer_design table.AssetDatePopUp td.daterangetd[data-v-218c3821]{padding:0!important;text-align:left;vertical-align:top;font-size:12px;border:none;overflow:visible}.divtimer_design table.AssetDatePopUp td.sep[data-v-218c3821]{border-right:1px solid #d2d2d2}.reporthead .divtimer_design table.AssetDatePopUp td.daterangetd[data-v-218c3821]{line-height:30px}.date_range_bi div.divtimer_design span[data-v-218c3821]{margin-top:0!important;color:#000}.divtimer_design .bootstrap-datetimepicker-widget[data-v-218c3821]{position:relative!important;top:auto!important;left:5px!important}.AssetDatePopUp tr td.daterangetd.date-range-column[data-v-218c3821]{max-width:114px!important;display:table-column!important;width:auto!important}.AssetDatePopUp tbody.daterangebody tr.daterangetr[data-v-218c3821]{display:table-row!important}.AssetDatePopUp ul.date_select[data-v-218c3821]{padding-right:8px}",""]),t.exports=e},f01d:function(t,e,a){var s=a("2f1d");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("6d739262",s,!0,{sourceMap:!1,shadowMode:!1})},f139:function(t,e,a){var s=a("24fb");e=s(!1),e.push([t.i,".taskclass .vue-treeselect__placeholder.vue-treeselect-helper-zoom-effect-off{padding-top:1px;line-height:20px}",""]),t.exports=e}}]);
//# sourceMappingURL=chunk-87d55718.js.map